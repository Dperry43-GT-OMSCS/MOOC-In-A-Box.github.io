(this["webpackJsonpmooc-in-a-box"]=this["webpackJsonpmooc-in-a-box"]||[]).push([[0],{215:function(e,t,a){},239:function(e,t,a){e.exports=a(526)},243:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){},509:function(e,t,a){},520:function(e,t,a){},521:function(e,t,a){},522:function(e,t,a){},523:function(e,t,a){},524:function(e,t,a){},525:function(e,t,a){},526:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getUserById",(function(){return ne})),a.d(n,"getCourseById",(function(){return re})),a.d(n,"getAllCourses",(function(){return oe})),a.d(n,"getAllUsers",(function(){return ce})),a.d(n,"updateUser",(function(){return se})),a.d(n,"createUser",(function(){return ie})),a.d(n,"getCurrentUser",(function(){return le})),a.d(n,"logUserInUser",(function(){return ue})),a.d(n,"signOut",(function(){return de})),a.d(n,"deleteUser",(function(){return me})),a.d(n,"createCourse",(function(){return pe})),a.d(n,"favoriteCourse",(function(){return fe})),a.d(n,"removeFavoriteCourse",(function(){return he})),a.d(n,"updateCourse",(function(){return ve})),a.d(n,"addNewChapter",(function(){return Ce})),a.d(n,"addNewLesson",(function(){return Ee}));var r=a(0),o=a.n(r),c=a(12),s=a.n(c),i=(a(243),a(9)),l=a.n(i),u=a(11),d=a(88),m=a(89),p=a(17),f=a(92),h=a(93),v=(a(245),a(579)),C=a(580),E=a(573),b=a(527),g=a(21),y=a(60),O=a(224),k=a.n(O),j=(a(246),a(15)),x=a(564),w=(a(5),a(567)),N=a(569),S=a(570),U=a(571),F=a(572),I=a(45),R=a(131),H=a(216),T=a.n(H),B=a(217),L=a.n(B),V=Object(x.a)((function(e){return{root:{maxWidth:345,minWidth:345,maxHeight:400,minHeight:400,position:"relative"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:R.a[500]},actionsRow:{position:"absolute",bottom:0,left:0},content:{paddingBottom:"1rem"}}}));function A(e){var t=V(),a=o.a.useState(!1),n=Object(j.a)(a,2),r=(n[0],n[1],o.a.useState(!1)),c=Object(j.a)(r,2),s=c[0],i=c[1];e.isCourseAFavorite!=s&&i(e.isCourseAFavorite);return o.a.createElement(w.a,{variant:"outlined",className:t.root},o.a.createElement(N.a,{title:e.course.title,subheader:e.course.owner.displayName,action:o.a.createElement(b.a,{"aria-label":"add to favorites",onClick:function(){console.log(e.course),s?(i(!1),e.removeFavoriteClicked(e.course)):(i(!0),e.favoriteClicked(e.course))}},s?o.a.createElement(T.a,null):o.a.createElement(L.a,null))}),o.a.createElement(S.a,{className:t.media,image:"/static/images/cards/paella.jpg",title:"Paella dish"}),o.a.createElement(U.a,{className:t.content},o.a.createElement(I.a,{variant:"body2",color:"textSecondary",component:"p"},e.course.description),o.a.createElement(I.a,{variant:"body2",color:"textSecondary",component:"p"},e.course.owner.displayName)),o.a.createElement(F.a,{className:t.actionsRow,disableSpacing:!0},o.a.createElement(E.a,{variant:"contained",color:"secondary",component:g.b,to:"/courseOverview/".concat(e.course.id)},"Overview")))}a(252);var z=a(581),D=a(223),M=a.n(D),P=a(594);a(509);var W=function(e){return o.a.createElement("div",{className:"search-bar"},o.a.createElement(P.a,{value:e.searchValue,onChange:e.onChange,id:"outlined-search",type:"search",variant:"outlined",color:"black"}),o.a.createElement(b.a,{className:"menu-button",onClick:e.onSearchClicked},o.a.createElement(M.a,{className:"search-bar-icon"})))},G=a(226),Y=a(599),J=a(574),$=a(575),K=a(578),Z=a(596),q=a(577);var X=function(e){return o.a.createElement(q.a,{value:e.value,control:o.a.createElement(Z.a,null),label:e.value})};var Q=function(e){var t=e.options.map((function(e){return o.a.createElement(X,{handleClick:e.associatedClickFunction,value:e.display})}));return o.a.createElement(G.a,{id:e.menuId,anchorEl:e.element,keepMounted:!0,open:Boolean(e.element),onClose:e.closeFunction},o.a.createElement(K.a,null,o.a.createElement(J.a,{component:"fieldset"},o.a.createElement($.a,{component:"legend"},e.menuLabel),o.a.createElement(Y.a,{"aria-label":"gender",name:e.radioGroupName,value:e.menuValue,onChange:function(t){e.closeFunction(t.target.value)}},t))))};var _=function(e){var t=e.menuItems.map((function(e){return o.a.createElement(E.a,{color:"inherit",className:"menu-button",onClick:e.clickedFunction},e.buttonText)})),a=e.menuItems.map((function(e){return o.a.createElement(Q,{element:e.element,closeFunction:e.closeFunction,options:e.menuOptions,menuId:e.menuId,menuLabel:e.buttonText})}));return o.a.createElement(v.a,{position:"static",className:"course-library-app-bar"},o.a.createElement(C.a,null,t,o.a.createElement(W,{searchValue:e.searchInfo.value,onChange:e.searchInfo.onChange,onSearchClicked:e.searchInfo.onClick})),a)},ee=a(52),te=a.n(ee);te.a.initializeApp({apiKey:"AIzaSyA8tAHYGUiNkFHq6452W4Qr79eibVmtRZA",authDomain:"mooc-in-a-box.firebaseapp.com",databaseURL:"https://mooc-in-a-box.firebaseio.com",projectId:"mooc-in-a-box",storageBucket:"mooc-in-a-box.appspot.com",messagingSenderId:"594314585164",appId:"1:594314585164:web:3ae152452d1c238af100e9",measurementId:"G-LXH34JCXZS"});var ae=te.a.firestore(),ne=function(e){return ae.collection("Users").doc(e).get()},re=function(e){return ae.collection("Course").doc(e).get()},oe=function(){return ae.collection("Course").get()},ce=function(){return ae.collection("Users").get()},se=function(){var e=Object(u.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Update User Called"),e.abrupt("return",ae.collection("Users").doc(t).set(a,{merge:!0}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae.collection("Users").doc(t.uid).set({id:t.uid,name:t.displayName,photoURL:t.photoURL,email:t.email},{merge:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=te.a.auth().currentUser;return e||void 0},ue=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t?new te.a.auth.GoogleAuthProvider:new te.a.auth.FacebookAuthProvider,n=[],r=void 0,o=void 0,e.next=6,ce().then((function(e){e.forEach((function(e){var t=e.data();t.id=e.id,n.push(t)}))}));case 6:return e.next=8,te.a.auth().signInWithPopup(a).then(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.user,n.forEach((function(e){e.id===o.uid&&(r=e)})),void 0!==r){e.next=5;break}return e.next=5,ie(o).then(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",le());case 1:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e)}));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.auth().signOut().then((function(){return document.cookie="userid=; expires=Thu, 01 Jan 1970 00:00:01 GMT;",!0})).catch((function(e){return console.log(e),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=te.a.auth().currentUser,e.next=3,t.delete().then((function(){return document.cookie="userid=; expires=Thu, 01 Jan 1970 00:00:01 GMT;",!0})).catch((function(e){return console.log(e),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te.a.storage(),n=ae.doc("Users/".concat(t.id)),r=ae.doc(a.chapter.lessons),a.chapter.lessons=r,e.next=6,ae.collection("Course").add({owner:n,title:a.title,description:a.description,chapters:a.chapters}).then(function(){var e=Object(u.a)(l.a.mark((function e(a){var n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.createdCoursesRefs&&t.createdCoursesRefs.length>0?t.createdCoursesRefs:[],r=ae.doc("Course/".concat(a.id)),n.push(r),o={createdCoursesRefs:n},e.next=6,se(t.id,o);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),fe=function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ae.doc("Course/".concat(a.id)),(r=t.favoritedCoursesRefs&&t.favoritedCoursesRefs.length>0?t.favoritedCoursesRefs:[]).push(n),o={favoritedCoursesRefs:r},e.next=6,se(t.id,o);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),he=function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ae.doc("Course/".concat(a.id)),(r=t.favoritedCoursesRefs).splice(n,1),o={favoritedCoursesRefs:r},e.next=6,se(t.id,o);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ve=function(){var e=Object(u.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Update Course Called"),e.abrupt("return",ae.collection("Course").doc(t).set(a,{merge:!0}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n={}).title=a.title,n.description=a.description,n.id=0,n.lessonsRef=[],t.chapters&&t.chapters.length>0||(t.chapters=[]),t.chapters.push(n),r={chapters:t.chapters},e.next=9,ve(t.id,r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(u.a)(l.a.mark((function e(t,a,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),be=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).sortByClicked=function(e){n.setState({sortByElement:e.currentTarget})},n.sortByHandleClose=function(e){n.setState({sortByElement:null,sortFilterValue:e})},n.topicClicked=function(e){n.setState({topicElement:e.currentTarget})},n.topicHandleClose=function(e){n.setState({topicElement:null,topicFilterValue:e})},n.organizationClicked=function(e){n.setState({organizationElement:e.currentTarget})},n.organizationHandleClosed=function(e){n.setState({organizationElement:null,organizationFilterValue:e})},n.buildMenuItems=function(){return[{buttonText:"Sort By",menuId:"menu-sort-by",clickedFunction:n.sortByClicked,closeFunction:n.sortByHandleClose,element:n.state.sortByElement,radioGroupName:"menuRadio",menuValue:n.state.sortFilterValue,menuOptions:[{display:"Newest",associatedClickFunction:n.sortByHandleClose},{display:"Recommended",associatedClickFunction:n.sortByHandleClose},{display:"Trending",associatedClickFunction:n.sortByHandleClose}]},{buttonText:"Topic",menuId:"menu-topic",clickedFunction:n.topicClicked,element:n.state.topicElement,closeFunction:n.topicHandleClose,radioGroupName:"topicRadio",menuValue:n.state.topicFilterValue,menuOptions:[{display:"Science",associatedClickFunction:n.topicHandleClose},{display:"Technology",associatedClickFunction:n.topicHandleClose},{display:"History",associatedClickFunction:n.topicHandleClose},{display:"Arts",associatedClickFunction:n.topicHandleClose}]},{buttonText:"Organization",menuId:"menu-organization",clickedFunction:n.organizationClicked,element:n.state.organizationElement,closeFunction:n.organizationHandleClosed,radioGroupName:"organizationRadio",menuValue:n.state.organizationFilterValue,menuOptions:[{display:"Required",associatedClickFunction:n.organizationHandleClosed},{display:"Recommended",associatedClickFunction:n.organizationHandleClosed},{display:"All Courses",associatedClickFunction:n.organizationHandleClosed}]}]},n.isCourseAFavorite=function(e,t){return!!(e.favoritedCourses&&e.favoritedCourses.length>0)&&e.favoritedCourses.find((function(e){return e.id===t.id}))},n.handleSearchChange=n.handleSearchChange.bind(Object(p.a)(n)),n.handleSearchClicked=n.handleSearchClicked.bind(Object(p.a)(n)),n.sortByClicked=n.sortByClicked.bind(Object(p.a)(n)),n.sortByHandleClose=n.sortByHandleClose.bind(Object(p.a)(n)),n.topicClicked=n.topicClicked.bind(Object(p.a)(n)),n.topicHandleClose=n.topicHandleClose.bind(Object(p.a)(n)),n.organizationClicked=n.organizationClicked.bind(Object(p.a)(n)),n.organizationHandleClosed=n.organizationHandleClosed.bind(Object(p.a)(n)),n.buildMenuItems=n.buildMenuItems.bind(Object(p.a)(n)),n.favoriteClicked=n.favoriteClicked.bind(Object(p.a)(n)),n.removeFavoriteClicked=n.removeFavoriteClicked.bind(Object(p.a)(n)),n.state={searchValue:"",sortByElement:null,topicElement:null,organizationElement:null,sortFilterValue:null,topicFilterValue:null,organizationFilterValue:null},n}return Object(m.a)(a,[{key:"handleSearchChange",value:function(e){this.setState({searchValue:e.target.value})}},{key:"handleSearchClicked",value:function(e){}},{key:"favoriteClicked",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("You favorited...",t),e.next=3,fe(this.props.user,t);case 3:this.props.updateUser(this.props.user.id);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeFavoriteClicked",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("You unfavorited...",t),e.next=3,he(this.props.user,t);case 3:this.props.updateUser(this.props.user.id);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.buildMenuItems(),t=this.favoriteClicked,a=this.isCourseAFavorite,n=this.removeFavoriteClicked,r=this.props.user,c={value:this.state.searchValue,onChange:this.handleSearchChange,onClick:this.handleSearchClicked},s=[];return r&&(s=this.props.courses.map((function(e){return o.a.createElement(z.a,{item:!0,s:4},o.a.createElement(A,{course:e,favoriteClicked:t,removeFavoriteClicked:n,isCourseAFavorite:a(r,e)}))}))),o.a.createElement("div",{class:"course-library"},o.a.createElement(_,{menuItems:e,searchInfo:c}),o.a.createElement("div",{className:"course-list"},o.a.createElement(z.a,{container:!0,spacing:3},s)))}}]),a}(o.a.Component),ge=(a(215),a(585)),ye=(a(520),a(228)),Oe=a(597),ke=a(582),je=a(583),xe=a(38),we=a.n(xe),Ne=a(576),Se=a(528),Ue=a(584);var Fe=function(e){return console.log(e),o.a.createElement(Oe.a,null,o.a.createElement(ke.a,{expandIcon:o.a.createElement(we.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},o.a.createElement(I.a,{variant:"subtitle2"},e.chapter.title)),o.a.createElement(je.a,null,o.a.createElement(z.a,{container:!0,spacing:2},o.a.createElement(z.a,{item:!0,xs:12,md:6},o.a.createElement("div",null,o.a.createElement(Ne.a,{dense:"true"},(t=o.a.createElement(Se.a,null,o.a.createElement(Ue.a,{primary:"SubTopic"})),[0,1,2].map((function(e){return o.a.cloneElement(t,{key:e})})))))))));var t};var Ie=function(e){console.log(e.course);var t=[];return e.course&&e.course.chapters&&e.course.chapters.length>0&&(t=e.course.chapters.map((function(e){return o.a.createElement(Fe,{chapter:e})}))),o.a.createElement(ye.a,{className:"paper"},t)};var Re=function(e){return o.a.createElement(ye.a,{className:"paper"},e.course.title)};var He=function(e){var t=Object(r.useState)(),a=Object(j.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(),i=Object(j.a)(s,2),l=(i[0],i[1]),u=Object(y.f)().id;return Object(r.useEffect)((function(){u&&(console.log("ID: ".concat(u)),re(u).then((function(e){console.log(e.exists),e.exists?(l(null),c(e.data())):(l("Course Not Found"),c())})).catch((function(){return l("Course Get Fail")})))}),[u]),console.log("Course Overiew: ",n),n?o.a.createElement("div",{className:"courseOverview"},o.a.createElement(I.a,{className:"center",variant:"h3",component:"h3"},"Course Overview"),o.a.createElement(z.a,{container:!0,spacing:3},o.a.createElement(z.a,{item:!0,xs:4},o.a.createElement(Ie,{course:n})),o.a.createElement(z.a,{item:!0,xs:8},o.a.createElement(Re,{course:n})))):o.a.createElement("div",null,"Loading...",o.a.createElement(ge.a,null))},Te=(a(521),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={user:void 0},n.loginGoogle=n.loginGoogle.bind(Object(p.a)(n)),n.loginFacebook=n.loginFacebook.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"loginGoogle",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(!0).then((function(e){a.props.completeLogin(e),a.props.history.push("/myCourses")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loginFacebook",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(!1).then((function(e){a.props.completeLogin(e),a.props.history.push("/myCourses")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",{className:"login"},o.a.createElement("h1",null,"Sign into Mooc in a Box"),o.a.createElement(E.a,{color:"inherit",className:"menu-button",onClick:this.loginFacebook},"Sign in with Facebook"),o.a.createElement(E.a,{color:"inherit",className:"menu-button",onClick:this.loginGoogle},"Sign in with Google"))}}]),a}(o.a.Component)),Be=Object(y.g)(Te),Le=(a(522),a(586)),Ve=a(587),Ae=a(87),ze=a.n(Ae);var De=function(e){return o.a.createElement(Oe.a,null,o.a.createElement(ke.a,{expandIcon:o.a.createElement(we.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},o.a.createElement(I.a,{variant:"subtitle2"},e.courses.length," Course(s)")),o.a.createElement(je.a,null,o.a.createElement(z.a,{container:!0,spacing:2},o.a.createElement(z.a,{item:!0,xs:12,md:6},o.a.createElement("div",null,o.a.createElement(Ne.a,{dense:"true"},e.courses.map((function(t){return o.a.createElement("span",null,o.a.createElement(Se.a,null,o.a.createElement(E.a,{component:g.b,to:"/courseOverview/".concat(t.id)},t.title),e.includeEditIcon&&o.a.createElement(b.a,{className:"menu-button",color:"inherit","aria-label":"menu",component:g.b,to:"/editCourse/".concat(t.id)},o.a.createElement(ze.a,null))))}))))))))};function Me(e){console.log("Current Courses Component Props",e);var t=e.currentCourses.length;return console.log(t),o.a.createElement("div",null,o.a.createElement("h1",null," Current Courses "),o.a.createElement(De,{courses:e.currentCourses}))}function Pe(e){return console.log("Past Courses Component Props: ".concat(e)),o.a.createElement("div",null,o.a.createElement("h1",null," Past Courses "),o.a.createElement(De,{courses:e.pastCourses}))}function We(e){return console.log("Saved Courses Component Props: ".concat(e)),o.a.createElement("div",null,o.a.createElement("h1",null," Favorited Courses "),o.a.createElement(De,{courses:e.savedCourses}))}function Ge(e){return console.log("Created Courses Component Props: ",e),o.a.createElement("div",null,o.a.createElement("h1",null," Created Courses "),o.a.createElement(De,{courses:e.createdCourses,includeEditIcon:!0}))}var Ye=function(e){console.log("My Courses Component: ",e);var t=Object(r.useState)(),a=Object(j.a)(t,2),n=a[0],c=a[1];if(o.a.useEffect((function(){console.log("My Courses - Resetting State"),c(e.user)}),[e]),n){console.log("My Courses - My User ===",n);var s=[];console.log(n.favoritedCourses);var i=!1;if(n.currentCourses&&n.currentCourses.length>0){var l=o.a.createElement(Me,{currentCourses:n.currentCourses});s.push(l),i=!0}if(n.pastCourses&&n.pastCourse.length>0){var u=o.a.createElement(Pe,{pastCourses:n.pastCourses});s.push(u),i=!0}if(n.favoritedCourses&&n.favoritedCourses.length>0){var d=o.a.createElement(We,{savedCourses:n.favoritedCourses});s.push(d),i=!0}if(n.createdCourses&&n.createdCourses.length>0){var m=o.a.createElement(Ge,{createdCourses:n.createdCourses});s.push(m),i=!0}return i?o.a.createElement("div",{className:"MyCourses"},o.a.createElement(Le.a,null),o.a.createElement(I.a,{className:"center",variant:"h3",component:"h3"},"My Courses"),o.a.createElement(Ve.a,{maxWidth:"lg"},o.a.createElement(ye.a,{className:"paper"},s.map((function(e){return e}))))):o.a.createElement("div",{className:"MyCourses"},o.a.createElement(Le.a,null),o.a.createElement(I.a,{className:"center",variant:"h3",component:"h3"},"My Courses"),o.a.createElement(Ve.a,{maxWidth:"lg"},o.a.createElement(ye.a,{className:"paper"},o.a.createElement("h4",null,"You don't have any courses saved yet!"))))}return o.a.createElement("div",null,"Loading..",o.a.createElement(ge.a,null))},Je=(a(523),a(592)),$e=a(598),Ke=a(591),Ze=a(589),qe=a(590),Xe=a(588);var Qe=function(e){return o.a.createElement("div",null,o.a.createElement($e.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(Xe.a,{id:"form-dialog-title"},e.field),o.a.createElement(Ze.a,null,o.a.createElement(qe.a,null,"Edit the Field below to update your ",e.field),o.a.createElement(P.a,{autoFocus:!0,margin:"dense",id:"name",label:e.field,value:e.value,onChange:e.onChange,type:"email",fullWidth:!0})),o.a.createElement(Ke.a,null,o.a.createElement(E.a,{onClick:e.handleClose,color:"secondary"},"Cancel"),o.a.createElement(E.a,{onClick:e.handleSubmit,color:"secondary"},"Submit"))))},_e={displayName:"Display Name",email:"Email Address",password:"Password"};var et=function(e){return o.a.createElement("div",null,o.a.createElement(I.a,{align:"center",variant:"h6",component:"h6"},o.a.createElement("strong",null,e.displayValue)),o.a.createElement(I.a,{align:"center",variant:"body1",component:"body1"},o.a.createElement("span",null,e.value,o.a.createElement(b.a,{className:"menu-button",color:"inherit","aria-label":"menu"},o.a.createElement(ze.a,{onClick:e.openDialog})))),o.a.createElement(Qe,{isOpen:e.isDialogOpen,handleClose:e.handleClose,handleSubmit:e.handleSubmit,field:_e[e.displayKey],value:e.value,onChange:e.onChange}))};var tt=Object(y.g)((function(e){console.log(e);var t=Object(r.useState)(null),a=Object(j.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(null),i=Object(j.a)(s,2),d=i[0],m=i[1],p=Object(r.useState)(),f=Object(j.a)(p,2),h=(f[0],f[1],Object(r.useState)(!1)),v=Object(j.a)(h,2),C=v[0],b=v[1],g=Object(r.useState)(null),y=Object(j.a)(g,2),O=y[0],k=y[1],x=Object(r.useState)(null),w=Object(j.a)(x,2),N=w[0],S=w[1],U=Object(r.useState)(!1),F=Object(j.a)(U,2),R=F[0],H=F[1];function T(){return(T=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,de().then((function(t){t&&(e.history.push("/"),e.updateUser(void 0))}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function B(){return(B=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me().then((function(t){t&&(e.history.push("/"),e.updateUser(void 0))}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.user&&null===n&&null===O&&(c(e.user.displayName),k(e.user.interests)),e.user?o.a.createElement("div",{className:"userProfile"},o.a.createElement(Le.a,null),o.a.createElement(I.a,{className:"center",variant:"h3",component:"h3"},"User Profile"),o.a.createElement(Ve.a,{className:"userProfile-bottom-padding",maxWidth:"lg"},o.a.createElement(ye.a,{className:"paper"},o.a.createElement(et,{displayValue:"User Interests",value:O,handleClose:function(){k(N),H(!1)},handleSubmit:function(){se(e.user.id,{interests:O}).then((function(t){H(!1),k(O),e.updateUser(e.user.id)})).catch((function(e){console.log(e)}))},isDialogOpen:R,openDialog:function(){S(O),H(!0)},onChange:function(e){k(e.target.value)}}))),o.a.createElement(Je.a,null),o.a.createElement(Ve.a,{maxWidth:"lg"},o.a.createElement(ye.a,{className:"paper"},o.a.createElement(et,{displayValue:"Display Name",value:n,handleClose:function(){c(d),b(!1)},handleSubmit:function(){se(e.user.id,{displayName:n}).then((function(t){b(!1),m(n),e.updateUser()})).catch((function(e){console.log(e)}))},isDialogOpen:C,openDialog:function(){m(n),b(!0)},onChange:function(e){c(e.target.value)}}),o.a.createElement(Je.a,null),o.a.createElement(et,{displayValue:"Email",value:e.user.email}),o.a.createElement(Je.a,null),o.a.createElement(et,{displayValue:"Password",value:"*******"}),o.a.createElement(E.a,{color:"inherit",className:"menu-button",onClick:function(){return T.apply(this,arguments)}},"Sign out"),o.a.createElement(E.a,{color:"inherit",className:"menu-button",onClick:function(){return B.apply(this,arguments)}},"Delete account")))):o.a.createElement("div",null,"Loading..",o.a.createElement(ge.a,null))}));a(524);var at=function(e){var t=Object(r.useState)(),a=Object(j.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(),i=Object(j.a)(s,2),l=i[0],u=i[1];return o.a.createElement("div",null,o.a.createElement($e.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(Xe.a,{id:"form-dialog-title"},"Create A New Course"),o.a.createElement(Ze.a,null,o.a.createElement(qe.a,null,"Create a new course. Start by entering a title and description below!"),o.a.createElement(P.a,{autoFocus:!0,margin:"dense",id:"title",label:"Course Title",onChange:function(e){u(e.target.value)},type:"text",fullWidth:!0}),o.a.createElement(P.a,{autoFocus:!0,margin:"dense",id:"description",label:"Course Description",onChange:function(e){c(e.target.value)},type:"text",fullWidth:!0})),o.a.createElement(Ke.a,null,o.a.createElement(E.a,{onClick:e.handleClose,color:"secondary"},"Cancel"),o.a.createElement(E.a,{onClick:function(){console.log("Title: ".concat(l)),console.log("Description: ".concat(n));var t={title:l,description:n};e.handleSubmit(t)},color:"secondary"},"Submit"))))};function nt(e){return console.log("Created Courses Component Props: ".concat(e)),o.a.createElement("div",{className:"courses-section"},o.a.createElement("h1",null," Courses You've Created "),o.a.createElement(De,{courses:e.createdCourses,includeEditIcon:!0}))}var rt=function(e){console.log(e.user);var t=Object(r.useState)(!1),a=Object(j.a)(t,2),n=a[0],c=a[1];function s(){return(s=Object(u.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.owner=e.user.id,n={id:0,lessons:"Course/rlfxOavBn4nPZLNTRMkL/Lessons/kL5CwNARpoUhexocK7P4",sectionTitle:"".concat(a.title," - Section")},a.chapters=[],a.chapter=n,t.next=6,pe(e.user,a);case 6:c(!1),e.updateCourses(),e.updateUser(e.user.id);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var i=null;return i=e.user&&e.user.createdCourses&&e.user.createdCourses.length>0?o.a.createElement(nt,{createdCourses:e.user.createdCourses}):o.a.createElement("h3",null,"You have not created any courses"),o.a.createElement("div",{className:"Home"},o.a.createElement(Le.a,null),o.a.createElement(I.a,{className:"center",variant:"h3",component:"h3"},"Create A Course"),o.a.createElement(Ve.a,{className:"userProfile-bottom-padding",maxWidth:"lg"},o.a.createElement(ye.a,{className:"paper"},i,o.a.createElement("span",null,o.a.createElement(E.a,{variant:"contained",color:"secondary",onClick:function(){c(!0)}},"Create New Course")))),o.a.createElement(Je.a,null),o.a.createElement(at,{isOpen:n,handleClose:function(){c(!1)},handleSubmit:function(e){return s.apply(this,arguments)},user:e.user}))};a(525);function ot(e){return[0,1,2].map((function(t){return o.a.cloneElement(e,{key:t})}))}var ct=function(e){return console.log(e),o.a.createElement(ye.a,{className:"paper"},o.a.createElement(Oe.a,null,o.a.createElement(ke.a,{expandIcon:o.a.createElement(we.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},o.a.createElement(I.a,{variant:"subtitle2"},"Topic 1")),o.a.createElement(je.a,null,o.a.createElement(z.a,{container:!0,spacing:2},o.a.createElement(z.a,{item:!0,xs:12,md:6},o.a.createElement("div",null,o.a.createElement(Ne.a,{dense:"true"},ot(o.a.createElement(Se.a,null,o.a.createElement(Ue.a,{primary:"SubTopic"})))),o.a.createElement(E.a,{variant:"contained",color:"primary",className:"add-content-btn"},"Add New Content")))))),o.a.createElement(Oe.a,null,o.a.createElement(ke.a,{expandIcon:o.a.createElement(we.a,null),"aria-controls":"panel2a-content",id:"panel2a-header"},o.a.createElement(I.a,{variant:"subtitle2"},"Topic 2")),o.a.createElement(je.a,null,o.a.createElement(z.a,{container:!0,spacing:2},o.a.createElement(z.a,{item:!0,xs:12,md:6},o.a.createElement("div",null,o.a.createElement(Ne.a,{dense:"true"},ot(o.a.createElement(Se.a,null,o.a.createElement(Ue.a,{primary:"SubTopic2"})))),o.a.createElement(E.a,{variant:"contained",color:"secondary",className:"add-content-btn"},"Add New Lesson")))))),o.a.createElement(E.a,{variant:"contained",onClick:e.openCreateChapterDialog,color:"secondary"},"Add New Chapter"))};var st=function(e){return o.a.createElement(ye.a,{className:"paper"},e.course.title)};var it=function(e){var t=Object(r.useState)(),a=Object(j.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(),i=Object(j.a)(s,2),l=i[0],u=i[1];return o.a.createElement("div",null,o.a.createElement($e.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(Xe.a,{id:"form-dialog-title"},"Create New Chapter"),o.a.createElement(Ze.a,null,o.a.createElement(qe.a,null,"Create a new chapter within your course. Enter a title and description below."),o.a.createElement(P.a,{autoFocus:!0,margin:"dense",id:"title",label:"Chapter Title",onChange:function(e){u(e.target.value)},type:"text",fullWidth:!0}),o.a.createElement(P.a,{autoFocus:!0,margin:"dense",id:"description",label:"Chapter Description",onChange:function(e){c(e.target.value)},type:"text",fullWidth:!0})),o.a.createElement(Ke.a,null,o.a.createElement(E.a,{onClick:e.handleClose,color:"primary"},"Cancel"),o.a.createElement(E.a,{onClick:function(){console.log("Title: ".concat(l)),console.log("Description: ".concat(n));var t={title:l,description:n};e.handleSubmit(t)},color:"primary"},"Submit"))))};var lt=function(e){var t=Object(y.f)().id,a=Object(r.useState)(),n=Object(j.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)(),d=Object(j.a)(i,2),m=(d[0],d[1]),p=Object(r.useState)(!1),f=Object(j.a)(p,2),h=f[0],v=f[1];function C(){return(C=Object(u.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(c),console.log(a),e.next=4,Ce(c,a);case 4:re(c.id).then((function(e){if(e.exists){m(null);var a=e.data();a.id=t,s(a),v(!1)}else m("Course Not Found"),s(),v(!1)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){t&&(console.log("ID: ".concat(t)),re(t).then((function(e){if(console.log(e.exists),e.exists){m(null);var a=e.data();a.id=t,s(a)}else m("Course Not Found"),s()})).catch((function(){return m("Course Get Fail")})))}),[t]),c?o.a.createElement("div",{className:"edit-course"},o.a.createElement(I.a,{className:"center",variant:"h3",component:"h3"},"Edit Course"),o.a.createElement(z.a,{container:!0,spacing:3},o.a.createElement(z.a,{item:!0,xs:4},o.a.createElement(ct,{openCreateChapterDialog:function(){console.log("Opening Create Chapter Dialog"),v(!0)}})),o.a.createElement(z.a,{item:!0,xs:8},o.a.createElement(st,{course:c}))),o.a.createElement(it,{isOpen:h,handleSubmit:function(e){return C.apply(this,arguments)},handleClose:function(){v(!1)}})):o.a.createElement("div",null,"Loading...",o.a.createElement(ge.a,null))},ut=a(225),dt=a(593),mt=Object(ut.a)({palette:{primary:{light:"#f44336",main:"#f6eee7",dark:"#dbbca1"},secondary:{light:"#a17da5",main:"#87618c",dark:"#442b4a"}},typography:{useNextVariants:!0},overrides:{MuiButton:{root:{textTransform:"none"}}}}),pt=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={courses:[],users:[],currentUser:void 0},e.fetchCourses=e.fetchCourses.bind(Object(p.a)(e)),e.fetchUsers=e.fetchUsers.bind(Object(p.a)(e)),e.render=e.render.bind(Object(p.a)(e)),e.updateUser=e.updateUser.bind(Object(p.a)(e)),e.setUser=e.setUser.bind(Object(p.a)(e)),e.getUserOnLoad=e.getUserOnLoad.bind(Object(p.a)(e)),e.fetchCourses().then((function(){e.getUserOnLoad()})),e}return Object(m.a)(a,[{key:"updateUser",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return this.setState({currentUser:void 0}),e.abrupt("return");case 3:return e.next=5,ne(t).then((function(e){var t=e.data();if(t.createdCoursesRefs&&t.createdCoursesRefs.length>0){console.log(t.createdCoursesRefs);var n=t.createdCoursesRefs.map((function(e){return a.state.courses.find((function(t){return t.id===e.id}))}));console.log(n),console.log(a.state.courses),t.createdCourses=t.createdCoursesRefs.map((function(e){return a.state.courses.find((function(t){return t.id===e.id}))}))}t.pastCoursesRefs&&t.pastCoursesRefs.length>0&&(t.pastCourses=t.pastCoursesRefs.map((function(e){return a.state.courses.find((function(t){return t.id===e.id}))}))),t.favoritedCoursesRefs&&t.favoritedCoursesRefs.length>0&&(t.favoritedCourses=t.favoritedCoursesRefs.map((function(e){return a.state.courses.find((function(t){return t.id===e.id}))}))),a.setState({currentUser:t})}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserOnLoad",value:function(){var e=le();if(e)this.updateUser(e.uid);else if(document.cookie.split(";").some((function(e){return e.trim().startsWith("userid=")}))){var t=document.cookie.replace(/(?:(?:^|.*;\s*)userid\s*\=\s*([^;]*).*$)|^.*$/,"$1");this.updateUser(t)}else this.updateUser(void 0);console.log("get current user"),console.log(this.state.currentUser)}},{key:"setUser",value:function(e){console.log("login",e),this.updateUser(e.id),document.cookie="userid=".concat(e.id)}},{key:"fetchCourses",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetching courses"),console.log(this.state.currentUser),t=[],e.next=5,oe().then((function(e){e.forEach((function(e){var n=e.data();console.log(n);var r=e.id;n.owner.get().then((function(e){n.owner=e.data()})),n.id=r,t.push(n),a.setState({courses:t})}))}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchUsers",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,ce().then((function(e){e.forEach((function(e){var n=e.data();n.id=e.id,t.push(n),a.setState({users:t})}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return this.state.currentUser&&console.log("logged in!"),o.a.createElement(dt.a,{theme:mt},o.a.createElement(g.a,null,o.a.createElement("div",null,o.a.createElement("nav",{hidden:!this.state.currentUser},o.a.createElement(v.a,{position:"static"},o.a.createElement(C.a,null,o.a.createElement(E.a,{variant:"contained",color:"secondary",className:"menu-button main",component:g.b,to:"/myCourses"},"My Courses"),o.a.createElement(E.a,{variant:"contained",color:"secondary",className:"menu-button main",component:g.b,to:"/courseLibrary"},"All Courses"),o.a.createElement(E.a,{variant:"outlined",color:"secondary",className:"menu-button align-left",component:g.b,to:"/createCourse"},"Create a Course"),o.a.createElement(b.a,{className:"menu-button profile-icon",component:g.b,to:"/profile",color:"inherit","aria-label":"menu"},o.a.createElement(k.a,null)),o.a.createElement("span",null,null===(e=this.props.user)||void 0===e?void 0:e.name)))),o.a.createElement(y.c,null,o.a.createElement(y.a,{exact:!0,path:"/"},o.a.createElement(Be,{completeLogin:this.setUser})),o.a.createElement(y.a,{path:"/courseLibrary"},o.a.createElement(be,{courses:this.state.courses,user:this.state.currentUser,updateUser:this.updateUser})),o.a.createElement(y.a,{path:"/courseOverview/:id"},o.a.createElement(He,{service:n})),o.a.createElement(y.a,{path:"/myCourses"},o.a.createElement(Ye,{user:this.state.currentUser})),o.a.createElement(y.a,{path:"/profile"},o.a.createElement(tt,{user:this.state.currentUser,updateUser:this.updateUser})),o.a.createElement(y.a,{path:"/createCourse"},o.a.createElement(rt,{user:this.state.currentUser,updateUser:this.updateUser,updateCourses:this.fetchCourses})),o.a.createElement(y.a,{path:"/editCourse/:id"},o.a.createElement(lt,{user:this.state.currentUser}))))))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(pt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[239,1,2]]]);
//# sourceMappingURL=main.bfd6d7f7.chunk.js.map