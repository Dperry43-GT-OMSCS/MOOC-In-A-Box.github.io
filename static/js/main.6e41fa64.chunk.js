(this["webpackJsonpmooc-in-a-box"]=this["webpackJsonpmooc-in-a-box"]||[]).push([[0],{116:function(e,t,n){},140:function(e,t,n){e.exports=n(307)},144:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},285:function(e,t,n){},301:function(e,t,n){},302:function(e,t,n){},303:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){},307:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getUserById",(function(){return re})),n.d(a,"getCourseById",(function(){return ce})),n.d(a,"getAllCourses",(function(){return oe})),n.d(a,"getAllUsers",(function(){return se})),n.d(a,"updateUser",(function(){return ie})),n.d(a,"createUser",(function(){return ue})),n.d(a,"getCurrentUser",(function(){return le})),n.d(a,"logUserInUser",(function(){return de})),n.d(a,"signOut",(function(){return pe})),n.d(a,"deleteUser",(function(){return me})),n.d(a,"createCourse",(function(){return fe})),n.d(a,"favoriteCourse",(function(){return he})),n.d(a,"removeFavoriteCourse",(function(){return ve})),n.d(a,"updateCourse",(function(){return Ce})),n.d(a,"addNewChapter",(function(){return be})),n.d(a,"addNewLesson",(function(){return Ee})),n.d(a,"getCourseByIdEvaluatePromise",(function(){return ge})),n.d(a,"getDocFromDocRef",(function(){return ye}));var r=n(0),c=n.n(r),o=n(11),s=n.n(o),i=(n(144),n(5)),u=n.n(i),l=n(8),d=n(43),p=n(30),m=n(63),f=n(64),h=n(12),v=n(67),C=(n(146),n(361)),b=n(362),E=n(355),g=n(311),y=n(18),O=n(48),k=n(125),j=n.n(k),x=(n(147),n(9)),w=n(346),S=(n(3),n(349)),N=n(351),U=n(352),L=n(353),F=n(354),R=n(34),I=n(91),A=n(117),H=n.n(A),B=n(118),V=n.n(B),z=Object(w.a)((function(e){return{root:{maxWidth:345,minWidth:345,maxHeight:400,minHeight:400,position:"relative"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:I.a[500]},actionsRow:{position:"absolute",bottom:0,left:0},content:{paddingBottom:"1rem"}}}));function T(e){var t=z(),n=c.a.useState(!1),a=Object(x.a)(n,2),r=(a[0],a[1],c.a.useState(!1)),o=Object(x.a)(r,2),s=o[0],i=o[1];e.isCourseAFavorite!=s&&i(e.isCourseAFavorite);return c.a.createElement(S.a,{variant:"outlined",className:t.root},c.a.createElement(N.a,{title:e.course.title,subheader:e.course.owner.displayName,action:c.a.createElement(g.a,{"aria-label":"add to favorites",onClick:function(){s?(i(!1),e.removeFavoriteClicked(e.course)):(i(!0),e.favoriteClicked(e.course))}},s?c.a.createElement(H.a,null):c.a.createElement(V.a,null))}),c.a.createElement(U.a,{className:t.media,image:"/static/images/cards/paella.jpg",title:"Paella dish"}),c.a.createElement(L.a,{className:t.content},c.a.createElement(R.a,{variant:"body2",color:"textSecondary",component:"p"},e.course.description),c.a.createElement(R.a,{variant:"body2",color:"textSecondary",component:"p"},e.course.owner.displayName)),c.a.createElement(F.a,{className:t.actionsRow,disableSpacing:!0},c.a.createElement(E.a,{variant:"contained",color:"secondary",component:y.b,to:"/courseOverview/".concat(e.course.id)},"Overview")))}n(153);var P=n(363),D=n(124),W=n.n(D),M=n(376);n(285);var G=function(e){return c.a.createElement("div",{className:"search-bar"},c.a.createElement(M.a,{value:e.searchValue,onChange:e.onChange,id:"outlined-search",type:"search",variant:"outlined",color:"black"}),c.a.createElement(g.a,{className:"menu-button",onClick:e.onSearchClicked},c.a.createElement(W.a,{className:"search-bar-icon"})))},J=n(127),Y=n(381),$=n(356),K=n(357),Z=n(360),q=n(377),X=n(359);var Q=function(e){return c.a.createElement(X.a,{value:e.value,control:c.a.createElement(q.a,null),label:e.value})};var _=function(e){var t=e.options.map((function(e){return c.a.createElement(Q,{handleClick:e.associatedClickFunction,value:e.display})}));return c.a.createElement(J.a,{id:e.menuId,anchorEl:e.element,keepMounted:!0,open:Boolean(e.element),onClose:e.closeFunction},c.a.createElement(Z.a,null,c.a.createElement($.a,{component:"fieldset"},c.a.createElement(K.a,{component:"legend"},e.menuLabel),c.a.createElement(Y.a,{"aria-label":"gender",name:e.radioGroupName,value:e.menuValue,onChange:function(t){e.closeFunction(t.target.value)}},t))))};var ee=function(e){var t=e.menuItems.map((function(e){return c.a.createElement(E.a,{color:"inherit",className:"menu-button",onClick:e.clickedFunction},e.buttonText)})),n=e.menuItems.map((function(e){return c.a.createElement(_,{element:e.element,closeFunction:e.closeFunction,options:e.menuOptions,menuId:e.menuId,menuLabel:e.buttonText})}));return c.a.createElement(C.a,{position:"static",className:"course-library-app-bar"},c.a.createElement(b.a,null,t,c.a.createElement(G,{searchValue:e.searchInfo.value,onChange:e.searchInfo.onChange,onSearchClicked:e.searchInfo.onClick})),n)},te=n(38),ne=n.n(te);ne.a.initializeApp({apiKey:"AIzaSyA8tAHYGUiNkFHq6452W4Qr79eibVmtRZA",authDomain:"mooc-in-a-box.firebaseapp.com",databaseURL:"https://mooc-in-a-box.firebaseio.com",projectId:"mooc-in-a-box",storageBucket:"mooc-in-a-box.appspot.com",messagingSenderId:"594314585164",appId:"1:594314585164:web:3ae152452d1c238af100e9",measurementId:"G-LXH34JCXZS"});var ae=ne.a.firestore(),re=function(e){return ae.collection("Users").doc(e).get()},ce=function(e){return ae.collection("Course").doc(e).get()},oe=function(){return ae.collection("Course").get()},se=function(){return ae.collection("Users").get()},ie=function(){var e=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae.collection("Users").doc(t).set(n,{merge:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ue=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae.collection("Users").doc(t.uid).set({id:t.uid,name:t.displayName,photoURL:t.photoURL,email:t.email},{merge:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=ne.a.auth().currentUser;return e||void 0},de=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?new ne.a.auth.GoogleAuthProvider:new ne.a.auth.FacebookAuthProvider,a=[],r=void 0,c=void 0,e.next=6,se().then((function(e){e.forEach((function(e){var t=e.data();t.id=e.id,a.push(t)}))}));case 6:return e.next=8,ne.a.auth().signInWithPopup(n).then(function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.user,a.forEach((function(e){e.id===c.uid&&(r=e)})),void 0!==r){e.next=5;break}return e.next=5,ue(c).then(Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",le());case 1:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e)}));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.auth().signOut().then((function(){return document.cookie="userid=; expires=Thu, 01 Jan 1970 00:00:01 GMT;",!0})).catch((function(e){return console.log(e),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ne.a.auth().currentUser,e.next=3,t.delete().then((function(){return document.cookie="userid=; expires=Thu, 01 Jan 1970 00:00:01 GMT;",!0})).catch((function(e){return console.log(e),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne.a.storage(),a=ae.doc("Users/".concat(t.id)),r=ae.doc(n.chapter.lessons),n.chapter.lessons=r,e.next=6,ae.collection("Course").add({owner:a,title:n.title,description:n.description,chapters:n.chapters}).then(function(){var e=Object(l.a)(u.a.mark((function e(n){var a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.createdCoursesRefs&&t.createdCoursesRefs.length>0?t.createdCoursesRefs:[],r=ae.doc("Course/".concat(n.id)),a.push(r),c={createdCoursesRefs:a},e.next=6,ie(t.id,c);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),he=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ae.doc("Course/".concat(n.id)),(r=t.favoritedCoursesRefs&&t.favoritedCoursesRefs.length>0?t.favoritedCoursesRefs:[]).push(a),c={favoritedCoursesRefs:r},e.next=6,ie(t.id,c);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ve=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ae.doc("Course/".concat(n.id)),(r=t.favoritedCoursesRefs).splice(a,1),c={favoritedCoursesRefs:r},e.next=6,ie(t.id,c);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae.collection("Course").doc(t).set(n,{merge:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),be=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a={}).title=n.title,a.description=n.description,a.id=0,a.lessonsRef=[],t.chapters&&t.chapters.length>0||(t.chapters=[]),t.chapters.push(a),r={chapters:t.chapters},e.next=9,Ce(t.id,r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(l.a)(u.a.mark((function e(t,n,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.collection("Course").doc(t.id).collection("Lessons").add(a).then(function(){var e=Object(l.a)(u.a.mark((function e(a){var r,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Lesson Doc",a),console.log("Course/".concat(t.id,"/Lessons/").concat(a.id)),r=ae.doc("Course/".concat(t.id,"/Lessons/").concat(a.id)),c=t.chapters.map((function(e){return e===n&&e.lessonsRef.push(r),e})),o={chapters:c},e.next=7,Ce(t.id,o);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ge=function(e){return ae.collection("Course").doc(e).get().then((function(t){if(t.exists){var n=t.data();return n.id=e,n}return null}))},ye=function(e){return e.get().then((function(e){if(e.exists){var t=e.data();return t.id=e.id,console.log(t),t}return null}))},Oe=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(m.a)(this,Object(f.a)(t).call(this,e))).sortByClicked=function(e){n.setState({sortByElement:e.currentTarget})},n.sortByHandleClose=function(e){n.setState({sortByElement:null,sortFilterValue:e})},n.topicClicked=function(e){n.setState({topicElement:e.currentTarget})},n.topicHandleClose=function(e){n.setState({topicElement:null,topicFilterValue:e})},n.organizationClicked=function(e){n.setState({organizationElement:e.currentTarget})},n.organizationHandleClosed=function(e){n.setState({organizationElement:null,organizationFilterValue:e})},n.buildMenuItems=function(){return[{buttonText:"Sort By",menuId:"menu-sort-by",clickedFunction:n.sortByClicked,closeFunction:n.sortByHandleClose,element:n.state.sortByElement,radioGroupName:"menuRadio",menuValue:n.state.sortFilterValue,menuOptions:[{display:"Newest",associatedClickFunction:n.sortByHandleClose},{display:"Recommended",associatedClickFunction:n.sortByHandleClose},{display:"Trending",associatedClickFunction:n.sortByHandleClose}]},{buttonText:"Topic",menuId:"menu-topic",clickedFunction:n.topicClicked,element:n.state.topicElement,closeFunction:n.topicHandleClose,radioGroupName:"topicRadio",menuValue:n.state.topicFilterValue,menuOptions:[{display:"Science",associatedClickFunction:n.topicHandleClose},{display:"Technology",associatedClickFunction:n.topicHandleClose},{display:"History",associatedClickFunction:n.topicHandleClose},{display:"Arts",associatedClickFunction:n.topicHandleClose}]},{buttonText:"Organization",menuId:"menu-organization",clickedFunction:n.organizationClicked,element:n.state.organizationElement,closeFunction:n.organizationHandleClosed,radioGroupName:"organizationRadio",menuValue:n.state.organizationFilterValue,menuOptions:[{display:"Required",associatedClickFunction:n.organizationHandleClosed},{display:"Recommended",associatedClickFunction:n.organizationHandleClosed},{display:"All Courses",associatedClickFunction:n.organizationHandleClosed}]}]},n.isCourseAFavorite=function(e,t){return!!(e.favoritedCourses&&e.favoritedCourses.length>0)&&e.favoritedCourses.find((function(e){return e.id===t.id}))},n.handleSearchChange=n.handleSearchChange.bind(Object(h.a)(n)),n.handleSearchClicked=n.handleSearchClicked.bind(Object(h.a)(n)),n.sortByClicked=n.sortByClicked.bind(Object(h.a)(n)),n.sortByHandleClose=n.sortByHandleClose.bind(Object(h.a)(n)),n.topicClicked=n.topicClicked.bind(Object(h.a)(n)),n.topicHandleClose=n.topicHandleClose.bind(Object(h.a)(n)),n.organizationClicked=n.organizationClicked.bind(Object(h.a)(n)),n.organizationHandleClosed=n.organizationHandleClosed.bind(Object(h.a)(n)),n.buildMenuItems=n.buildMenuItems.bind(Object(h.a)(n)),n.favoriteClicked=n.favoriteClicked.bind(Object(h.a)(n)),n.removeFavoriteClicked=n.removeFavoriteClicked.bind(Object(h.a)(n)),n.state={searchValue:"",sortByElement:null,topicElement:null,organizationElement:null,sortFilterValue:null,topicFilterValue:null,organizationFilterValue:null},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"handleSearchChange",value:function(e){this.setState({searchValue:e.target.value})}},{key:"handleSearchClicked",value:function(e){}},{key:"favoriteClicked",value:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(this.props.user,t);case 2:this.props.updateUser(this.props.user.id);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeFavoriteClicked",value:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(this.props.user,t);case 2:this.props.updateUser(this.props.user.id);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.buildMenuItems(),t=this.favoriteClicked,n=this.isCourseAFavorite,a=this.removeFavoriteClicked,r=this.props.user,o={value:this.state.searchValue,onChange:this.handleSearchChange,onClick:this.handleSearchClicked},s=[];return r&&(s=this.props.courses.map((function(e){return c.a.createElement(P.a,{item:!0,s:4},c.a.createElement(T,{course:e,favoriteClicked:t,removeFavoriteClicked:a,isCourseAFavorite:n(r,e)}))}))),c.a.createElement("div",{class:"course-library"},c.a.createElement(ee,{menuItems:e,searchInfo:o}),c.a.createElement("div",{className:"course-list"},c.a.createElement(P.a,{container:!0,spacing:3},s)))}}]),t}(c.a.Component),ke=(n(116),n(367)),je=(n(301),n(129)),xe=n(379),we=n(365),Se=n(366),Ne=n(28),Ue=n.n(Ne),Le=n(358),Fe=n(312),Re=n(364);var Ie=function(e){var t=[];return e.chapter&&e.chapter.lessons&&e.chapter.lessons.length>0?t=e.chapter.lessons.map((function(t){return c.a.createElement(Fe.a,{onClick:function(){return function(t){e.setChapterInContext(e.chapter),e.setActiveLesson(t)}(t)},id:t.id,button:!0},c.a.createElement(Re.a,{primary:t.title}))})):t[0]=c.a.createElement(Fe.a,null," ",c.a.createElement(Re.a,{primary:"No Lessons Added"})," "),c.a.createElement(xe.a,null,c.a.createElement(we.a,{expandIcon:c.a.createElement(Ue.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},c.a.createElement(R.a,{variant:"subtitle2"},e.chapter.title)),c.a.createElement(Se.a,null,c.a.createElement(P.a,{container:!0,spacing:2},c.a.createElement(P.a,{item:!0,xs:12,md:6},c.a.createElement("div",null,c.a.createElement(Le.a,{dense:"true"},t))))))};var Ae=function(e){var t=[];return e.course&&e.course.chapters&&e.course.chapters.length>0&&(t=e.course.chapters.map((function(t){return c.a.createElement(Ie,{setActiveLesson:e.setActiveLesson,activeLesson:e.activeLesson,setChapterInContext:e.setChapterInContext,chapter:t})}))),c.a.createElement(je.a,{className:"paper"},c.a.createElement(E.a,{id:"course-overview",onClick:function(){e.setActiveLesson(void 0),e.setChapterInContext(void 0)}},c.a.createElement("h1",null,e.course.title)),t)};var He=function(e){return c.a.createElement("div",null,e.lesson?c.a.createElement("div",null,c.a.createElement("h3",null,e.lesson.title),c.a.createElement("h6",null,"Link: ",e.lesson.video),c.a.createElement("strong",null,"Description: "),c.a.createElement("p",null,e.lesson.description)):c.a.createElement("h3",null,"No lesson selected"))};var Be=function(e){return c.a.createElement(je.a,{className:"paper"},e.activeChapter?c.a.createElement("div",null,c.a.createElement("h2",null,"Chapter: ",e.activeChapter.title),c.a.createElement(He,{lesson:e.activeLesson})):c.a.createElement("p",null,"course overview"))};var Ve=function(e){var t=Object(r.useState)(),n=Object(x.a)(t,2),a=n[0],o=n[1],s=Object(r.useState)(),i=Object(x.a)(s,2),d=i[0],p=i[1],m=Object(r.useState)(),f=Object(x.a)(m,2),h=(f[0],f[1],Object(r.useState)()),v=Object(x.a)(h,2),C=v[0],b=v[1],E=Object(O.g)().id;function g(e){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.lessonsRef&&t.lessonsRef.length>0)){e.next=4;break}return e.abrupt("return",Promise.all(t.lessonsRef.map(function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){return t.lessons=e,t})));case 4:return e.abrupt("return",Promise.resolve(t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return j.apply(this,arguments)}function j(){return(j=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map((function(e){return g(e)}))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(t);case 2:return n=e.sent,e.next=5,k(n.chapters);case 5:n.chapters=e.sent,o(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){E&&function(e){w.apply(this,arguments)}(E)}),[E]),a?c.a.createElement("div",{className:"courseOverview"},c.a.createElement(P.a,{container:!0,spacing:3},c.a.createElement(P.a,{item:!0,xs:4},c.a.createElement(Ae,{activeLesson:d,setActiveLesson:p,setChapterInContext:b,course:a})),c.a.createElement(P.a,{item:!0,xs:8},c.a.createElement(Be,{activeChapter:C,activeLesson:d,course:a})))):c.a.createElement("div",null,"Loading...",c.a.createElement(ke.a,null))},ze=(n(302),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(m.a)(this,Object(f.a)(t).call(this,e))).state={user:void 0},n.loginGoogle=n.loginGoogle.bind(Object(h.a)(n)),n.loginFacebook=n.loginFacebook.bind(Object(h.a)(n)),n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"loginGoogle",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(!0).then((function(e){n.props.completeLogin(e),n.props.history.push("/myCourses")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loginFacebook",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(!1).then((function(e){n.props.completeLogin(e),n.props.history.push("/myCourses")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",{className:"login"},c.a.createElement("h1",null,"Sign into Mooc in a Box"),c.a.createElement(E.a,{color:"inherit",className:"menu-button",onClick:this.loginFacebook},"Sign in with Facebook"),c.a.createElement(E.a,{color:"inherit",className:"menu-button",onClick:this.loginGoogle},"Sign in with Google"))}}]),t}(c.a.Component)),Te=Object(O.h)(ze),Pe=(n(303),n(368)),De=n(369),We=n(62),Me=n.n(We);var Ge=function(e){return c.a.createElement(xe.a,null,c.a.createElement(we.a,{expandIcon:c.a.createElement(Ue.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},c.a.createElement(R.a,{variant:"subtitle2"},e.courses.length," Course(s)")),c.a.createElement(Se.a,null,c.a.createElement(P.a,{container:!0,spacing:2},c.a.createElement(P.a,{item:!0,xs:12,md:6},c.a.createElement("div",null,c.a.createElement(Le.a,{dense:"true"},e.courses.map((function(t){return c.a.createElement("span",null,c.a.createElement(Fe.a,null,c.a.createElement(E.a,{component:y.b,to:"/courseOverview/".concat(t.id)},t.title),e.includeEditIcon&&c.a.createElement(g.a,{className:"menu-button",color:"inherit","aria-label":"menu",component:y.b,to:"/editCourse/".concat(t.id)},c.a.createElement(Me.a,null))))}))))))))};function Je(e){e.currentCourses.length;return c.a.createElement("div",null,c.a.createElement("h1",null," Current Courses "),c.a.createElement(Ge,{courses:e.currentCourses}))}function Ye(e){return c.a.createElement("div",null,c.a.createElement("h1",null," Past Courses "),c.a.createElement(Ge,{courses:e.pastCourses}))}function $e(e){return c.a.createElement("div",null,c.a.createElement("h1",null," Favorited Courses "),c.a.createElement(Ge,{courses:e.savedCourses}))}function Ke(e){return c.a.createElement("div",null,c.a.createElement("h1",null," Created Courses "),c.a.createElement(Ge,{courses:e.createdCourses,includeEditIcon:!0}))}var Ze=function(e){var t=Object(r.useState)(),n=Object(x.a)(t,2),a=n[0],o=n[1];if(c.a.useEffect((function(){o(e.user)}),[e]),a){var s=[],i=!1;if(a.currentCourses&&a.currentCourses.length>0){var u=c.a.createElement(Je,{currentCourses:a.currentCourses});s.push(u),i=!0}if(a.pastCourses&&a.pastCourse.length>0){var l=c.a.createElement(Ye,{pastCourses:a.pastCourses});s.push(l),i=!0}if(a.favoritedCourses&&a.favoritedCourses.length>0){var d=c.a.createElement($e,{savedCourses:a.favoritedCourses});s.push(d),i=!0}if(a.createdCourses&&a.createdCourses.length>0){var p=c.a.createElement(Ke,{createdCourses:a.createdCourses});s.push(p),i=!0}return i?c.a.createElement("div",{className:"MyCourses"},c.a.createElement(Pe.a,null),c.a.createElement(R.a,{className:"center",variant:"h3",component:"h3"},"My Courses"),c.a.createElement(De.a,{maxWidth:"lg"},c.a.createElement(je.a,{className:"paper"},s.map((function(e){return e}))))):c.a.createElement("div",{className:"MyCourses"},c.a.createElement(Pe.a,null),c.a.createElement(R.a,{className:"center",variant:"h3",component:"h3"},"My Courses"),c.a.createElement(De.a,{maxWidth:"lg"},c.a.createElement(je.a,{className:"paper"},c.a.createElement("h4",null,"You don't have any courses saved yet!"))))}return c.a.createElement("div",null,"Loading..",c.a.createElement(ke.a,null))},qe=(n(304),n(374)),Xe=n(380),Qe=n(373),_e=n(371),et=n(372),tt=n(370);var nt=function(e){return c.a.createElement("div",null,c.a.createElement(Xe.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},c.a.createElement(tt.a,{id:"form-dialog-title"},e.field),c.a.createElement(_e.a,null,c.a.createElement(et.a,null,"Edit the Field below to update your ",e.field),c.a.createElement(M.a,{autoFocus:!0,margin:"dense",id:"name",label:e.field,value:e.value,onChange:e.onChange,type:"email",fullWidth:!0})),c.a.createElement(Qe.a,null,c.a.createElement(E.a,{onClick:e.handleClose,color:"secondary"},"Cancel"),c.a.createElement(E.a,{onClick:e.handleSubmit,color:"secondary"},"Submit"))))},at={displayName:"Display Name",email:"Email Address",password:"Password"};var rt=function(e){return c.a.createElement("div",null,c.a.createElement(R.a,{align:"center",variant:"h6",component:"h6"},c.a.createElement("strong",null,e.displayValue)),c.a.createElement(R.a,{align:"center",variant:"body1",component:"body1"},c.a.createElement("span",null,e.value,c.a.createElement(g.a,{className:"menu-button",color:"inherit","aria-label":"menu"},c.a.createElement(Me.a,{onClick:e.openDialog})))),c.a.createElement(nt,{isOpen:e.isDialogOpen,handleClose:e.handleClose,handleSubmit:e.handleSubmit,field:at[e.displayKey],value:e.value,onChange:e.onChange}))};var ct=Object(O.h)((function(e){var t=Object(r.useState)(null),n=Object(x.a)(t,2),a=n[0],o=n[1],s=Object(r.useState)(null),i=Object(x.a)(s,2),d=i[0],p=i[1],m=Object(r.useState)(),f=Object(x.a)(m,2),h=(f[0],f[1],Object(r.useState)(!1)),v=Object(x.a)(h,2),C=v[0],b=v[1],g=Object(r.useState)(null),y=Object(x.a)(g,2),O=y[0],k=y[1],j=Object(r.useState)(null),w=Object(x.a)(j,2),S=w[0],N=w[1],U=Object(r.useState)(!1),L=Object(x.a)(U,2),F=L[0],I=L[1];function A(){return(A=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe().then((function(t){t&&(e.history.push("/"),e.updateUser(void 0))}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(){return(H=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me().then((function(t){t&&(e.history.push("/"),e.updateUser(void 0))}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.user&&null===a&&null===O&&(o(e.user.displayName),k(e.user.interests)),e.user?c.a.createElement("div",{className:"userProfile"},c.a.createElement(Pe.a,null),c.a.createElement(R.a,{className:"center",variant:"h3",component:"h3"},"User Profile"),c.a.createElement(De.a,{className:"userProfile-bottom-padding",maxWidth:"lg"},c.a.createElement(je.a,{className:"paper"},c.a.createElement(rt,{displayValue:"User Interests",value:O,handleClose:function(){k(S),I(!1)},handleSubmit:function(){ie(e.user.id,{interests:O}).then((function(t){I(!1),k(O),e.updateUser(e.user.id)})).catch((function(e){console.log(e)}))},isDialogOpen:F,openDialog:function(){N(O),I(!0)},onChange:function(e){k(e.target.value)}}))),c.a.createElement(qe.a,null),c.a.createElement(De.a,{maxWidth:"lg"},c.a.createElement(je.a,{className:"paper"},c.a.createElement(rt,{displayValue:"Display Name",value:a,handleClose:function(){o(d),b(!1)},handleSubmit:function(){ie(e.user.id,{displayName:a}).then((function(t){b(!1),p(a),e.updateUser(e.user.id)})).catch((function(e){console.log(e)}))},isDialogOpen:C,openDialog:function(){p(a),b(!0)},onChange:function(e){o(e.target.value)}}),c.a.createElement(qe.a,null),c.a.createElement(rt,{displayValue:"Email",value:e.user.email}),c.a.createElement(qe.a,null),c.a.createElement(rt,{displayValue:"Password",value:"*******"}),c.a.createElement(E.a,{color:"inherit",className:"menu-button",onClick:function(){return A.apply(this,arguments)}},"Sign out"),c.a.createElement(E.a,{color:"inherit",className:"menu-button",onClick:function(){return H.apply(this,arguments)}},"Delete account")))):c.a.createElement("div",null,"Loading..",c.a.createElement(ke.a,null))}));n(305);var ot=function(e){var t=Object(r.useState)(),n=Object(x.a)(t,2),a=n[0],o=n[1],s=Object(r.useState)(),i=Object(x.a)(s,2),u=i[0],l=i[1];return c.a.createElement("div",null,c.a.createElement(Xe.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},c.a.createElement(tt.a,{id:"form-dialog-title"},"Create A New Course"),c.a.createElement(_e.a,null,c.a.createElement(et.a,null,"Create a new course. Start by entering a title and description below!"),c.a.createElement(M.a,{autoFocus:!0,margin:"dense",id:"title",label:"Course Title",onChange:function(e){l(e.target.value)},type:"text",fullWidth:!0}),c.a.createElement(M.a,{autoFocus:!0,margin:"dense",id:"description",label:"Course Description",onChange:function(e){o(e.target.value)},type:"text",fullWidth:!0})),c.a.createElement(Qe.a,null,c.a.createElement(E.a,{onClick:e.handleClose,color:"secondary"},"Cancel"),c.a.createElement(E.a,{onClick:function(){var t={title:u,description:a};e.handleSubmit(t)},color:"secondary"},"Submit"))))};function st(e){return c.a.createElement("div",{className:"courses-section"},c.a.createElement("h1",null," Courses You've Created "),c.a.createElement(Ge,{courses:e.createdCourses,includeEditIcon:!0}))}var it=function(e){var t=Object(r.useState)(!1),n=Object(x.a)(t,2),a=n[0],o=n[1],s=Object(O.f)();function i(){return(i=Object(l.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.owner=e.user.id,a={id:0,lessons:"Course/rlfxOavBn4nPZLNTRMkL/Lessons/kL5CwNARpoUhexocK7P4",sectionTitle:"".concat(n.title," - Section")},n.chapters=[],n.chapter=a,t.next=6,fe(e.user,n);case 6:return t.sent,o(!1),t.next=10,e.updateCourses();case 10:return t.next=12,e.updateUser(e.user.id);case 12:s.push("/editCourse/".concat(e.user.createdCoursesRefs[e.user.createdCoursesRefs.length-1].id));case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var d=null;return d=e.user&&e.user.createdCourses&&e.user.createdCourses.length>0?c.a.createElement(st,{createdCourses:e.user.createdCourses}):c.a.createElement("h3",null,"You have not created any courses"),c.a.createElement("div",{className:"Home"},c.a.createElement(Pe.a,null),c.a.createElement(R.a,{className:"center",variant:"h3",component:"h3"},"Create A Course"),c.a.createElement(De.a,{className:"userProfile-bottom-padding",maxWidth:"lg"},c.a.createElement(je.a,{className:"paper"},d,c.a.createElement("span",null,c.a.createElement(E.a,{variant:"contained",color:"secondary",onClick:function(){o(!0)}},"Create New Course")))),c.a.createElement(qe.a,null),c.a.createElement(ot,{isOpen:a,handleClose:function(){o(!1)},handleSubmit:function(e){return i.apply(this,arguments)},user:e.user}))};n(306);var ut=function(e){var t=[];return e.chapter&&e.chapter.lessons&&e.chapter.lessons.length>0&&(t=e.chapter.lessons.map((function(t){return c.a.createElement(Fe.a,{onClick:function(){return function(t){e.setChapterInContext(e.chapter),e.setActiveLesson(t)}(t)},id:t.id,button:!0},c.a.createElement(Re.a,{primary:t.title}))}))),c.a.createElement(xe.a,null,c.a.createElement(we.a,{expandIcon:c.a.createElement(Ue.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},c.a.createElement(R.a,{variant:"subtitle2"},e.chapter.title)),c.a.createElement(Se.a,null,c.a.createElement(P.a,{container:!0,spacing:2},c.a.createElement(P.a,{item:!0,xs:12,md:6},c.a.createElement("div",null,c.a.createElement(Le.a,{dense:"true"},t,c.a.createElement(E.a,{variant:"contained",onClick:function(){e.setChapterInContext(e.chapter),e.openLessonModal(!0)},color:"secondary",className:"add-content-btn"},"Add New Lesson")))))))};var lt=function(e){function t(t){e.setChapterInContext(t)}var n=[];return e.course&&e.course.chapters&&e.course.chapters.length>0&&(n=e.course.chapters.map((function(n){return c.a.createElement(ut,{setActiveLesson:e.setActiveLesson,activeLesson:e.activeLesson,openLessonModal:e.openLessonModal,setChapterInContext:t,chapter:n})}))),c.a.createElement(je.a,{className:"paper"},n,c.a.createElement(E.a,{variant:"contained",onClick:e.openCreateChapterDialog,color:"secondary"},"Add New Chapter"))};var dt=function(e){return c.a.createElement("div",null,c.a.createElement("h3",null,e.lesson.title),c.a.createElement("h6",null,"Link: ",e.lesson.video),c.a.createElement("strong",null,"Description: "),c.a.createElement("p",null,e.lesson.description))};var pt=function(e){return c.a.createElement(je.a,{className:"paper"},c.a.createElement("h1",null,e.course.title),e.activeChapter?c.a.createElement("h2",null,"Chapter: ",e.activeChapter.title):c.a.createElement("h2",null,"No Chapter Selected "),e.activeLesson?c.a.createElement(dt,{lesson:e.activeLesson}):c.a.createElement("h3",null,"No lesson selected"))};var mt=function(e){var t=Object(r.useState)(),n=Object(x.a)(t,2),a=n[0],o=n[1],s=Object(r.useState)(),i=Object(x.a)(s,2),u=i[0],l=i[1];return c.a.createElement("div",null,c.a.createElement(Xe.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},c.a.createElement(tt.a,{id:"form-dialog-title"},"Create New Chapter"),c.a.createElement(_e.a,null,c.a.createElement(et.a,null,"Create a new chapter within your course. Enter a title and description below."),c.a.createElement(M.a,{autoFocus:!0,margin:"dense",id:"title",label:"Chapter Title",onChange:function(e){l(e.target.value)},type:"text",fullWidth:!0}),c.a.createElement(M.a,{autoFocus:!0,margin:"dense",id:"description",label:"Chapter Description",onChange:function(e){o(e.target.value)},type:"text",fullWidth:!0})),c.a.createElement(Qe.a,null,c.a.createElement(E.a,{onClick:e.handleClose,color:"secondary"},"Cancel"),c.a.createElement(E.a,{onClick:function(t){var n={title:u,description:a};e.handleSubmit(n)},color:"secondary"},"Submit"))))};var ft=function(e){var t=Object(r.useState)(),n=Object(x.a)(t,2),a=n[0],o=n[1],s=Object(r.useState)(),i=Object(x.a)(s,2),u=i[0],l=i[1],d=Object(r.useState)(),p=Object(x.a)(d,2),m=p[0],f=p[1];return c.a.createElement("div",null,c.a.createElement(Xe.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},c.a.createElement(tt.a,{id:"form-dialog-title"},"Create New Lesson"),c.a.createElement(_e.a,null,c.a.createElement(et.a,null,"Add a new lesson to your course"),c.a.createElement(M.a,{autoFocus:!0,margin:"dense",id:"title",label:"Lesson Title",onChange:function(e){l(e.target.value)},type:"text",fullWidth:!0}),c.a.createElement(M.a,{autoFocus:!0,margin:"dense",id:"description",label:"Lesson Description",onChange:function(e){o(e.target.value)},type:"text",fullWidth:!0}),c.a.createElement(M.a,{autoFocus:!0,margin:"dense",id:"video",label:"Video URL",onChange:function(e){f(e.target.value)},type:"text",fullWidth:!0})),c.a.createElement(Qe.a,null,c.a.createElement(E.a,{onClick:e.handleClose,color:"secondary"},"Cancel"),c.a.createElement(E.a,{onClick:function(t){console.log("Handle Submit Pressed");var n={title:u,description:a,video:m};e.addNewLesson(n)},color:"secondary"},"Submit"))))};var ht=function(e){var t=Object(O.g)().id,n=Object(r.useState)(),a=Object(x.a)(n,2),o=a[0],s=a[1],i=Object(r.useState)(),d=Object(x.a)(i,2),p=(d[0],d[1],Object(r.useState)(!1)),m=Object(x.a)(p,2),f=m[0],h=m[1],v=Object(r.useState)(!1),C=Object(x.a)(v,2),b=C[0],E=C[1],g=Object(r.useState)(),y=Object(x.a)(g,2),k=y[0],j=y[1],w=Object(r.useState)(),S=Object(x.a)(w,2),N=S[0],U=S[1];function L(){return(L=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!1),e.next=3,Ee(o,k,n);case 3:V(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(o,n);case 2:V(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return A.apply(this,arguments)}function A(){return(A=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.lessonsRef&&t.lessonsRef.length>0)){e.next=4;break}return e.abrupt("return",Promise.all(t.lessonsRef.map(function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){return t.lessons=e,t})));case 4:return e.abrupt("return",Promise.resolve(t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return B.apply(this,arguments)}function B(){return(B=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map((function(e){return I(e)}))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return z.apply(this,arguments)}function z(){return(z=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(t);case 2:return n=e.sent,e.next=5,H(n.chapters);case 5:n.chapters=e.sent,s(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){t&&V(t)}),[t]),o?c.a.createElement("div",{className:"edit-course"},c.a.createElement(R.a,{className:"center",variant:"h3",component:"h3"},"Edit Course"),c.a.createElement(P.a,{container:!0,spacing:3},c.a.createElement(P.a,{item:!0,xs:4},c.a.createElement(lt,{activeLesson:N,setActiveLesson:U,openLessonModal:function(){E(!0)},setChapterInContext:j,course:o,openCreateChapterDialog:function(){h(!0)}})),c.a.createElement(P.a,{item:!0,xs:8},c.a.createElement(pt,{activeChapter:k,activeLesson:N,course:o}))),c.a.createElement(mt,{isOpen:f,handleSubmit:function(e){return F.apply(this,arguments)},handleClose:function(){h(!1)}}),c.a.createElement(ft,{isOpen:b,addNewLesson:function(e){return L.apply(this,arguments)},handleClose:function(){E(!1)}})):c.a.createElement("div",null,"Loading...",c.a.createElement(ke.a,null))},vt=n(126),Ct=n(375),bt=Object(vt.a)({palette:{primary:{light:"#f44336",main:"#f6eee7",dark:"#dbbca1"},secondary:{light:"#a17da5",main:"#87618c",dark:"#442b4a"}},typography:{useNextVariants:!0},overrides:{MuiButton:{root:{textTransform:"none"}}}}),Et=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(m.a)(this,Object(f.a)(t).call(this))).state={courses:[],users:[],currentUser:void 0},e.fetchCourses=e.fetchCourses.bind(Object(h.a)(e)),e.fetchUsers=e.fetchUsers.bind(Object(h.a)(e)),e.render=e.render.bind(Object(h.a)(e)),e.updateUser=e.updateUser.bind(Object(h.a)(e)),e.setUser=e.setUser.bind(Object(h.a)(e)),e.getUserOnLoad=e.getUserOnLoad.bind(Object(h.a)(e)),e.fetchCourses().then((function(){e.getUserOnLoad()})),e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"updateUser",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return this.setState({currentUser:void 0}),e.abrupt("return");case 3:return e.next=5,re(t).then((function(e){var t=e.data();if(t.createdCoursesRefs&&t.createdCoursesRefs.length>0){t.createdCoursesRefs.map((function(e){return n.state.courses.find((function(t){return t.id===e.id}))}));t.createdCourses=t.createdCoursesRefs.map((function(e){return n.state.courses.find((function(t){return t.id===e.id}))}))}t.pastCoursesRefs&&t.pastCoursesRefs.length>0&&(t.pastCourses=t.pastCoursesRefs.map((function(e){return n.state.courses.find((function(t){return t.id===e.id}))}))),t.favoritedCoursesRefs&&t.favoritedCoursesRefs.length>0&&(t.favoritedCourses=t.favoritedCoursesRefs.map((function(e){return n.state.courses.find((function(t){return t.id===e.id}))}))),n.setState({currentUser:t})}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserOnLoad",value:function(){var e=le();if(e)this.updateUser(e.uid);else if(document.cookie.split(";").some((function(e){return e.trim().startsWith("userid=")}))){var t=document.cookie.replace(/(?:(?:^|.*;\s*)userid\s*\=\s*([^;]*).*$)|^.*$/,"$1");this.updateUser(t)}else this.updateUser(void 0)}},{key:"setUser",value:function(e){console.log("login",e),this.updateUser(e.id),document.cookie="userid=".concat(e.id)}},{key:"fetchCourses",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,oe().then((function(e){e.forEach((function(e){var a=e.data(),r=e.id;a.owner.get().then((function(e){a.owner=e.data()})),a.id=r,t.push(a),n.setState({courses:t})}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchUsers",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,se().then((function(e){e.forEach((function(e){var a=e.data();a.id=e.id,t.push(a),n.setState({users:t})}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return this.state.currentUser&&console.log("logged in!"),c.a.createElement(Ct.a,{theme:bt},c.a.createElement(y.a,null,c.a.createElement("div",null,c.a.createElement("nav",{hidden:!this.state.currentUser},c.a.createElement(C.a,{position:"static"},c.a.createElement(b.a,null,c.a.createElement(E.a,{variant:"contained",color:"secondary",className:"menu-button main",component:y.b,to:"/myCourses"},"My Courses"),c.a.createElement(E.a,{variant:"contained",color:"secondary",className:"menu-button main",component:y.b,to:"/courseLibrary"},"All Courses"),c.a.createElement(E.a,{variant:"outlined",color:"secondary",className:"menu-button align-left",component:y.b,to:"/createCourse"},"Create a Course"),c.a.createElement(g.a,{className:"menu-button profile-icon",component:y.b,to:"/profile",color:"inherit","aria-label":"menu"},c.a.createElement(j.a,null)),c.a.createElement("span",null,null===(e=this.props.user)||void 0===e?void 0:e.name)))),c.a.createElement(O.c,null,c.a.createElement(O.a,{exact:!0,path:"/"},c.a.createElement(Te,{completeLogin:this.setUser})),c.a.createElement(O.a,{path:"/courseLibrary"},c.a.createElement(Oe,{courses:this.state.courses,user:this.state.currentUser,updateUser:this.updateUser})),c.a.createElement(O.a,{path:"/courseOverview/:id"},c.a.createElement(Ve,{service:a})),c.a.createElement(O.a,{path:"/myCourses"},c.a.createElement(Ze,{user:this.state.currentUser})),c.a.createElement(O.a,{path:"/profile"},c.a.createElement(ct,{user:this.state.currentUser,updateUser:this.updateUser})),c.a.createElement(O.a,{path:"/createCourse"},c.a.createElement(it,{user:this.state.currentUser,updateUser:this.updateUser,updateCourses:this.fetchCourses})),c.a.createElement(O.a,{path:"/editCourse/:id"},c.a.createElement(ht,{user:this.state.currentUser}))))))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(Et,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[140,1,2]]]);
//# sourceMappingURL=main.6e41fa64.chunk.js.map