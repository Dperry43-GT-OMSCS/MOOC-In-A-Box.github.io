(this["webpackJsonpmooc-in-a-box"]=this["webpackJsonpmooc-in-a-box"]||[]).push([[0],{133:function(e,t,a){e.exports=a(299)},137:function(e,t,a){},139:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},140:function(e,t,a){},141:function(e,t,a){},278:function(e,t,a){},279:function(e,t,a){},295:function(e,t,a){},296:function(e,t,a){},297:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getUserById",(function(){return pe})),a.d(n,"getCourseById",(function(){return he})),a.d(n,"getAllCourses",(function(){return fe})),a.d(n,"getAllUsers",(function(){return Ee})),a.d(n,"updateUser",(function(){return ve})),a.d(n,"createUser",(function(){return Ce})),a.d(n,"getCurrentUser",(function(){return be})),a.d(n,"logUserInUser",(function(){return ge})),a.d(n,"signOut",(function(){return ye})),a.d(n,"deleteUser",(function(){return Oe})),a.d(n,"createCourse",(function(){return ke}));var r=a(0),o=a.n(r),c=a(9),l=a.n(c),s=(a(137),a(8)),i=a.n(s),u=a(15),m=a(39),d=a(27),p=a(54),h=a(55),f=a(13),E=a(59),v=(a(139),a(140),a(356)),C=a(357),b=a(350),g=a(303),y=a(20),O=a(44),k=a(110),j=a.n(k),x=(a(141),a(12)),w=a(341),S=(a(3),a(344)),N=a(346),U=a(347),F=a(348),I=a(349),H=a(31),B=a(76),V=a(102),z=a.n(V),T=Object(w.a)((function(e){return{root:{maxWidth:345,minWidth:345,maxHeight:400,minHeight:400,position:"relative"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:B.a[500]},actionsRow:{position:"absolute",bottom:0,left:0},content:{paddingBottom:"1rem"}}}));function L(e){var t=T(),a=o.a.useState(!1),n=Object(x.a)(a,2);n[0],n[1];return console.log(e),o.a.createElement(S.a,{variant:"outlined",className:t.root},o.a.createElement(N.a,{title:e.course.title,subheader:e.course.owner.displayName}),o.a.createElement(U.a,{className:t.media,image:"/static/images/cards/paella.jpg",title:"Paella dish"}),o.a.createElement(F.a,{className:t.content},o.a.createElement(H.a,{variant:"body2",color:"textSecondary",component:"p"},e.course.description),o.a.createElement(H.a,{variant:"body2",color:"textSecondary",component:"p"},e.course.owner.displayName)),o.a.createElement(I.a,{className:t.actionsRow,disableSpacing:!0},o.a.createElement(g.a,{"aria-label":"add to favorites"},o.a.createElement(z.a,null)),o.a.createElement(b.a,{variant:"contained",color:"primary",component:y.b,to:"/courseOverview/".concat(e.course.id)},"Overview")))}a(101);var P=a(358),A=a(108),R=a.n(A),M=a(370);a(278);var W=function(e){return o.a.createElement("div",{className:"search-bar"},o.a.createElement(M.a,{value:e.searchValue,onChange:e.onChange,id:"outlined-search",type:"search",variant:"outlined",color:"white"}),o.a.createElement(g.a,{className:"menu-button",onClick:e.onSearchClicked},o.a.createElement(R.a,{className:"search-bar-icon"})))},D=a(111),G=a(375),Y=a(351),K=a(352),J=a(355),Z=a(371),q=a(354);var X=function(e){return o.a.createElement(q.a,{value:e.value,control:o.a.createElement(Z.a,null),label:e.value})};var Q=function(e){var t=e.options.map((function(e){return o.a.createElement(X,{handleClick:e.associatedClickFunction,value:e.display})}));return o.a.createElement(D.a,{id:e.menuId,anchorEl:e.element,keepMounted:!0,open:Boolean(e.element),onClose:e.closeFunction},o.a.createElement(J.a,null,o.a.createElement(Y.a,{component:"fieldset"},o.a.createElement(K.a,{component:"legend"},e.menuLabel),o.a.createElement(G.a,{"aria-label":"gender",name:e.radioGroupName,value:e.menuValue,onChange:function(t){e.closeFunction(t.target.value)}},t))))};var $=function(e){var t=e.menuItems.map((function(e){return o.a.createElement(b.a,{color:"inherit",className:"menu-button",onClick:e.clickedFunction},e.buttonText)})),a=e.menuItems.map((function(e){return o.a.createElement(Q,{element:e.element,closeFunction:e.closeFunction,options:e.menuOptions,menuId:e.menuId,menuLabel:e.buttonText})}));return o.a.createElement(v.a,{position:"static",className:"course-library-app-bar"},o.a.createElement(C.a,null,t,o.a.createElement(W,{searchValue:e.searchInfo.value,onChange:e.searchInfo.onChange,onSearchClicked:e.searchInfo.onClick})),a)},_=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).sortByClicked=function(e){a.setState({sortByElement:e.currentTarget})},a.sortByHandleClose=function(e){console.log(e),a.setState({sortByElement:null,sortFilterValue:e})},a.topicClicked=function(e){a.setState({topicElement:e.currentTarget})},a.topicHandleClose=function(e){a.setState({topicElement:null,topicFilterValue:e})},a.organizationClicked=function(e){a.setState({organizationElement:e.currentTarget})},a.organizationHandleClosed=function(e){a.setState({organizationElement:null,organizationFilterValue:e})},a.buildMenuItems=function(){return[{buttonText:"Sort By",menuId:"menu-sort-by",clickedFunction:a.sortByClicked,closeFunction:a.sortByHandleClose,element:a.state.sortByElement,radioGroupName:"menuRadio",menuValue:a.state.sortFilterValue,menuOptions:[{display:"Newest",associatedClickFunction:a.sortByHandleClose},{display:"Recommended",associatedClickFunction:a.sortByHandleClose},{display:"Trending",associatedClickFunction:a.sortByHandleClose}]},{buttonText:"Topic",menuId:"menu-topic",clickedFunction:a.topicClicked,element:a.state.topicElement,closeFunction:a.topicHandleClose,radioGroupName:"topicRadio",menuValue:a.state.topicFilterValue,menuOptions:[{display:"Science",associatedClickFunction:a.topicHandleClose},{display:"Technology",associatedClickFunction:a.topicHandleClose},{display:"History",associatedClickFunction:a.topicHandleClose},{display:"Arts",associatedClickFunction:a.topicHandleClose}]},{buttonText:"Organization",menuId:"menu-organization",clickedFunction:a.organizationClicked,element:a.state.organizationElement,closeFunction:a.organizationHandleClosed,radioGroupName:"organizationRadio",menuValue:a.state.organizationFilterValue,menuOptions:[{display:"Required",associatedClickFunction:a.organizationHandleClosed},{display:"Recommended",associatedClickFunction:a.organizationHandleClosed},{display:"All Courses",associatedClickFunction:a.organizationHandleClosed}]}]},console.log(e),a.handleSearchChange=a.handleSearchChange.bind(Object(f.a)(a)),a.handleSearchClicked=a.handleSearchClicked.bind(Object(f.a)(a)),a.sortByClicked=a.sortByClicked.bind(Object(f.a)(a)),a.sortByHandleClose=a.sortByHandleClose.bind(Object(f.a)(a)),a.topicClicked=a.topicClicked.bind(Object(f.a)(a)),a.topicHandleClose=a.topicHandleClose.bind(Object(f.a)(a)),a.organizationClicked=a.organizationClicked.bind(Object(f.a)(a)),a.organizationHandleClosed=a.organizationHandleClosed.bind(Object(f.a)(a)),a.buildMenuItems=a.buildMenuItems.bind(Object(f.a)(a)),a.state={searchValue:"",sortByElement:null,topicElement:null,organizationElement:null,sortFilterValue:null,topicFilterValue:null,organizationFilterValue:null},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"handleSearchChange",value:function(e){console.log("Key Entered!"),this.setState({searchValue:e.target.value})}},{key:"handleSearchClicked",value:function(e){console.log("Search button clicked!"),console.log(this.state.searchValue)}},{key:"render",value:function(){console.log(this.state);var e=this.buildMenuItems(),t={value:this.state.searchValue,onChange:this.handleSearchChange,onClick:this.handleSearchClicked},a=this.props.courses.map((function(e){return o.a.createElement(P.a,{item:!0,s:4},o.a.createElement(L,{course:e}))}));return o.a.createElement("div",{class:"course-library"},o.a.createElement($,{menuItems:e,searchInfo:t}),o.a.createElement("div",{className:"course-list"},o.a.createElement(P.a,{container:!0,spacing:3},a)))}}]),t}(o.a.Component),ee=(a(279),a(112)),te=a(373),ae=a(359),ne=a(360),re=a(57),oe=a.n(re),ce=a(353),le=a(304),se=a(361),ie=a(362),ue=a(36),me=a.n(ue);me.a.initializeApp({apiKey:"AIzaSyA8tAHYGUiNkFHq6452W4Qr79eibVmtRZA",authDomain:"mooc-in-a-box.firebaseapp.com",databaseURL:"https://mooc-in-a-box.firebaseio.com",projectId:"mooc-in-a-box",storageBucket:"mooc-in-a-box.appspot.com",messagingSenderId:"594314585164",appId:"1:594314585164:web:3ae152452d1c238af100e9",measurementId:"G-LXH34JCXZS"});var de=me.a.firestore(),pe=function(e){return de.collection("Users").doc(e).get()},he=function(e){return de.collection("Course").doc(e).get()},fe=function(){return de.collection("Course").get()},Ee=function(){return de.collection("Users").get()},ve=function(e,t){return console.log("Update User Called"),de.collection("Users").doc(e).set(t,{merge:!0})},Ce=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",de.collection("Users").doc(t.uid).set({id:t.uid,name:t.displayName,photoURL:t.photoURL,email:t.email},{merge:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=me.a.auth().currentUser;return e||void 0},ge=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t?new me.a.auth.GoogleAuthProvider:new me.a.auth.FacebookAuthProvider,n=[],r=void 0,o=void 0,e.next=6,Ee().then((function(e){e.forEach((function(e){var t=e.data();t.id=e.id,n.push(t)}))}));case 6:return e.next=8,me.a.auth().signInWithPopup(a).then(function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.user,n.forEach((function(e){e.id===o.uid&&(r=e)})),void 0!==r){e.next=5;break}return e.next=5,Ce(o).then(Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",be());case 1:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e)}));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.auth().signOut().then((function(){return!0})).catch((function(e){return console.log(e),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=me.a.auth().currentUser,e.next=3,t.delete().then((function(){return!0})).catch((function(e){return console.log(e),!1}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return me.a.storage(),n=de.doc("Users/".concat(t.id)),r=de.doc(a.chapter.lessons),a.chapter.lessons=r,e.abrupt("return",de.collection("Course").add({owner:n,title:a.title,description:a.description,chapter:a.chapter}).then((function(e){var a;a=t.createdCourses&&t.createdCourses.length>0?t.createdCourses:[];var n=de.doc("Course/".concat(e.id));a.push(n);var r={createdCourses:a};return ve(t.id,r).then((function(e){return console.log("Result from update User:",e),e}))})));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function je(e){return[0,1,2].map((function(t){return o.a.cloneElement(e,{key:t})}))}function xe(){return o.a.createElement(ee.a,{className:"paper"},o.a.createElement(te.a,null,o.a.createElement(ae.a,{expandIcon:o.a.createElement(oe.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},o.a.createElement(H.a,{variant:"subtitle2"},"Topic 1")),o.a.createElement(ne.a,null,o.a.createElement(P.a,{container:!0,spacing:2},o.a.createElement(P.a,{item:!0,xs:12,md:6},o.a.createElement("div",null,o.a.createElement(ce.a,{dense:"true"},je(o.a.createElement(le.a,null,o.a.createElement(se.a,{primary:"SubTopic"}))))))))),o.a.createElement(te.a,null,o.a.createElement(ae.a,{expandIcon:o.a.createElement(oe.a,null),"aria-controls":"panel2a-content",id:"panel2a-header"},o.a.createElement(H.a,{variant:"subtitle2"},"Topic 2")),o.a.createElement(ne.a,null,o.a.createElement(P.a,{container:!0,spacing:2},o.a.createElement(P.a,{item:!0,xs:12,md:6},o.a.createElement("div",null,o.a.createElement(ce.a,{dense:"true"},je(o.a.createElement(le.a,null,o.a.createElement(se.a,{primary:"SubTopic2"}))))))))))}function we(e){return o.a.createElement(ee.a,{className:"paper"},e.course.title)}var Se=function(e){var t=Object(r.useState)(),a=Object(x.a)(t,2),n=a[0],c=a[1],l=Object(r.useState)(),s=Object(x.a)(l,2),i=(s[0],s[1]),u=Object(O.f)().id;return Object(r.useEffect)((function(){u&&(console.log("ID: ".concat(u)),he(u).then((function(e){console.log(e.exists),e.exists?(i(null),c(e.data())):(i("Course Not Found"),c())})).catch((function(){return i("Course Get Fail")})))}),[u]),console.log("Course Overiew: ".concat(n)),n?o.a.createElement("div",{className:"courseOverview"},o.a.createElement(H.a,{className:"center",variant:"h3",component:"h3"},"Course Overview"),o.a.createElement(P.a,{container:!0,spacing:3},o.a.createElement(P.a,{item:!0,xs:4},o.a.createElement(xe,null)),o.a.createElement(P.a,{item:!0,xs:8},o.a.createElement(we,{course:n})))):o.a.createElement("div",null,"Loading...",o.a.createElement(ie.a,null))},Ne=(a(295),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={user:void 0},a.loginGoogle=a.loginGoogle.bind(Object(f.a)(a)),a.loginFacebook=a.loginFacebook.bind(Object(f.a)(a)),a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"loginGoogle",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(!0).then((function(e){a=e,n.props.completeLogin(a),n.props.history.push("/myCourses")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loginFacebook",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(!1).then((function(e){a.props.completeLogin(e),a.props.history.push("/myCourses")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",{className:"login"},o.a.createElement("h1",null,"Sign into Mooc in a Box"),o.a.createElement(b.a,{color:"inherit",className:"menu-button",onClick:this.loginFacebook},"Sign in with Facebook"),o.a.createElement(b.a,{color:"inherit",className:"menu-button",onClick:this.loginGoogle},"Sign in with Google"))}}]),t}(o.a.Component)),Ue=Object(O.g)(Ne),Fe=(a(296),a(363)),Ie=a(364);function He(e){var t=e.courses.length;return console.log(t),o.a.createElement(te.a,null,o.a.createElement(ae.a,{expandIcon:o.a.createElement(oe.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},o.a.createElement(H.a,{variant:"subtitle2"},t," Course(s)")),o.a.createElement(ne.a,null,o.a.createElement(P.a,{container:!0,spacing:2},o.a.createElement(P.a,{item:!0,xs:12,md:6},o.a.createElement("div",null,o.a.createElement(ce.a,{dense:"true"},e.courses.map((function(e){return o.a.createElement(le.a,{button:!0,component:y.b,to:"/courseOverview/".concat(e.courseId)},o.a.createElement(se.a,{primary:e.courseTitle}))}))))))))}function Be(e){console.log("Current Courses Component Props",e);var t=e.currentCourses.length;return console.log(t),o.a.createElement("div",null,o.a.createElement("h1",null," Current Courses "),o.a.createElement(He,{courses:e.currentCourses}))}function Ve(e){return console.log("Past Courses Component Props: ".concat(e)),o.a.createElement("div",null,o.a.createElement("h1",null," Past Courses "),o.a.createElement(He,{courses:e.pastCourses}))}function ze(e){return console.log("Saved Courses Component Props: ".concat(e)),o.a.createElement("div",null,o.a.createElement("h1",null," Saved Courses "),o.a.createElement(He,{courses:e.savedCourses}))}function Te(e){return console.log("Created Courses Component Props: ".concat(e)),o.a.createElement("div",null,o.a.createElement("h1",null," Saved Courses "),o.a.createElement(He,{courses:e.createdCourses}))}var Le=function(e){if(console.log("My Courses Component: ",e.user),e.user){var t=[];console.log(e.user.favoritedCourses);var a=!1;if(e.user.currentCourses&&e.user.currentCourses.length>0){var n=o.a.createElement(Be,{currentCourses:e.user.currentCourses});t.push(n),a=!0}if(e.user.pastCourses&&e.user.currentCourses.pastCourses>0){var r=o.a.createElement(Ve,{pastCourses:e.user.pastCourses});t.push(r),a=!0}if(e.user.favoritedCourses&&e.user.favoritedCourses.length>0){var c=o.a.createElement(ze,{savedCourses:e.user.favoritedCourses});t.push(c),a=!0}if(e.user.createdCourses&&e.user.createdCourses.length>0){var l=o.a.createElement(Te,{createdCourses:e.user.createdCourses});t.push(l),a=!0}return a?o.a.createElement("div",{className:"MyCourses"},o.a.createElement(Fe.a,null),o.a.createElement(H.a,{className:"center",variant:"h3",component:"h3"},"My Courses"),o.a.createElement(Ie.a,{maxWidth:"lg"},o.a.createElement(ee.a,{className:"paper"},t.map((function(e){return e}))))):o.a.createElement("div",{className:"MyCourses"},o.a.createElement(Fe.a,null),o.a.createElement(H.a,{className:"center",variant:"h3",component:"h3"},"My Courses"),o.a.createElement(Ie.a,{maxWidth:"lg"},o.a.createElement(ee.a,{className:"paper"},o.a.createElement("h4",null,"You don't have any courses saved yet!"))))}return o.a.createElement("div",null,"Loading..",o.a.createElement(ie.a,null))},Pe=(a(297),a(369)),Ae=a(109),Re=a.n(Ae),Me=a(374),We=a(368),De=a(366),Ge=a(367),Ye=a(365);var Ke=function(e){return o.a.createElement("div",null,o.a.createElement(Me.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(Ye.a,{id:"form-dialog-title"},e.field),o.a.createElement(De.a,null,o.a.createElement(Ge.a,null,"Edit the Field below to update your ",e.field),o.a.createElement(M.a,{autoFocus:!0,margin:"dense",id:"name",label:e.field,value:e.value,onChange:e.onChange,type:"email",fullWidth:!0})),o.a.createElement(We.a,null,o.a.createElement(b.a,{onClick:e.handleClose,color:"primary"},"Cancel"),o.a.createElement(b.a,{onClick:e.handleSubmit,color:"primary"},"Submit"))))},Je={displayName:"Display Name",email:"Email Address",password:"Password"};var Ze=function(e){return o.a.createElement("div",null,o.a.createElement(H.a,{align:"center",variant:"h6",component:"h6"},o.a.createElement("strong",null,e.displayValue)),o.a.createElement(H.a,{align:"center",variant:"body1",component:"body1"},o.a.createElement("span",null,e.value,o.a.createElement(g.a,{className:"menu-button",color:"inherit","aria-label":"menu"},o.a.createElement(Re.a,{onClick:e.openDialog})))),o.a.createElement(Ke,{isOpen:e.isDialogOpen,handleClose:e.handleClose,handleSubmit:e.handleSubmit,field:Je[e.displayKey],value:e.value,onChange:e.onChange}))};var qe=Object(O.g)((function(e){console.log(e);var t=Object(r.useState)(null),a=Object(x.a)(t,2),n=a[0],c=a[1],l=Object(r.useState)(null),s=Object(x.a)(l,2),m=s[0],d=s[1],p=Object(r.useState)(),h=Object(x.a)(p,2),f=(h[0],h[1],Object(r.useState)(!1)),E=Object(x.a)(f,2),v=E[0],C=E[1],g=Object(r.useState)(null),y=Object(x.a)(g,2),O=y[0],k=y[1],j=Object(r.useState)(null),w=Object(x.a)(j,2),S=w[0],N=w[1],U=Object(r.useState)(!1),F=Object(x.a)(U,2),I=F[0],B=F[1];function V(){return(V=Object(u.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ye().then((function(t){t&&e.history.push("/")}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function z(){return(z=Object(u.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Oe().then((function(t){t&&e.history.push("/")}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.user&&null===n&&null===O&&(c(e.user.displayName),k(e.user.interests)),e.user?o.a.createElement("div",{className:"userProfile"},o.a.createElement(Fe.a,null),o.a.createElement(H.a,{className:"center",variant:"h3",component:"h3"},"User Profile"),o.a.createElement(Ie.a,{className:"userProfile-bottom-padding",maxWidth:"lg"},o.a.createElement(ee.a,{className:"paper"},o.a.createElement(Ze,{displayValue:"User Interests",value:O,handleClose:function(){k(S),B(!1)},handleSubmit:function(){ve(e.user.id,{interests:O}).then((function(t){B(!1),k(O),e.updateUser()})).catch((function(e){console.log(e)}))},isDialogOpen:I,openDialog:function(){N(O),B(!0)},onChange:function(e){k(e.target.value)}}))),o.a.createElement(Pe.a,null),o.a.createElement(Ie.a,{maxWidth:"lg"},o.a.createElement(ee.a,{className:"paper"},o.a.createElement(Ze,{displayValue:"Display Name",value:n,handleClose:function(){c(m),C(!1)},handleSubmit:function(){ve(e.user.id,{displayName:n}).then((function(t){C(!1),d(n),e.updateUser()})).catch((function(e){console.log(e)}))},isDialogOpen:v,openDialog:function(){d(n),C(!0)},onChange:function(e){c(e.target.value)}}),o.a.createElement(Pe.a,null),o.a.createElement(Ze,{displayValue:"Email",value:e.user.email}),o.a.createElement(Pe.a,null),o.a.createElement(Ze,{displayValue:"Password",value:"*******"}),o.a.createElement(b.a,{color:"inherit",className:"menu-button",onClick:function(){return V.apply(this,arguments)}},"Sign out"),o.a.createElement(b.a,{color:"inherit",className:"menu-button",onClick:function(){return z.apply(this,arguments)}},"Delete account")))):o.a.createElement("div",null,"Loading..",o.a.createElement(ie.a,null))}));a(298);var Xe=function(e){var t=Object(r.useState)(),a=Object(x.a)(t,2),n=a[0],c=a[1],l=Object(r.useState)(),s=Object(x.a)(l,2),i=s[0],u=s[1];return o.a.createElement("div",null,o.a.createElement(Me.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(Ye.a,{id:"form-dialog-title"},"Create A New Course"),o.a.createElement(De.a,null,o.a.createElement(Ge.a,null,"Create a new course. Start by entering a title and description below!"),o.a.createElement(M.a,{autoFocus:!0,margin:"dense",id:"title",label:"Course Title",onChange:function(e){u(e.target.value)},type:"text",fullWidth:!0}),o.a.createElement(M.a,{autoFocus:!0,margin:"dense",id:"description",label:"Course Description",onChange:function(e){c(e.target.value)},type:"text",fullWidth:!0})),o.a.createElement(We.a,null,o.a.createElement(b.a,{onClick:e.handleClose,color:"primary"},"Cancel"),o.a.createElement(b.a,{onClick:function(){console.log("Title: ".concat(i)),console.log("Description: ".concat(n));var t={title:i,description:n};e.handleSubmit(t)},color:"primary"},"Submit"))))};var Qe=function(e){console.log(e.user);var t=Object(r.useState)(!1),a=Object(x.a)(t,2),n=a[0],c=a[1];function l(){return(l=Object(u.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.user.id),a.owner=e.user.id,a.chapter={id:0,lessons:"Course/rlfxOavBn4nPZLNTRMkL/Lessons/kL5CwNARpoUhexocK7P4",sectionTitle:"".concat(a.title," - Section")},t.next=5,ke(e.user,a);case 5:t.sent,c(!1),e.updateUser(),e.updateCourses();case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var s=null;return s=e.user&&e.user.createdCourses&&e.user.createdCourses.length>0?o.a.createElement("h3",null,"You created some courses!"):o.a.createElement("h3",null,"You have not created any courses"),o.a.createElement("div",{className:"Home"},o.a.createElement(Fe.a,null),o.a.createElement(H.a,{className:"center",variant:"h3",component:"h3"},"Classes You've Created"),o.a.createElement(Ie.a,{className:"userProfile-bottom-padding",maxWidth:"lg"},o.a.createElement(ee.a,{className:"paper"},s,o.a.createElement("span",null,o.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(){c(!0)}},"Create New Course")))),o.a.createElement(Pe.a,null),o.a.createElement(Xe,{isOpen:n,handleClose:function(){c(!1)},handleSubmit:function(e){return l.apply(this,arguments)},user:e.user}))},$e=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).setUser=function(t){console.log("USER:",t),e.setState({currentUser:t})},e.state={courses:[],users:[],currentUser:void 0},e.fetchCourses=e.fetchCourses.bind(Object(f.a)(e)),e.fetchUsers=e.fetchUsers.bind(Object(f.a)(e)),e.render=e.render.bind(Object(f.a)(e)),e.updateUser=e.updateUser.bind(Object(f.a)(e)),e.fetchCourses(),e}return Object(E.a)(t,e),Object(d.a)(t,[{key:"updateUser",value:function(){var e=this;console.log(this.state),pe(this.state.currentUser.id).then((function(t){var a=t.data();e.setState({currentUser:a})}))}},{key:"fetchCourses",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,fe().then((function(e){e.forEach((function(e){var n=e.data();console.log(n);var r=e.id;n.owner.get().then((function(e){n.owner=e.data()})),n.chapter.lessons.get().then((function(e){n.chapter.lessons=e.data()})),n.id=r,t.push(n),a.setState({courses:t})}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchUsers",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,Ee().then((function(e){e.forEach((function(e){var n=e.data();n.id=e.id,t.push(n),a.setState({users:t})}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return o.a.createElement(y.a,null,o.a.createElement("div",null,o.a.createElement("nav",null,o.a.createElement(v.a,{position:"static"},o.a.createElement(C.a,null,o.a.createElement(b.a,{color:"inherit",className:"menu-button",component:y.b,to:"/"},"MOOC-In-A-Box"),o.a.createElement(b.a,{color:"inherit",className:"menu-button",component:y.b,to:"/myCourses"},"My Courses"),o.a.createElement(b.a,{color:"inherit",className:"menu-button",component:y.b,to:"/courseLibrary"},"All Courses"),o.a.createElement(b.a,{color:"inherit",className:"menu-button align-left",component:y.b,to:"/createCourse"},"Create a Course"),o.a.createElement(g.a,{className:"menu-button profile-icon",component:y.b,to:"/profile",color:"inherit","aria-label":"menu"},o.a.createElement(j.a,null)),o.a.createElement("span",null,null===(e=this.props.user)||void 0===e?void 0:e.name)))),o.a.createElement(O.c,null,o.a.createElement(O.a,{exact:!0,path:"/"},o.a.createElement(Ue,{completeLogin:this.setUser})),o.a.createElement(O.a,{path:"/courseLibrary"},o.a.createElement(_,{courses:this.state.courses})),o.a.createElement(O.a,{path:"/courseOverview/:id"},o.a.createElement(Se,{service:n})),o.a.createElement(O.a,{path:"/myCourses"},o.a.createElement(Le,{user:this.state.currentUser})),o.a.createElement(O.a,{path:"/profile"},o.a.createElement(qe,{user:this.state.currentUser,updateUser:this.updateUser})),o.a.createElement(O.a,{path:"/createCourse"},o.a.createElement(Qe,{user:this.state.currentUser,updateUser:this.updateUser,updateCourses:this.fetchCourses})))))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement($e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[133,1,2]]]);
//# sourceMappingURL=main.5b7659f3.chunk.js.map