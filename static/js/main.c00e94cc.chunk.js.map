{"version":3,"sources":["components/CourseCard/CourseCard.js","components/CourseLibrary/CourseLibraryToolbar/SearchBar/SearchBar.component.js","components/CourseLibrary/CourseLibraryToolbar/CourseLibraryToolbarMenu/CourseLibraryToolbarMenuItem/CourseLibraryToolbarMenuItem.component.js","components/CourseLibrary/CourseLibraryToolbar/CourseLibraryToolbarMenu/CourseLibraryToolbarMenu.component.js","components/CourseLibrary/CourseLibraryToolbar/CourseLibraryToolbar.component.js","components/CourseLibrary/CourseLibrary.js","service/firebase.service.js","components/CourseOverview/CourseOverview.js","components/Login/Login.js","components/CoursesDropdown/CoursesDropdown.component.js","components/MyCourses/MyCourses.js","components/UserProfile/EditDialog/EditDialog.component.js","components/UserProfile/UserProfileSection/UserProfileSection.component.js","components/UserProfile/UserProfile.js","components/CreateCourse/CreateCourseDialog/CreateCourseDialog.component.js","components/CreateCourse/CreateCourse.component.js","App.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","root","maxWidth","minWidth","maxHeight","minHeight","position","media","height","paddingTop","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","backgroundColor","red","actionsRow","bottom","left","content","paddingBottom","CourseCard","props","classes","React","useState","console","log","Card","variant","className","CardHeader","title","course","subheader","owner","displayName","CardMedia","image","CardContent","Typography","color","component","description","CardActions","disableSpacing","IconButton","aria-label","Button","Link","to","id","SearchBar","TextField","value","searchValue","onChange","type","onClick","onSearchClicked","CourseLibraryToolbarMenuItem","FormControlLabel","control","Radio","label","CourseLibraryToolbarMenu","menuItems","options","map","option","handleClick","associatedClickFunction","display","Menu","menuId","anchorEl","element","keepMounted","open","Boolean","onClose","closeFunction","MenuItem","FormControl","FormLabel","menuLabel","RadioGroup","name","radioGroupName","menuValue","event","target","CourseLibraryToolbar","menuButtons","menuItem","clickedFunction","buttonText","menus","menuOptions","AppBar","Toolbar","searchInfo","CourseLibrary","sortByClicked","setState","sortByElement","currentTarget","sortByHandleClose","sortFilterValue","topicClicked","topicElement","topicHandleClose","topicFilterValue","organizationClicked","organizationElement","organizationHandleClosed","organizationFilterValue","buildMenuItems","state","handleSearchChange","bind","handleSearchClicked","e","this","listItems","courses","item","Grid","s","class","container","spacing","Component","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","getUserById","userId","collection","doc","get","getCourseById","courseId","getAllCourses","getAllUsers","updateUser","updates","a","set","merge","createUser","userAuth","uid","photoURL","email","getCurrentUser","user","auth","currentUser","logUserInUser","isGoog","provider","GoogleAuthProvider","FacebookAuthProvider","users","undefined","authUser","then","queryResults","forEach","data","push","signInWithPopup","result","u","catch","error","signOut","document","cookie","deleteUser","delete","createCourse","courseInfo","storage","userDocRef","lessonRef","chapter","lessons","add","courseDoc","usersCreatedCourses","createdCourses","length","courseRef","updateObject","generate","cloneElement","key","CourseOverviewNavigationPane","Paper","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","ExpansionPanelDetails","xs","md","List","dense","ListItem","ListItemText","primary","CourseOverviewCoursePane","CourseOverview","setCourse","setError","useParams","useEffect","FirebaseService","courseResult","exists","CircularProgress","LoginPage","loginGoogle","loginFacebook","completeLogin","history","withRouter","CoursesDropdownComponent","RouterLink","includeEditIcon","CurrentCoursesComponent","numberOfCourses","currentCourses","PastCoursesComponent","pastCourses","SavedCoursesComponent","savedCourses","CreatedCoursesComponent","MyCourses","setUser","courseComponentList","favoritedCourses","hasCourses","pastCourse","CssBaseline","Container","EditDialog","Dialog","isOpen","handleClose","aria-labelledby","DialogTitle","field","DialogContent","DialogContentText","autoFocus","margin","fullWidth","DialogActions","handleSubmit","userKeyToDisplayMap","UserProfileSection","align","displayValue","openDialog","isDialogOpen","displayKey","setDisplayName","oldDisplayName","setOldDiplayName","isDisplayNameDialogOpen","setIsDisplayNameDialogOpen","userInterests","setUserInterests","oldUserInterests","setOldUserInterests","isUserInterestsDialogOpen","setIsUserInterestsDialogOpen","res","interests","err","Divider","CreateCourseDialog","setDescription","setTitle","courseDetails","CreateCourse","isCreateCourseDialogOpen","setIsCreateCourseDialogOpen","sectionTitle","updateCourses","currnetCoursesSection","App","fetchCourses","fetchUsers","render","getUserOnLoad","newCourses","find","split","some","trim","startsWith","cookieValue","replace","lesson","hidden","exact","path","service","window","location","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.c00e94cc.chunk.js","sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { red } from '@material-ui/core/colors';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport { Button } from '@material-ui/core';\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    maxWidth: 345,\r\n    minWidth: 345,\r\n    maxHeight: 400,\r\n    minHeight: 400,\r\n    position: 'relative',\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  avatar: {\r\n    backgroundColor: red[500],\r\n  },\r\n  actionsRow: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0\r\n  }, \r\n  content: {\r\n    paddingBottom: '1rem'\r\n  }\r\n}));\r\n\r\nexport default function CourseCard(props) {\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = React.useState(false);\r\n\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n  console.log(props)\r\n\r\n  return (\r\n    <Card variant=\"outlined\" className={classes.root}>\r\n      <CardHeader\r\n        title={props.course.title}\r\n        subheader={props.course.owner.displayName}\r\n      />\r\n      <CardMedia\r\n        className={classes.media}\r\n        image=\"/static/images/cards/paella.jpg\"\r\n        title=\"Paella dish\"\r\n      />\r\n      <CardContent className={classes.content}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          {props.course.description}\r\n        </Typography> \r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          {props.course.owner.displayName}\r\n        </Typography>\r\n      </CardContent>\r\n      <CardActions className={classes.actionsRow} disableSpacing>\r\n        <IconButton aria-label=\"add to favorites\">\r\n          <FavoriteIcon />\r\n        </IconButton>\r\n        <Button \r\n          variant=\"contained\" \r\n          color=\"primary\"\r\n          component={Link}\r\n          to={`/courseOverview/${props.course.id}`}\r\n          >\r\n            Overview\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}","import React from 'react';\r\n\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { IconButton  } from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport './SearchBar.css';\r\n\r\nfunction SearchBar(props) {\r\n    return(\r\n      <div className=\"search-bar\">\r\n          <TextField value={props.searchValue} onChange={props.onChange} id=\"outlined-search\" type=\"search\" variant=\"outlined\"  color=\"white\"/>\r\n          <IconButton className=\"menu-button\" onClick={props.onSearchClicked}>\r\n            <SearchIcon className=\"search-bar-icon\" />\r\n          </IconButton>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default SearchBar\r\n  \r\n\r\n","import React from 'react';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\n\r\n\r\nfunction CourseLibraryToolbarMenuItem(props){\r\n    return (\r\n      <FormControlLabel value={props.value} control={<Radio />} label={props.value} />\r\n    )\r\n  }\r\n\r\n  export default CourseLibraryToolbarMenuItem","import React from 'react';\r\n\r\nimport Menu from '@material-ui/core/Menu';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport CourseLibraryToolbarMenuItem from './CourseLibraryToolbarMenuItem/CourseLibraryToolbarMenuItem.component';\r\n\r\n\r\n\r\nfunction CourseLibraryToolbarMenu(props){\r\n\r\n  let menuItems = props.options.map( option => {\r\n    return (\r\n      <CourseLibraryToolbarMenuItem\r\n        handleClick={option.associatedClickFunction}\r\n        value={option.display}>\r\n      </CourseLibraryToolbarMenuItem>\r\n    )\r\n  })\r\n\r\n  const onChangeFunction = (event) => {\r\n    props.closeFunction(event.target.value)\r\n  }\r\n\r\n    return (\r\n      <Menu\r\n          id={props.menuId}\r\n          anchorEl={props.element}\r\n          keepMounted\r\n          open={Boolean(props.element)}\r\n          onClose={props.closeFunction}\r\n        >\r\n          <MenuItem>\r\n            <FormControl component=\"fieldset\">\r\n            <FormLabel component=\"legend\">{props.menuLabel}</FormLabel>\r\n            <RadioGroup aria-label=\"gender\" name={props.radioGroupName} value={props.menuValue} onChange={onChangeFunction}>\r\n              {menuItems}\r\n            </RadioGroup>\r\n            </FormControl>\r\n          </MenuItem>\r\n      </Menu>\r\n    )\r\n  }\r\n\r\n  export default CourseLibraryToolbarMenu","import React from 'react';\r\n\r\nimport {AppBar, Toolbar, IconButton, Typography } from '@material-ui/core';\r\nimport {Button} from '@material-ui/core';\r\n\r\nimport SearchBar from './SearchBar/SearchBar.component';\r\nimport CourseLibraryToolbarMenu from './CourseLibraryToolbarMenu/CourseLibraryToolbarMenu.component'\r\n\r\n\r\n//<CourseLibraryMenu handleClose={this.handleClose} sortByElement={props.state.sortByElement}></CourseLibraryMenu>\r\n\r\n\r\nfunction CourseLibraryToolbar(props){\r\n\r\n    let menuButtons = props.menuItems.map(menuItem => {\r\n        return (\r\n            <Button\r\n                color=\"inherit\" \r\n                className=\"menu-button\"\r\n                onClick={menuItem.clickedFunction}\r\n            >\r\n                {menuItem.buttonText}\r\n            </Button>\r\n        )\r\n    })\r\n\r\n    let menus = props.menuItems.map(menuItem => {\r\n        return(\r\n            <CourseLibraryToolbarMenu\r\n                element={menuItem.element}\r\n                closeFunction = {menuItem.closeFunction}\r\n                options={menuItem.menuOptions}\r\n                menuId={menuItem.menuId}\r\n                menuLabel={menuItem.buttonText}\r\n            >\r\n            </CourseLibraryToolbarMenu>\r\n        )\r\n    })\r\n\r\n    return(\r\n        <AppBar position=\"static\" className=\"course-library-app-bar\">\r\n            <Toolbar>\r\n                {menuButtons}\r\n                <SearchBar searchValue={props.searchInfo.value} onChange={props.searchInfo.onChange} onSearchClicked={props.searchInfo.onClick}></SearchBar>\r\n            </Toolbar>\r\n            {menus}\r\n      </AppBar>\r\n    )\r\n}\r\n\r\nexport default CourseLibraryToolbar","import React from 'react';\r\nimport './CourseLibrary.css';\r\nimport {Button} from '@material-ui/core';\r\nimport CourseCard from '../CourseCard/CourseCard';\r\nimport { render } from '@testing-library/react';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport {AppBar, Toolbar, IconButton, Typography } from '@material-ui/core';\r\nimport SearchBar from './CourseLibraryToolbar/SearchBar/SearchBar.component';\r\nimport CourseLibraryMenu from './CourseLibraryToolbar/CourseLibraryToolbarMenu/CourseLibraryToolbarMenu.component'\r\n\r\nimport CourseLibraryToolbar from './CourseLibraryToolbar/CourseLibraryToolbar.component'\r\n\r\nclass CourseLibrary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props);\r\n    // Bind Search\r\n    this.handleSearchChange = this.handleSearchChange.bind(this);\r\n    this.handleSearchClicked = this.handleSearchClicked.bind(this);\r\n    // Bind Sort By\r\n    this.sortByClicked = this.sortByClicked.bind(this);\r\n    this.sortByHandleClose = this.sortByHandleClose.bind(this);\r\n    // Bind Topic\r\n    this.topicClicked = this.topicClicked.bind(this);\r\n    this.topicHandleClose = this.topicHandleClose.bind(this);\r\n    // Bind Organization\r\n    this.organizationClicked = this.organizationClicked.bind(this);\r\n    this.organizationHandleClosed = this.organizationHandleClosed.bind(this);\r\n\r\n    this.buildMenuItems = this.buildMenuItems.bind(this);\r\n\r\n    this.state = {\r\n      searchValue: \"\",\r\n      sortByElement: null,\r\n      topicElement: null,\r\n      organizationElement: null,\r\n      sortFilterValue: null,\r\n      topicFilterValue: null,\r\n      organizationFilterValue:null\r\n\r\n    }\r\n  }\r\n\r\n  /** Search Function */\r\n  handleSearchChange(e){\r\n    console.log(\"Key Entered!\")\r\n    this.setState({\r\n      searchValue: e.target.value\r\n    })\r\n  }\r\n\r\n  handleSearchClicked(e){\r\n    console.log(\"Search button clicked!\")\r\n    console.log(this.state.searchValue);\r\n  }\r\n\r\n  /** Sort By Functions */\r\n  sortByClicked = event => {\r\n    this.setState({\r\n      sortByElement: event.currentTarget\r\n    });\r\n  };\r\n\r\n  sortByHandleClose = (value) => {\r\n    console.log(value);\r\n    this.setState({\r\n      sortByElement: null,\r\n      sortFilterValue: value\r\n    });\r\n  };\r\n\r\n\r\n  /** Topic Functions */\r\n  topicClicked = event => {\r\n    this.setState({\r\n      topicElement: event.currentTarget\r\n    });\r\n  };\r\n\r\n  topicHandleClose = (value) => {\r\n    this.setState({\r\n      topicElement: null,\r\n      topicFilterValue: value\r\n    });\r\n  };\r\n\r\n  /** Organization functions */\r\n  organizationClicked = event => {\r\n    this.setState({\r\n      organizationElement: event.currentTarget\r\n    });\r\n  };\r\n\r\n  organizationHandleClosed = (value) => {\r\n    this.setState({\r\n      organizationElement: null,\r\n      organizationFilterValue: value\r\n    });\r\n  };\r\n\r\n  buildMenuItems = () => {\r\n    const sortByInfo = {\r\n      buttonText: \"Sort By\",\r\n      menuId: \"menu-sort-by\",\r\n      clickedFunction: this.sortByClicked,\r\n      closeFunction: this.sortByHandleClose,\r\n      element: this.state.sortByElement,\r\n      radioGroupName: \"menuRadio\",\r\n      menuValue: this.state.sortFilterValue,\r\n      menuOptions: [\r\n        {\r\n          display: \"Newest\",\r\n          associatedClickFunction:  this.sortByHandleClose\r\n        },\r\n        {\r\n          display: \"Recommended\",\r\n          associatedClickFunction:  this.sortByHandleClose\r\n        },\r\n        {\r\n          display: \"Trending\",\r\n          associatedClickFunction:  this.sortByHandleClose\r\n        }\r\n      ]\r\n    }\r\n\r\n    const topicInfo = {\r\n      buttonText: \"Topic\",\r\n      menuId: \"menu-topic\",\r\n      clickedFunction: this.topicClicked,\r\n      element: this.state.topicElement,\r\n      closeFunction: this.topicHandleClose,\r\n      radioGroupName: \"topicRadio\",\r\n      menuValue: this.state.topicFilterValue,\r\n      menuOptions: [\r\n        {\r\n          display: \"Science\",\r\n          associatedClickFunction:  this.topicHandleClose\r\n        },\r\n        {\r\n          display: \"Technology\",\r\n          associatedClickFunction:  this.topicHandleClose\r\n        },\r\n        {\r\n          display: \"History\",\r\n          associatedClickFunction:  this.topicHandleClose\r\n        },\r\n        {\r\n          display: \"Arts\",\r\n          associatedClickFunction:  this.topicHandleClose\r\n        }\r\n      ]\r\n    }\r\n\r\n    const organizationInfo = {\r\n      buttonText: \"Organization\",\r\n      menuId: \"menu-organization\",\r\n      clickedFunction: this.organizationClicked,\r\n      element: this.state.organizationElement,\r\n      closeFunction: this.organizationHandleClosed,\r\n      radioGroupName: \"organizationRadio\",\r\n      menuValue: this.state.organizationFilterValue,\r\n      menuOptions: [\r\n        {\r\n          display: \"Required\",\r\n          associatedClickFunction:  this.organizationHandleClosed\r\n        },\r\n        {\r\n          display: \"Recommended\",\r\n          associatedClickFunction:  this.organizationHandleClosed\r\n        },\r\n        {\r\n          display: \"All Courses\",\r\n          associatedClickFunction:  this.organizationHandleClosed\r\n        }\r\n      ]\r\n    }\r\n\r\n    return [sortByInfo, topicInfo, organizationInfo];\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    // Mappings\r\n    console.log(this.state);\r\n\r\n    const menuItems = this.buildMenuItems();\r\n    const searchInfo = {\r\n      value: this.state.searchValue,\r\n      onChange: this.handleSearchChange,\r\n      onClick: this.handleSearchClicked\r\n    }\r\n\r\n    let listItems = this.props.courses.map(function(item) {\r\n      return (\r\n          <Grid item s={4}>\r\n            <CourseCard course={item}></CourseCard>\r\n          </Grid>\r\n      );\r\n    });\r\n    \r\n    return (\r\n      <div class=\"course-library\">\r\n        <CourseLibraryToolbar menuItems={menuItems} searchInfo={searchInfo}></CourseLibraryToolbar>\r\n          <div className=\"course-list\">\r\n          <Grid container spacing={3}>\r\n            {listItems}\r\n          </Grid>\r\n          </div>\r\n      </div>\r\n\r\n      );\r\n  }\r\n}\r\n\r\nexport default CourseLibrary;\r\n","// import * as firebase from \"firebase/app\";\r\n// import \"firebase/firestore\";\r\n// import \"firebase/auth\";\r\nimport firebase from 'firebase'\r\nimport { useRadioGroup } from '@material-ui/core';\r\n\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyA8tAHYGUiNkFHq6452W4Qr79eibVmtRZA\",\r\n    authDomain: \"mooc-in-a-box.firebaseapp.com\",\r\n    databaseURL: \"https://mooc-in-a-box.firebaseio.com\",\r\n    projectId: \"mooc-in-a-box\",\r\n    storageBucket: \"mooc-in-a-box.appspot.com\",\r\n    messagingSenderId: \"594314585164\",\r\n    appId: \"1:594314585164:web:3ae152452d1c238af100e9\",\r\n    measurementId: \"G-LXH34JCXZS\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nconst db = firebase.firestore();\r\n\r\n\r\nexport const getUserById = userId => {\r\n    return db.collection('Users').doc(userId).get();\r\n}\r\n\r\n\r\nexport const getCourseById = courseId => {\r\n    return db.collection('Course')\r\n        .doc(courseId)\r\n        .get();\r\n};\r\n\r\nexport const getAllCourses = () => {\r\n    return db.collection('Course').get();\r\n}\r\n\r\nexport const getAllUsers = () => {\r\n    return db.collection('Users').get();\r\n}\r\n\r\nexport const updateUser = async (userId, updates) => {\r\n    console.log(\"Update User Called\");\r\n    return db.collection('Users')\r\n        .doc(userId)\r\n        .set(updates, { merge: true })\r\n}\r\n\r\nexport const createUser = async (userAuth) => {\r\n    return db.collection('Users')\r\n        .doc(userAuth.uid)\r\n        .set({\r\n            id: userAuth.uid,\r\n            name: userAuth.displayName,\r\n            photoURL: userAuth.photoURL,\r\n            email: userAuth.email,\r\n        },\r\n            { merge: true }\r\n        )\r\n}\r\n\r\nexport const getCurrentUser = () => {\r\n    var user = firebase.auth().currentUser;\r\n    if (user) {\r\n        return user;\r\n    } else {\r\n        return undefined;\r\n    }\r\n}\r\n\r\nexport const logUserInUser = async (isGoog) => {\r\n    let provider;\r\n    isGoog ? provider = new firebase.auth.GoogleAuthProvider() :\r\n        provider = new firebase.auth.FacebookAuthProvider();\r\n    let users = [];\r\n    let currentUser = undefined;\r\n    let authUser = undefined;\r\n    // Get all users so we can see if the logged in one is one of ours.\r\n    // TODO(jessi): store this data so we don't need to fetch it, or directly ask for the user\r\n    // once they log in and if no user exists create one. Sounds like work.\r\n    await getAllUsers()\r\n        .then((queryResults) => {\r\n            queryResults.forEach((doc) => {\r\n                const user = doc.data();\r\n                user.id = doc.id;\r\n                users.push(user);\r\n            })\r\n        });\r\n\r\n    return await firebase.auth().signInWithPopup(provider).then(async function (result) {\r\n        authUser = result.user;\r\n        users.forEach(u => {\r\n            if (u.id === authUser.uid) {\r\n                currentUser = u;\r\n            }\r\n        });\r\n        // Didn't find an existing user.\r\n        if (currentUser === undefined) {\r\n            // Create new user\r\n            await createUser(authUser).then(async () => {\r\n                // Get the new user to return\r\n                return getCurrentUser();\r\n            }).catch(error => {\r\n                console.log(error);\r\n            });\r\n        }\r\n        return currentUser;\r\n    }).catch(function (error) {\r\n        console.log(error);\r\n    });\r\n}\r\n\r\nexport const signOut = async () => {\r\n    return await firebase.auth().signOut().then(function () {\r\n        document.cookie = 'userid=; expires=Thu, 01 Jan 1970 00:00:01 GMT;';\r\n        return true;\r\n    }).catch(function (error) {\r\n        console.log(error);\r\n        return false;\r\n    });\r\n}\r\n\r\nexport const deleteUser = async () => {\r\n    var user = firebase.auth().currentUser;\r\n\r\n    return await user.delete().then(function () {\r\n        document.cookie = 'userid=; expires=Thu, 01 Jan 1970 00:00:01 GMT;';\r\n        return true;\r\n    }).catch(function (error) {\r\n        console.log(error);\r\n        return false;\r\n    });\r\n}\r\n\r\n\r\nexport const createCourse = async (user, courseInfo) => {\r\n    var storage = firebase.storage();\r\n    const userDocRef = db.doc(`Users/${user.id}`)\r\n    const lessonRef = db.doc(courseInfo.chapter.lessons);\r\n    courseInfo.chapter.lessons = lessonRef;\r\n    return await db.collection('Course').add({\r\n        owner: userDocRef,\r\n        title: courseInfo.title,\r\n        description: courseInfo.description,\r\n        chapter: courseInfo.chapter\r\n    })\r\n        .then(async courseDoc => {\r\n            let usersCreatedCourses;\r\n            if (user.createdCourses && user.createdCourses.length > 0) {\r\n                usersCreatedCourses = user.createdCourses;\r\n            } else {\r\n                usersCreatedCourses = []\r\n            }\r\n            console.log(courseDoc);\r\n            const courseRef = db.doc(`Course/${courseDoc.id}`)\r\n            usersCreatedCourses.push(courseRef);\r\n            const updateObject = {\r\n                createdCourses: usersCreatedCourses\r\n            }\r\n\r\n            return await updateUser(user.id, updateObject);\r\n        })\r\n}","import React, { useState, useEffect } from 'react';\r\nimport './CourseOverview.css';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport * as FirebaseService from '../../service/firebase.service';\r\n\r\nimport { useParams } from \"react-router-dom\";\r\n\r\n\r\n\r\nfunction generate(element) {\r\n    return [0, 1, 2].map(value =>\r\n      React.cloneElement(element, {\r\n        key: value,\r\n      }),\r\n    );\r\n  }\r\n\r\n\r\n \r\nfunction CourseOverviewNavigationPane() {\r\n    return (\r\n        <Paper className=\"paper\">\r\n\r\n        <ExpansionPanel>\r\n            <ExpansionPanelSummary\r\n            expandIcon={<ExpandMoreIcon />}\r\n            aria-controls=\"panel1a-content\"\r\n            id=\"panel1a-header\"\r\n            >\r\n            <Typography variant=\"subtitle2\">Topic 1</Typography>\r\n            </ExpansionPanelSummary>\r\n            <ExpansionPanelDetails>\r\n            <Grid container spacing={2}>\r\n                <Grid item xs={12} md={6}>\r\n                    <div>\r\n                        <List dense=\"true\">\r\n                        {generate(\r\n                            <ListItem>\r\n                                <ListItemText\r\n                                    primary=\"SubTopic\"\r\n                                />\r\n                            </ListItem>,\r\n                        )}\r\n                        </List>\r\n                    </div>\r\n                    </Grid>\r\n                </Grid>\r\n            </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n        <ExpansionPanel>\r\n            <ExpansionPanelSummary\r\n            expandIcon={<ExpandMoreIcon />}\r\n            aria-controls=\"panel2a-content\"\r\n            id=\"panel2a-header\"\r\n            >\r\n            <Typography variant=\"subtitle2\">Topic 2</Typography>\r\n            </ExpansionPanelSummary>\r\n            <ExpansionPanelDetails>\r\n            <Grid container spacing={2}>\r\n                <Grid item xs={12} md={6}>\r\n                    <div>\r\n                        <List dense=\"true\">\r\n                        {generate(\r\n                            <ListItem>\r\n                                <ListItemText\r\n                                    primary=\"SubTopic2\"\r\n                                />\r\n                            </ListItem>,\r\n                        )}\r\n                        </List>\r\n                    </div>\r\n                    </Grid>\r\n                </Grid>\r\n            </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n\r\n    </Paper>\r\n    )\r\n}  \r\n\r\n\r\nfunction CourseOverviewCoursePane(props) {\r\n    return (\r\n        <Paper className=\"paper\">{props.course.title}</Paper>\r\n    )\r\n}\r\n\r\nfunction CourseOverview(props) {\r\n\r\n    const [course, setCourse] = useState();\r\n    const [error, setError] = useState();\r\n    let { id } = useParams();\r\n\r\n    useEffect(() => {\r\n        if (id) {\r\n            console.log(`ID: ${id}`);\r\n            FirebaseService.getCourseById(id)\r\n                .then(courseResult => {\r\n                    console.log(courseResult.exists)\r\n                    if (courseResult.exists) {\r\n                        setError(null);\r\n                        setCourse(courseResult.data());\r\n                    } else {\r\n                        setError('Course Not Found');\r\n                        setCourse();\r\n                    }\r\n                })\r\n                .catch(() => setError('Course Get Fail'));\r\n      }\r\n    }, [id]);\r\n\r\n    console.log(`Course Overiew: ${course}`)\r\n    if (course){\r\n        return (\r\n            <div className=\"courseOverview\">\r\n              <Typography className=\"center\" variant=\"h3\" component=\"h3\">\r\n                  Course Overview\r\n              </Typography>\r\n              <Grid container spacing={3}>\r\n                  <Grid item xs={4}>\r\n                      <CourseOverviewNavigationPane />\r\n                  </Grid>\r\n                  <Grid item xs={8}>\r\n                       <CourseOverviewCoursePane course={course} />\r\n                  </Grid>\r\n              </Grid>\r\n            </div>\r\n          );\r\n    } else {\r\n        return (\r\n            <div>\r\n                Loading...\r\n                <CircularProgress></CircularProgress>\r\n            </div>\r\n        )\r\n    }\r\n\r\n  }\r\n  \r\n  export default CourseOverview;","import React from 'react';\r\nimport './Login.css';\r\nimport { Button } from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport * as FirebaseService from '../../service/firebase.service';\r\n\r\nclass LoginPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { user: undefined };\r\n    this.loginGoogle = this.loginGoogle.bind(this);\r\n    this.loginFacebook = this.loginFacebook.bind(this);\r\n\r\n  }\r\n\r\n  async loginGoogle(event) {\r\n    // TODO(jessi): set a loading state\r\n    await FirebaseService.logUserInUser(/* isGoog= */ true).then(u => {\r\n      this.props.completeLogin(u);\r\n      this.props.history.push(\"/myCourses\");\r\n    });\r\n    // TODO(jessi): unset loading state\r\n  }\r\n\r\n  async loginFacebook(event) {\r\n    // TODO(jessi): set a loading state\r\n    await FirebaseService.logUserInUser(/* isGoog= */ false).then(u => {\r\n      this.props.completeLogin(u);\r\n      this.props.history.push(\"/myCourses\");\r\n    });\r\n    // TODO(jessi): unset loading state\r\n  }\r\n\r\n  render() {\r\n    // TODO(jessi): style these buttons, remove this page from nav\r\n    return (\r\n      <div className=\"login\">\r\n        <h1>Sign into Mooc in a Box</h1>\r\n        <Button color=\"inherit\" className=\"menu-button\" onClick={this.loginFacebook}>\r\n          Sign in with Facebook\r\n      </Button>\r\n        <Button color=\"inherit\" className=\"menu-button\" onClick={this.loginGoogle}>\r\n          Sign in with Google\r\n      </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(LoginPage);\r\n","import React, { useState } from 'react';\r\nimport {\r\n  Link as RouterLink,\r\n} from \"react-router-dom\";\r\nimport {Button} from '@material-ui/core';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { IconButton } from '@material-ui/core';\r\n\r\nfunction CoursesDropdownComponent(props) {\r\n    return (\r\n      <ExpansionPanel>\r\n              <ExpansionPanelSummary\r\n              expandIcon={<ExpandMoreIcon />}\r\n              aria-controls=\"panel1a-content\"\r\n              id=\"panel1a-header\"\r\n              >\r\n              <Typography variant=\"subtitle2\">{props.courses.length} Course(s)</Typography>\r\n              </ExpansionPanelSummary>\r\n              <ExpansionPanelDetails>\r\n              <Grid container spacing={2}>\r\n                  <Grid item xs={12} md={6}>\r\n                      <div>\r\n                          <List dense=\"true\">\r\n                          {\r\n                            props.courses.map( course => {\r\n                              return (\r\n                                <span>\r\n                                  <ListItem \r\n                                  >\r\n                                    <Button\r\n                                      component={RouterLink} \r\n                                      to={`/courseOverview/${course.id}`}\r\n                                    >\r\n                                      {course.title}\r\n                                    </Button>\r\n                                    { props.includeEditIcon && \r\n                                      <IconButton className=\"menu-button\" color=\"inherit\" aria-label=\"menu\">\r\n                                        <EditIcon/>\r\n                                      </IconButton>\r\n                                    }\r\n                                  </ListItem>\r\n                                </span>\r\n                                \r\n                              )\r\n                            })\r\n                          }\r\n                          </List>\r\n                      </div>\r\n                      </Grid>\r\n                  </Grid>\r\n              </ExpansionPanelDetails>\r\n          </ExpansionPanel>\r\n    )\r\n  }\r\n\r\n  export default CoursesDropdownComponent;\r\n","import React, { useState } from 'react';\r\nimport './MyCourses.css';\r\nimport {\r\n  Link as RouterLink,\r\n} from \"react-router-dom\";\r\nimport { Button } from '@material-ui/core';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport { IconButton } from '@material-ui/core';\r\n\r\nimport CoursesDropdownComponent from '../CoursesDropdown/CoursesDropdown.component';\r\n\r\n\r\n\r\n/**\r\n * \r\n * http://localhost:3000/courseOverview/rlfxOavBn4nPZLNTRMkL\r\n * http://localhost:3000/courseOverview/rlfxOavBn4nPZLNTRMkL\r\n */\r\n\r\n/**\r\n * \r\n * \r\n */\r\n\r\n\r\n\r\nfunction generate(element) {\r\n  return React.cloneElement(element, {\r\n    key: element,\r\n  })\r\n}\r\n\r\nfunction CurrentCoursesComponent(props) {\r\n  console.log(`Current Courses Component Props`, props);\r\n  let numberOfCourses = props.currentCourses.length;\r\n  console.log(numberOfCourses);\r\n  return (\r\n    <div>\r\n      <h1> Current Courses </h1>\r\n      <CoursesDropdownComponent courses={props.currentCourses}></CoursesDropdownComponent>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nfunction PastCoursesComponent(props) {\r\n  console.log(`Past Courses Component Props: ${props}`);\r\n  return (\r\n    <div>\r\n      <h1> Past Courses </h1>\r\n      <CoursesDropdownComponent courses={props.pastCourses}></CoursesDropdownComponent>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction SavedCoursesComponent(props) {\r\n  console.log(`Saved Courses Component Props: ${props}`);\r\n  return (\r\n    <div>\r\n      <h1> Saved Courses </h1>\r\n      <CoursesDropdownComponent courses={props.savedCourses}></CoursesDropdownComponent>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction CreatedCoursesComponent(props) {\r\n  console.log(\"Created Courses Component Props: \", props);\r\n  return (\r\n    <div>\r\n      <h1> Saved Courses </h1>\r\n      <CoursesDropdownComponent courses={props.createdCourses} includeEditIcon={true}></CoursesDropdownComponent>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\nfunction MyCourses(props) {\r\n  console.log(\"My Courses Component: \", props);\r\n\r\n  const [user, setUser] = useState();\r\n\r\n\r\n  React.useEffect(() => {\r\n    console.log(\"My Courses - Resetting State\");\r\n    setUser(props.user);\r\n  }, [props]);\r\n\r\n\r\n  if (user) {\r\n    console.log(\"My Courses - My User ===\", user);\r\n    const courseComponentList = []\r\n    console.log(user.favoritedCourses);\r\n    let hasCourses = false;\r\n\r\n\r\n    if (user.currentCourses && user.currentCourses.length > 0) {\r\n      const element = <CurrentCoursesComponent currentCourses={user.currentCourses}></CurrentCoursesComponent>\r\n      courseComponentList.push(element);\r\n      hasCourses = true;\r\n    }\r\n\r\n    if (user.pastCourses && user.pastCourse.length > 0) {\r\n      const element = <PastCoursesComponent pastCourses={user.pastCourses}></PastCoursesComponent>\r\n      courseComponentList.push(element);\r\n      hasCourses = true;\r\n\r\n    }\r\n\r\n    if (user.favoritedCourses && user.favoritedCourses.length > 0) {\r\n      const element = <SavedCoursesComponent savedCourses={user.favoritedCourses}></SavedCoursesComponent>\r\n      courseComponentList.push(element);\r\n      hasCourses = true;\r\n\r\n    }\r\n\r\n    if (user.createdCourses && user.createdCourses.length > 0) {\r\n      const element = <CreatedCoursesComponent createdCourses={user.createdCourses}></CreatedCoursesComponent>\r\n      courseComponentList.push(element);\r\n      hasCourses = true;\r\n\r\n    }\r\n    if (hasCourses) {\r\n      return (\r\n        <div className=\"MyCourses\">\r\n          <CssBaseline />\r\n          <Typography className=\"center\" variant=\"h3\" component=\"h3\">\r\n            My Courses\r\n          </Typography>\r\n          <Container maxWidth=\"lg\">\r\n            <Paper className=\"paper\">\r\n              {\r\n                courseComponentList.map(element => element)\r\n              }\r\n            </Paper>\r\n          </Container>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"MyCourses\">\r\n          <CssBaseline />\r\n          <Typography className=\"center\" variant=\"h3\" component=\"h3\">\r\n            My Courses\r\n            </Typography>\r\n          <Container maxWidth=\"lg\">\r\n            <Paper className=\"paper\">\r\n              <h4>You don't have any courses saved yet!</h4>\r\n            </Paper>\r\n          </Container>\r\n        </div>\r\n      )\r\n    }\r\n\r\n\r\n  } else {\r\n    return (\r\n      <div>\r\n        Loading..\r\n        <CircularProgress></CircularProgress>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default MyCourses;\r\n","import React from 'react';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport {Button} from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nfunction EditDialog(props){\r\n    return (\r\n      <div>\r\n        <Dialog open={props.isOpen} onClose={props.handleClose} aria-labelledby=\"form-dialog-title\">\r\n          <DialogTitle id=\"form-dialog-title\">{props.field}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText>\r\n              Edit the Field below to update your {props.field}\r\n            </DialogContentText>\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"name\"\r\n              label={props.field}\r\n              value={props.value}\r\n              onChange={props.onChange}\r\n              type=\"email\"\r\n              fullWidth\r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={props.handleClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={props.handleSubmit} color=\"primary\">\r\n              Submit\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default EditDialog","import React from 'react';\r\n\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { IconButton } from '@material-ui/core';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport EditDialog from '../EditDialog/EditDialog.component';\r\n\r\nconst userKeyToDisplayMap = {\r\n    \"displayName\": \"Display Name\",\r\n    \"email\": \"Email Address\",\r\n    \"password\": \"Password\"\r\n  }\r\n\r\nfunction UserProfileSection(props){\r\n    return (\r\n      <div>\r\n        <Typography align=\"center\" variant=\"h6\" component=\"h6\">\r\n          <strong>{props.displayValue}</strong>\r\n        </Typography>\r\n        <Typography align=\"center\" variant=\"body1\" component=\"body1\">\r\n          <span>\r\n          {props.value}\r\n            <IconButton className=\"menu-button\" color=\"inherit\" aria-label=\"menu\">\r\n              <EditIcon onClick={props.openDialog}/>\r\n            </IconButton>\r\n          </span>\r\n        </Typography>\r\n        <EditDialog \r\n          isOpen={props.isDialogOpen}\r\n          handleClose={props.handleClose}\r\n          handleSubmit={props.handleSubmit}\r\n          field={userKeyToDisplayMap[props.displayKey]}\r\n          value={props.value}\r\n          onChange={props.onChange}\r\n        />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default UserProfileSection\r\n  ","import React, { useState } from 'react';\r\nimport './UserProfile.css';\r\n\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport UserProfileSection from './UserProfileSection/UserProfileSection.component';\r\nimport { Button } from '@material-ui/core';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport * as FirebaseService from '../../service/firebase.service';\r\n\r\nconst passwordValue = \"*******\";\r\n\r\nfunction UserProfile(props) {\r\n\r\n  console.log(props);\r\n\r\n  const [displayName, setDisplayName] = useState(null);\r\n  const [oldDisplayName, setOldDiplayName] = useState(null);\r\n  const [error, setError] = useState();\r\n  const [isDisplayNameDialogOpen, setIsDisplayNameDialogOpen] = useState(false)\r\n  const [userInterests, setUserInterests] = useState(null);\r\n  const [oldUserInterests, setOldUserInterests] = useState(null);\r\n  const [isUserInterestsDialogOpen, setIsUserInterestsDialogOpen] = useState(false);\r\n\r\n\r\n\r\n  function handleDisplayNameClose() {\r\n    setDisplayName(oldDisplayName)\r\n    setIsDisplayNameDialogOpen(false)\r\n  }\r\n\r\n  function handleDisplayNameSubmit() {\r\n    FirebaseService.updateUser(props.user.id, {\r\n      displayName\r\n    }).then(result => {\r\n      setIsDisplayNameDialogOpen(false)\r\n      setOldDiplayName(displayName)\r\n      props.updateUser();\r\n\r\n    })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function openDisplayNameDialog() {\r\n    setOldDiplayName(displayName)\r\n    setIsDisplayNameDialogOpen(true)\r\n  }\r\n\r\n  function onDisplayNameChange(e) {\r\n    setDisplayName(e.target.value);\r\n  }\r\n\r\n  /**\r\n   * Begin User Interests\r\n   */\r\n  function handleUserInterestsDialogClose() {\r\n    setUserInterests(oldUserInterests)\r\n    setIsUserInterestsDialogOpen(false)\r\n  }\r\n\r\n  function openUserInterestDialog() {\r\n    setOldUserInterests(userInterests)\r\n    setIsUserInterestsDialogOpen(true)\r\n  }\r\n\r\n  function onUserInterestsChange(e) {\r\n    setUserInterests(e.target.value);\r\n  }\r\n\r\n  function handleUserInterestSubmit() {\r\n    FirebaseService.updateUser(props.user.id, {\r\n      interests: userInterests\r\n    }).then(result => {\r\n      setIsUserInterestsDialogOpen(false)\r\n      setUserInterests(userInterests)\r\n      props.updateUser(props.user.id);\r\n    })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  async function signOut() {\r\n    await FirebaseService.signOut().then((res) => {\r\n      if (res) {\r\n        props.history.push(\"/\");\r\n        props.updateUser(undefined);\r\n      }\r\n      // TODO(jessi) handle error\r\n    });\r\n  }\r\n\r\n  async function deleteAccount() {\r\n    await FirebaseService.deleteUser().then((res) => {\r\n      if (res) {\r\n        props.history.push(\"/\");\r\n        props.updateUser(undefined);\r\n      }\r\n      // TODO(jessi) handle error\r\n    });\r\n  }\r\n\r\n  if (props.user && displayName === null && userInterests === null) {\r\n    setDisplayName(props.user.displayName)\r\n    setUserInterests(props.user.interests)\r\n  }\r\n\r\n  if (props.user) {\r\n    return (\r\n      <div className=\"userProfile\">\r\n        <CssBaseline />\r\n        <Typography className=\"center\" variant=\"h3\" component=\"h3\">\r\n          User Profile\r\n        </Typography>\r\n        <Container className=\"userProfile-bottom-padding\" maxWidth=\"lg\">\r\n          <Paper className=\"paper\">\r\n\r\n            <UserProfileSection\r\n              displayValue=\"User Interests\"\r\n              value={userInterests}\r\n              handleClose={handleUserInterestsDialogClose}\r\n              handleSubmit={handleUserInterestSubmit}\r\n              isDialogOpen={isUserInterestsDialogOpen}\r\n              openDialog={openUserInterestDialog}\r\n              onChange={onUserInterestsChange}\r\n            ></UserProfileSection>\r\n\r\n          </Paper>\r\n        </Container>\r\n        <Divider />\r\n\r\n\r\n        <Container maxWidth=\"lg\">\r\n          <Paper className=\"paper\">\r\n\r\n            <UserProfileSection\r\n              displayValue=\"Display Name\"\r\n              value={displayName}\r\n              handleClose={handleDisplayNameClose}\r\n              handleSubmit={handleDisplayNameSubmit}\r\n              isDialogOpen={isDisplayNameDialogOpen}\r\n              openDialog={openDisplayNameDialog}\r\n              onChange={onDisplayNameChange}\r\n            ></UserProfileSection>\r\n            <Divider />\r\n            <UserProfileSection displayValue=\"Email\" value={props.user.email}></UserProfileSection>\r\n            <Divider />\r\n            <UserProfileSection displayValue=\"Password\" value={passwordValue}></UserProfileSection>\r\n            <Button color=\"inherit\" className=\"menu-button\" onClick={signOut}>\r\n              Sign out\r\n            </Button>\r\n            <Button color=\"inherit\" className=\"menu-button\" onClick={deleteAccount}>\r\n              Delete account\r\n            </Button>\r\n          </Paper>\r\n        </Container>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div>\r\n        Loading..\r\n        <CircularProgress></CircularProgress>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(UserProfile);\r\n","import React, { useState } from 'react';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport {Button} from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nfunction CreateCourseDialog(props){\r\n  const [description, setDescription] = useState();\r\n  const [title, setTitle] = useState();\r\n\r\n  \r\n  function onCourseTitleChange(e){\r\n    setTitle(e.target.value);\r\n  }\r\n\r\n  function onCourseDescriptionChange(e){\r\n    setDescription(e.target.value);\r\n\r\n  }\r\n\r\n  function handleSubmit(){\r\n      console.log(`Title: ${title}`);\r\n      console.log(`Description: ${description}`);\r\n      const courseDetails = {\r\n          title,\r\n          description\r\n      }\r\n\r\n      props.handleSubmit(courseDetails);\r\n  }\r\n\r\n\r\n    return (\r\n      <div>\r\n        <Dialog open={props.isOpen} onClose={props.handleClose} aria-labelledby=\"form-dialog-title\">\r\n          <DialogTitle id=\"form-dialog-title\">Create A New Course</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText>\r\n                Create a new course. Start by entering a title and description below!\r\n            </DialogContentText>\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"title\"\r\n              label=\"Course Title\"\r\n              onChange={onCourseTitleChange}\r\n              type=\"text\"\r\n              fullWidth\r\n            />\r\n             <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"description\"\r\n              label=\"Course Description\"\r\n              onChange={onCourseDescriptionChange}\r\n              type=\"text\"\r\n              fullWidth\r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={props.handleClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={handleSubmit} color=\"primary\">\r\n              Submit\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default CreateCourseDialog","import React, { useState } from 'react';\r\nimport './CreateCourse.css';\r\nimport { Button } from '@material-ui/core';\r\n\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport * as FirebaseService from '../../service/firebase.service';\r\nimport CreateCourseDialog from './CreateCourseDialog/CreateCourseDialog.component';\r\nimport CoursesDropdownComponent from '../CoursesDropdown/CoursesDropdown.component';\r\n\r\n\r\nfunction CreatedCoursesComponent(props) {\r\n  console.log(`Created Courses Component Props: ${props}`);\r\n  return (\r\n    <div className=\"courses-section\">\r\n      <h1> Saved Courses </h1>\r\n      <CoursesDropdownComponent courses={props.createdCourses} includeEditIcon={true}></CoursesDropdownComponent>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction CreateCourse(props) {\r\n  console.log(props.user);\r\n  const [isCreateCourseDialogOpen, setIsCreateCourseDialogOpen] = useState(false);\r\n\r\n\r\n  function handleCreateCourseDialogClose() {\r\n    setIsCreateCourseDialogOpen(false);\r\n  }\r\n\r\n  function openCreateCourseDialog() {\r\n    setIsCreateCourseDialogOpen(true);\r\n\r\n  }\r\n\r\n  function updateUser(user) {\r\n    console.log(user);\r\n  }\r\n\r\n  async function handleSubmit(courseInfo) {\r\n    courseInfo.owner = props.user.id;\r\n\r\n    courseInfo.chapter = {\r\n      id: 0,\r\n      lessons: \"Course/rlfxOavBn4nPZLNTRMkL/Lessons/kL5CwNARpoUhexocK7P4\",\r\n      sectionTitle: `${courseInfo.title} - Section`\r\n    }\r\n\r\n    await FirebaseService.createCourse(props.user, courseInfo)\r\n    setIsCreateCourseDialogOpen(false);\r\n    props.updateCourses();\r\n    props.updateUser(props.user.id);\r\n  }\r\n\r\n  const hasCurrentCourses = false\r\n  let currnetCoursesSection = null;\r\n  if (props.user && props.user.createdCourses && props.user.createdCourses.length > 0) {\r\n    currnetCoursesSection = <CreatedCoursesComponent createdCourses={props.user.createdCourses}></CreatedCoursesComponent>\r\n  } else {\r\n    currnetCoursesSection = <h3>You have not created any courses</h3>\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"Home\">\r\n      <CssBaseline />\r\n      <Typography className=\"center\" variant=\"h3\" component=\"h3\">\r\n        Classes You've Created\r\n        </Typography>\r\n      <Container className=\"userProfile-bottom-padding\" maxWidth=\"lg\">\r\n        <Paper className=\"paper\">\r\n          {\r\n            currnetCoursesSection\r\n          }\r\n          <span>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={openCreateCourseDialog}>\r\n              Create New Course\r\n              </Button>\r\n          </span>\r\n        </Paper>\r\n      </Container>\r\n      <Divider />\r\n\r\n      <CreateCourseDialog\r\n        isOpen={isCreateCourseDialogOpen}\r\n        handleClose={handleCreateCourseDialogClose}\r\n        handleSubmit={handleSubmit}\r\n        user={props.user}\r\n      />\r\n\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreateCourse;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport { AppBar, Toolbar, IconButton, Typography, Button, } from '@material-ui/core';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link as RouterLink,\r\n} from \"react-router-dom\";\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport CourseLibrary from './components/CourseLibrary/CourseLibrary';\r\nimport CourseOverview from './components/CourseOverview/CourseOverview';\r\nimport Login from './components/Login/Login';\r\nimport MyCourses from './components/MyCourses/MyCourses';\r\nimport UserProfile from './components/UserProfile/UserProfile';\r\nimport CreateCourse from './components/CreateCourse/CreateCourse.component';\r\nimport * as FirebaseService from '../src/service/firebase.service'\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      courses: [],\r\n      users: [],\r\n      currentUser: undefined,\r\n    };\r\n    this.fetchCourses = this.fetchCourses.bind(this);\r\n    this.fetchUsers = this.fetchUsers.bind(this);\r\n    this.render = this.render.bind(this);\r\n    this.updateUser = this.updateUser.bind(this);\r\n    this.setUser = this.setUser.bind(this);\r\n    this.getUserOnLoad = this.getUserOnLoad.bind(this);\r\n    this.fetchCourses().then(() => {\r\n      this.getUserOnLoad();\r\n    });\r\n  }\r\n\r\n  async updateUser(userId) {\r\n    if (!userId) {\r\n      this.setState({ currentUser: undefined });\r\n      return;\r\n    }\r\n    await FirebaseService.getUserById(userId)\r\n      .then(result => {\r\n        const user = result.data();\r\n\r\n        if (user.createdCourses && user.createdCourses.length > 0) {\r\n          console.log(user.createdCourses)\r\n          const newCourses = user.createdCourses\r\n            .map(courseRef => this.state.courses.find(course => course.id === courseRef.id));\r\n\r\n          console.log(newCourses);\r\n          console.log(this.state.courses);\r\n          user.createdCourses = user.createdCourses\r\n            .map(courseRef => this.state.courses.find(course => course.id === courseRef.id));\r\n        }\r\n        if (user.pastCourses && user.pastCourses.length > 0) {\r\n          user.pastCourses = user.pastCourses\r\n            .map(courseRef => this.state.courses.find(course => course.id === courseRef.id));\r\n        }\r\n        if (user.favoritedCourses && user.favoritedCourses.length > 0) {\r\n          user.favoritedCourses = user.favoritedCourses\r\n            .map(courseRef => this.state.courses.find(course => course.id === courseRef.id));\r\n        }\r\n\r\n        this.setState({ currentUser: user });\r\n\r\n      })\r\n  }\r\n\r\n  getUserOnLoad() {\r\n    let user = FirebaseService.getCurrentUser();\r\n    if (user) {\r\n      this.updateUser(user.uid);\r\n    } else if (document.cookie.split(';').some((item) => item.trim().startsWith('userid='))) {\r\n      var cookieValue = document.cookie.replace(/(?:(?:^|.*;\\s*)userid\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\");\r\n      this.updateUser(cookieValue);\r\n    } else {\r\n      this.updateUser(undefined);\r\n    }\r\n    console.log('get current user')\r\n    console.log(this.state.currentUser)\r\n    // document.cookie = \"userid=user.id\";\r\n  }\r\n\r\n  setUser(user) {\r\n    this.updateUser(user.id);\r\n    document.cookie = `userid=${user.id}`;\r\n  }\r\n\r\n  async fetchCourses() {\r\n    console.log('fetching courses')\r\n    console.log(this.state.currentUser)\r\n    let courses = [];\r\n    await FirebaseService.getAllCourses().then((queryResults) => {\r\n      queryResults.forEach((doc) => {\r\n        const course = doc.data();\r\n        console.log(course);\r\n        const courseId = doc.id;\r\n        course.owner.get().then(user => {\r\n          course.owner = user.data();\r\n        })\r\n        course.chapter.lessons.get().then(lesson => {\r\n          course.chapter.lessons = lesson.data();\r\n        })\r\n        course.id = courseId\r\n        courses.push(course);\r\n        this.setState({ courses: courses });\r\n      });\r\n    });\r\n  }\r\n\r\n  async fetchUsers() {\r\n    let users = [];\r\n    await FirebaseService.getAllUsers()\r\n      .then((queryResults) => {\r\n        queryResults.forEach((doc) => {\r\n          const user = doc.data();\r\n          user.id = doc.id;\r\n          users.push(user);\r\n          this.setState({\r\n            users\r\n          })\r\n        })\r\n      })\r\n  }\r\n\r\n  render() {\r\n\r\n    if (this.state.currentUser) {\r\n      console.log('logged in!')\r\n    }\r\n\r\n    return (\r\n      <Router>\r\n        <div>\r\n          <nav hidden={!this.state.currentUser}>\r\n            <AppBar position=\"static\">\r\n              <Toolbar>\r\n                {/* <Button color=\"inherit\" className=\"menu-button\" component={RouterLink} to=\"/\">MOOC-In-A-Box</Button> */}\r\n                <Button color=\"inherit\" className=\"menu-button\" component={RouterLink} to=\"/myCourses\">My Courses</Button>\r\n                <Button color=\"inherit\" className=\"menu-button\" component={RouterLink} to=\"/courseLibrary\">All Courses</Button>\r\n                <Button color=\"inherit\" className=\"menu-button align-left\" component={RouterLink} to=\"/createCourse\">Create a Course</Button>\r\n                <IconButton className=\"menu-button profile-icon\" component={RouterLink} to=\"/profile\" color=\"inherit\" aria-label=\"menu\">\r\n                  <AccountCircleIcon />\r\n                </IconButton>\r\n                <span>{this.props.user?.name}</span>\r\n              </Toolbar>\r\n            </AppBar>\r\n          </nav>\r\n\r\n          {/* A <Switch> looks through its children <Route>s and\r\n              renders the first one that matches the current URL. */}\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Login completeLogin={this.setUser} />\r\n            </Route>\r\n            <Route path=\"/courseLibrary\">\r\n              <CourseLibrary courses={this.state.courses} />\r\n            </Route>\r\n            <Route path=\"/courseOverview/:id\">\r\n              <CourseOverview service={FirebaseService}></CourseOverview>\r\n            </Route>\r\n            <Route path=\"/myCourses\">\r\n              <MyCourses user={this.state.currentUser}></MyCourses>\r\n            </Route>\r\n            <Route path=\"/profile\">\r\n              <UserProfile user={this.state.currentUser} updateUser={this.updateUser}></UserProfile>\r\n            </Route>\r\n            <Route path=\"/createCourse\">\r\n              <CreateCourse user={this.state.currentUser} updateUser={this.updateUser} updateCourses={this.fetchCourses}></CreateCourse>\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    )\r\n  }\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}