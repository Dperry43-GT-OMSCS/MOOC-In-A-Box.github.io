(this["webpackJsonpmooc-in-a-box"]=this["webpackJsonpmooc-in-a-box"]||[]).push([[0],{128:function(e,a,t){e.exports=t(293)},132:function(e,a,t){},134:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},135:function(e,a,t){},136:function(e,a,t){},273:function(e,a,t){},274:function(e,a,t){},290:function(e,a,t){},291:function(e,a,t){},292:function(e,a,t){},293:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"getCourseById",(function(){return he})),t.d(n,"getAllCourses",(function(){return Ce})),t.d(n,"getAllUsers",(function(){return fe})),t.d(n,"updateUser",(function(){return ve}));var r=t(0),o=t.n(r),l=t(8),c=t.n(l),s=(t(132),t(23)),i=t.n(s),u=t(48),m=t(53),d=t(31),p=t(62),E=t(63),h=t(12),C=t(74),f=(t(134),t(135),t(355)),v=t(356),b=t(297),g=t(349),y=t(106),O=t.n(y),k=t(25),S=t(40),j=t(107),N=t.n(j),x=(t(136),t(15)),F=t(340),I=(t(3),t(343)),w=t(345),H=t(346),z=t(347),B=t(348),V=t(28),T=t(75),A=t(98),M=t.n(A),U=Object(F.a)((function(e){return{root:{maxWidth:345},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:T.a[500]}}}));function P(e){var a=U(),t=o.a.useState(!1),n=Object(x.a)(t,2);n[0],n[1];return console.log(e),o.a.createElement(I.a,{className:a.root},o.a.createElement(w.a,{title:e.course.title,subheader:e.course.owner.displayName}),o.a.createElement(H.a,{className:a.media,image:"/static/images/cards/paella.jpg",title:"Paella dish"}),o.a.createElement(z.a,null,o.a.createElement(V.a,{variant:"body2",color:"textSecondary",component:"p"},e.course.description),o.a.createElement(V.a,{variant:"body2",color:"textSecondary",component:"p"},e.course.owner.displayName)),o.a.createElement(B.a,{disableSpacing:!0},o.a.createElement(b.a,{"aria-label":"add to favorites"},o.a.createElement(M.a,null)),o.a.createElement(g.a,{variant:"contained",color:"primary",component:k.b,to:"/courseOverview/".concat(e.course.id)},"Overview")))}t(97);var L=t(104),R=t.n(L),D=t(369);t(273);var G=function(e){return o.a.createElement("div",{className:"search-bar"},o.a.createElement(D.a,{value:e.searchValue,onChange:e.onChange,id:"outlined-search",type:"search",variant:"outlined",color:"white"}),o.a.createElement(b.a,{className:"menu-button",onClick:e.onSearchClicked},o.a.createElement(R.a,{className:"search-bar-icon"})))},K=t(108),W=t(374),J=t(350),X=t(351),q=t(354),Y=t(370),Z=t(353);var Q=function(e){return o.a.createElement(Z.a,{value:e.value,control:o.a.createElement(Y.a,null),label:e.value})};var $=function(e){var a=e.options.map((function(e){return o.a.createElement(Q,{handleClick:e.associatedClickFunction,value:e.display})}));return o.a.createElement(K.a,{id:e.menuId,anchorEl:e.element,keepMounted:!0,open:Boolean(e.element),onClose:e.closeFunction},o.a.createElement(q.a,null,o.a.createElement(J.a,{component:"fieldset"},o.a.createElement(X.a,{component:"legend"},e.menuLabel),o.a.createElement(W.a,{"aria-label":"gender",name:e.radioGroupName,value:e.menuValue,onChange:function(a){e.closeFunction(a.target.value)}},a))))};var _=function(e){var a=e.menuItems.map((function(e){return o.a.createElement(g.a,{color:"inherit",className:"menu-button",onClick:e.clickedFunction},e.buttonText)})),t=e.menuItems.map((function(e){return o.a.createElement($,{element:e.element,closeFunction:e.closeFunction,options:e.menuOptions,menuId:e.menuId,menuLabel:e.buttonText})}));return o.a.createElement(f.a,{position:"static",className:"course-library-app-bar"},o.a.createElement(v.a,null,a,o.a.createElement(G,{searchValue:e.searchInfo.value,onChange:e.searchInfo.onChange,onSearchClicked:e.searchInfo.onClick})),t)},ee=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(p.a)(this,Object(E.a)(a).call(this,e))).sortByClicked=function(e){t.setState({sortByElement:e.currentTarget})},t.sortByHandleClose=function(e){console.log(e),t.setState({sortByElement:null,sortFilterValue:e})},t.topicClicked=function(e){t.setState({topicElement:e.currentTarget})},t.topicHandleClose=function(e){t.setState({topicElement:null,topicFilterValue:e})},t.organizationClicked=function(e){t.setState({organizationElement:e.currentTarget})},t.organizationHandleClosed=function(e){t.setState({organizationElement:null,organizationFilterValue:e})},t.buildMenuItems=function(){return[{buttonText:"Sort By",menuId:"menu-sort-by",clickedFunction:t.sortByClicked,closeFunction:t.sortByHandleClose,element:t.state.sortByElement,radioGroupName:"menuRadio",menuValue:t.state.sortFilterValue,menuOptions:[{display:"Newest",associatedClickFunction:t.sortByHandleClose},{display:"Recommended",associatedClickFunction:t.sortByHandleClose},{display:"Trending",associatedClickFunction:t.sortByHandleClose}]},{buttonText:"Topic",menuId:"menu-topic",clickedFunction:t.topicClicked,element:t.state.topicElement,closeFunction:t.topicHandleClose,radioGroupName:"topicRadio",menuValue:t.state.topicFilterValue,menuOptions:[{display:"Science",associatedClickFunction:t.topicHandleClose},{display:"Technology",associatedClickFunction:t.topicHandleClose},{display:"History",associatedClickFunction:t.topicHandleClose},{display:"Arts",associatedClickFunction:t.topicHandleClose}]},{buttonText:"Organization",menuId:"menu-organization",clickedFunction:t.organizationClicked,element:t.state.organizationElement,closeFunction:t.organizationHandleClosed,radioGroupName:"organizationRadio",menuValue:t.state.organizationFilterValue,menuOptions:[{display:"Required",associatedClickFunction:t.organizationHandleClosed},{display:"Recommended",associatedClickFunction:t.organizationHandleClosed},{display:"All Courses",associatedClickFunction:t.organizationHandleClosed}]}]},t.handleSearchChange=t.handleSearchChange.bind(Object(h.a)(t)),t.handleSearchClicked=t.handleSearchClicked.bind(Object(h.a)(t)),t.sortByClicked=t.sortByClicked.bind(Object(h.a)(t)),t.sortByHandleClose=t.sortByHandleClose.bind(Object(h.a)(t)),t.topicClicked=t.topicClicked.bind(Object(h.a)(t)),t.topicHandleClose=t.topicHandleClose.bind(Object(h.a)(t)),t.organizationClicked=t.organizationClicked.bind(Object(h.a)(t)),t.organizationHandleClosed=t.organizationHandleClosed.bind(Object(h.a)(t)),t.buildMenuItems=t.buildMenuItems.bind(Object(h.a)(t)),t.state={searchValue:"",sortByElement:null,topicElement:null,organizationElement:null,sortFilterValue:null,topicFilterValue:null,organizationFilterValue:null},t}return Object(C.a)(a,e),Object(d.a)(a,[{key:"handleSearchChange",value:function(e){console.log("Key Entered!"),this.setState({searchValue:e.target.value})}},{key:"handleSearchClicked",value:function(e){console.log("Search button clicked!"),console.log(this.state.searchValue)}},{key:"render",value:function(){console.log(this.state);var e=this.buildMenuItems(),a={value:this.state.searchValue,onChange:this.handleSearchChange,onClick:this.handleSearchClicked},t=this.props.courses.map((function(e){return o.a.createElement("div",{className:"CurrentCourse"},o.a.createElement(P,{course:e}))}));return o.a.createElement("div",{class:"course-library"},o.a.createElement(_,{menuItems:e,searchInfo:a}),o.a.createElement("div",{className:"course-list"},t))}}]),a}(o.a.Component),ae=(t(274),t(109)),te=t(359),ne=t(372),re=t(357),oe=t(358),le=t(55),ce=t.n(le),se=t(352),ie=t(298),ue=t(360),me=t(361),de=t(86),pe=t.n(de);pe.a.initializeApp({apiKey:"AIzaSyA8tAHYGUiNkFHq6452W4Qr79eibVmtRZA",authDomain:"mooc-in-a-box.firebaseapp.com",databaseURL:"https://mooc-in-a-box.firebaseio.com",projectId:"mooc-in-a-box",storageBucket:"mooc-in-a-box.appspot.com",messagingSenderId:"594314585164",appId:"1:594314585164:web:3ae152452d1c238af100e9",measurementId:"G-LXH34JCXZS"});var Ee=pe.a.firestore(),he=function(e){return Ee.collection("Course").doc(e).get()},Ce=function(){return Ee.collection("Course").get()},fe=function(){return Ee.collection("Users").get()},ve=function(e,a){return Ee.collection("Users").doc(e).set(a,{merge:!0})};function be(e){return[0,1,2].map((function(a){return o.a.cloneElement(e,{key:a})}))}function ge(){return o.a.createElement(ae.a,{className:"paper"},o.a.createElement(ne.a,null,o.a.createElement(re.a,{expandIcon:o.a.createElement(ce.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},o.a.createElement(V.a,{variant:"subtitle2"},"Topic 1")),o.a.createElement(oe.a,null,o.a.createElement(te.a,{container:!0,spacing:2},o.a.createElement(te.a,{item:!0,xs:12,md:6},o.a.createElement("div",null,o.a.createElement(se.a,{dense:"true"},be(o.a.createElement(ie.a,null,o.a.createElement(ue.a,{primary:"SubTopic"}))))))))),o.a.createElement(ne.a,null,o.a.createElement(re.a,{expandIcon:o.a.createElement(ce.a,null),"aria-controls":"panel2a-content",id:"panel2a-header"},o.a.createElement(V.a,{variant:"subtitle2"},"Topic 2")),o.a.createElement(oe.a,null,o.a.createElement(te.a,{container:!0,spacing:2},o.a.createElement(te.a,{item:!0,xs:12,md:6},o.a.createElement("div",null,o.a.createElement(se.a,{dense:"true"},be(o.a.createElement(ie.a,null,o.a.createElement(ue.a,{primary:"SubTopic2"}))))))))))}function ye(e){return o.a.createElement(ae.a,{className:"paper"},e.course.title)}var Oe=function(e){var a=Object(r.useState)(),t=Object(x.a)(a,2),n=t[0],l=t[1],c=Object(r.useState)(),s=Object(x.a)(c,2),i=(s[0],s[1]),u=Object(S.f)().id;return Object(r.useEffect)((function(){u&&(console.log("ID: ".concat(u)),he(u).then((function(e){console.log(e.exists),e.exists?(i(null),l(e.data())):(i("Course Not Found"),l())})).catch((function(){return i("Course Get Fail")})))}),[u]),console.log("Course Overiew: ".concat(n)),n?o.a.createElement("div",{className:"courseOverview"},o.a.createElement(V.a,{className:"center",variant:"h3",component:"h3"},"Course Overview"),o.a.createElement(te.a,{container:!0,spacing:3},o.a.createElement(te.a,{item:!0,xs:4},o.a.createElement(ge,null)),o.a.createElement(te.a,{item:!0,xs:8},o.a.createElement(ye,{course:n})))):o.a.createElement("div",null,"Loading...",o.a.createElement(me.a,null))};t(290);var ke=function(){return o.a.createElement("div",{className:"Home"},o.a.createElement("h1",null,"This Is MOOC IN A BOX"))},Se=(t(291),t(362)),je=t(363);function Ne(e){var a=e.courses.length;return console.log(a),o.a.createElement(ne.a,null,o.a.createElement(re.a,{expandIcon:o.a.createElement(ce.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},o.a.createElement(V.a,{variant:"subtitle2"},a," Course(s)")),o.a.createElement(oe.a,null,o.a.createElement(te.a,{container:!0,spacing:2},o.a.createElement(te.a,{item:!0,xs:12,md:6},o.a.createElement("div",null,o.a.createElement(se.a,{dense:"true"},e.courses.map((function(e){return o.a.createElement(ie.a,{button:!0,component:k.b,to:"/courseOverview/".concat(e.courseId)},o.a.createElement(ue.a,{primary:e.courseTitle}))}))))))))}function xe(e){console.log("Current Courses Component Props",e);var a=e.currentCourses.length;return console.log(a),o.a.createElement("div",null,o.a.createElement("h1",null," Current Courses "),o.a.createElement(Ne,{courses:e.currentCourses}))}function Fe(e){return console.log("Past Courses Component Props: ".concat(e)),o.a.createElement("div",null,o.a.createElement("h1",null," Past Courses "),o.a.createElement(Ne,{courses:e.pastCourses}))}function Ie(e){return console.log("Saved Courses Component Props: ".concat(e)),o.a.createElement("div",null,o.a.createElement("h1",null," Saved Courses "),o.a.createElement(Ne,{courses:e.savedCourses}))}function we(e){return console.log("Created Courses Component Props: ".concat(e)),o.a.createElement("div",null,o.a.createElement("h1",null," Saved Courses "),o.a.createElement(Ne,{courses:e.createdCourses}))}var He=function(e){if(console.log("My Courses Component: ",e.user),e.user){var a=[];if(console.log(e.user.favoritedCourses),e.user.currentCourses&&e.user.currentCourses.length>0){var t=o.a.createElement(xe,{currentCourses:e.user.currentCourses});a.push(t)}if(e.user.pastCourses&&e.user.currentCourses.pastCourses>0){var n=o.a.createElement(Fe,{pastCourses:e.user.pastCourses});a.push(n)}if(e.user.favoritedCourses&&e.user.favoritedCourses.length>0){var r=o.a.createElement(Ie,{savedCourses:e.user.favoritedCourses});a.push(r)}if(e.user.createdCourses&&e.user.createdCourses.length>0){var l=o.a.createElement(we,{createdCourses:e.user.createdCourses});a.push(l)}return o.a.createElement("div",{className:"MyCourses"},o.a.createElement(Se.a,null),o.a.createElement(V.a,{className:"center",variant:"h3",component:"h3"},"My Courses"),o.a.createElement(je.a,{maxWidth:"lg"},o.a.createElement(ae.a,{className:"paper"},a.map((function(e){return e})))))}return o.a.createElement("div",null,"You don't have any course history!")},ze=(t(292),t(368)),Be=t(105),Ve=t.n(Be),Te=t(373),Ae=t(367),Me=t(365),Ue=t(366),Pe=t(364);var Le=function(e){return o.a.createElement("div",null,o.a.createElement(Te.a,{open:e.isOpen,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(Pe.a,{id:"form-dialog-title"},e.field),o.a.createElement(Me.a,null,o.a.createElement(Ue.a,null,"Edit the Field below to update your ",e.field),o.a.createElement(D.a,{autoFocus:!0,margin:"dense",id:"name",label:e.field,value:e.value,onChange:e.onChange,type:"email",fullWidth:!0})),o.a.createElement(Ae.a,null,o.a.createElement(g.a,{onClick:e.handleClose,color:"primary"},"Cancel"),o.a.createElement(g.a,{onClick:e.handleSubmit,color:"primary"},"Submit"))))},Re={displayName:"Display Name",email:"Email Address",password:"Password"};var De=function(e){return o.a.createElement("div",null,o.a.createElement(V.a,{align:"center",variant:"h6",component:"h6"},o.a.createElement("strong",null,Re[e.displayKey])),o.a.createElement(V.a,{align:"center",variant:"body1",component:"body1"},o.a.createElement("span",null,e.value,o.a.createElement(b.a,{className:"menu-button",color:"inherit","aria-label":"menu"},o.a.createElement(Ve.a,{onClick:e.openDialog})))),o.a.createElement(Le,{isOpen:e.isDialogOpen,handleClose:e.handleClose,handleSubmit:e.handleSubmit,field:Re[e.displayKey],value:e.value,onChange:e.onChange}))};var Ge=function(e){var a=Object(r.useState)(null),t=Object(x.a)(a,2),n=t[0],l=t[1],c=Object(r.useState)(null),s=Object(x.a)(c,2),i=s[0],u=s[1],m=Object(r.useState)(),d=Object(x.a)(m,2),p=(d[0],d[1],Object(r.useState)(!1)),E=Object(x.a)(p,2),h=E[0],C=E[1];return e.user&&null===n&&l(e.user.displayName),e.user?o.a.createElement("div",{className:"userProfile"},o.a.createElement(Se.a,null),o.a.createElement(V.a,{className:"center",variant:"h3",component:"h3"},"User Profile"),o.a.createElement(je.a,{maxWidth:"lg"},o.a.createElement(ae.a,{className:"paper"},o.a.createElement(De,{displayKey:"displayName",value:n,handleClose:function(){l(i),C(!1)},handleSubmit:function(){ve(e.user.id,{displayName:n}).then((function(e){C(!1),u(n)})).catch((function(e){console.log(e)}))},isDialogOpen:h,openDialog:function(){u(n),C(!0)},onChange:function(e){l(e.target.value)}}),o.a.createElement(ze.a,null),o.a.createElement(De,{displayKey:"email",value:e.user.email}),o.a.createElement(ze.a,null),o.a.createElement(De,{displayKey:"password",value:"*******"})))):o.a.createElement("div",null,"Loading..",o.a.createElement(me.a,null))},Ke=function(e){function a(){var e;return Object(m.a)(this,a),(e=Object(p.a)(this,Object(E.a)(a).call(this))).state={courses:[],users:[]},e.fetchCourses=e.fetchCourses.bind(Object(h.a)(e)),e.fetchUsers=e.fetchUsers.bind(Object(h.a)(e)),e.render=e.render.bind(Object(h.a)(e)),e.fetchCourses(),e.fetchUsers(),e}return Object(C.a)(a,e),Object(d.a)(a,[{key:"useEffect",value:function(){Ce().then((function(e){e.forEach((function(e){console.log("".concat(e.id," => ").concat(e.data())),console.log(e.data())}))}))}},{key:"fetchCourses",value:function(){var e=Object(u.a)(i.a.mark((function e(){var a,t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,Ce().then((function(e){e.forEach((function(e){var n=e.data(),r=e.id;n.owner.get().then((function(e){n.owner=e.data()})),n.chapter.lessons.get().then((function(e){n.chapter.lessons=e.data()})),n.id=r,a.push(n),t.setState({courses:a})}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchUsers",value:function(){var e=Object(u.a)(i.a.mark((function e(){var a,t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,fe().then((function(e){e.forEach((function(e){var n=e.data();n.id=e.id,a.push(n),t.setState({users:a})}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement(k.a,null,o.a.createElement("div",null,o.a.createElement("nav",null,o.a.createElement(f.a,{position:"static"},o.a.createElement(v.a,null,o.a.createElement(b.a,{edge:"start",className:"menu-button",color:"inherit","aria-label":"menu"},o.a.createElement(O.a,null)),o.a.createElement(g.a,{color:"inherit",className:"menu-button",component:k.b,to:"/"},"MOOC-In-A-Box"),o.a.createElement(g.a,{color:"inherit",className:"menu-button",component:k.b,to:"/myCourses"},"My Courses"),o.a.createElement(g.a,{color:"inherit",className:"menu-button",component:k.b,to:"/courseLibrary"},"All Courses"),o.a.createElement(b.a,{className:"menu-button profile-icon",component:k.b,to:"/profile",color:"inherit","aria-label":"menu"},o.a.createElement(N.a,null))))),o.a.createElement(S.c,null,o.a.createElement(S.a,{exact:!0,path:"/"},o.a.createElement(ke,null)),o.a.createElement(S.a,{path:"/courseLibrary"},o.a.createElement(ee,{courses:this.state.courses})),o.a.createElement(S.a,{path:"/courseOverview/:id"},o.a.createElement(Oe,{service:n})),o.a.createElement(S.a,{path:"/myCourses"},o.a.createElement(He,{user:this.state.users[0]})),o.a.createElement(S.a,{path:"/profile"},o.a.createElement(Ge,{user:this.state.users[0]})))))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(Ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[128,1,2]]]);
//# sourceMappingURL=main.aa803e66.chunk.js.map