{"version":3,"sources":["components/CourseCard/CourseCard.js","components/CourseLibrary/CourseLibraryToolbar/SearchBar/SearchBar.component.js","components/CourseLibrary/CourseLibraryToolbar/CourseLibraryToolbarMenu/CourseLibraryToolbarMenuItem/CourseLibraryToolbarMenuItem.component.js","components/CourseLibrary/CourseLibraryToolbar/CourseLibraryToolbarMenu/CourseLibraryToolbarMenu.component.js","components/CourseLibrary/CourseLibraryToolbar/CourseLibraryToolbar.component.js","service/firebase.service.js","components/CourseLibrary/CourseLibrary.js","components/Login/Login.js","components/CoursesDropdown/CoursesDropdown.component.js","components/MyCourses/MyCourses.js","components/UserProfile/EditDialog/EditDialog.component.js","components/UserProfile/UserProfileSection/UserProfileSection.component.js","components/UserProfile/UserProfile.js","components/CreateCourse/CreateCourseDialog/CreateCourseDialog.component.js","components/CreateCourse/CreateCourse.component.js","components/CourseOverview/CourseNavigationPane/CourseChapterPanel/CourseChapterPanel.component.js","components/CourseOverview/CourseNavigationPane/CourseNavigationPane.component.js","components/CourseOverview/CourseOverviewPane/CourseLesson/CourseLesson.component.js","components/CourseOverview/CourseOverviewPane/CourseOverviewPane.component.js","components/CourseOverview/Dialogs/CreateChapterDialog/CreateChapterDialog.component.js","components/CourseOverview/Dialogs/CreateLessonDialog/CreateLessonDialog.component.js","components/CourseOverview/Dialogs/EditCourseOverviewDialog/EditCourseOverviewDialog.component.js","components/CourseOverview/CourseOverview.component.js","App.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","root","maxWidth","minWidth","maxHeight","minHeight","position","media","height","paddingTop","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","backgroundColor","red","actionsRow","bottom","left","content","paddingBottom","CourseCard","props","classes","React","useState","isFavorited","setIsFavorited","isCourseAFavorite","Card","variant","className","CardHeader","title","course","subheader","owner","displayName","action","IconButton","aria-label","onClick","removeFavoriteClicked","favoriteClicked","CardMedia","image","CardContent","Typography","color","component","description","CardActions","disableSpacing","Button","Link","to","id","SearchBar","TextField","value","searchValue","onChange","type","onSearchClicked","CourseLibraryToolbarMenuItem","FormControlLabel","control","Radio","label","CourseLibraryToolbarMenu","menuItems","options","map","option","handleClick","associatedClickFunction","display","Menu","menuId","anchorEl","element","keepMounted","open","Boolean","onClose","closeFunction","MenuItem","FormControl","FormLabel","menuLabel","RadioGroup","name","radioGroupName","menuValue","event","target","CourseLibraryToolbar","menuButtons","menuItem","clickedFunction","buttonText","menus","menuOptions","AppBar","Toolbar","searchInfo","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","getUserById","userId","collection","doc","get","getAllUsers","updateUser","updates","a","set","merge","createUser","userAuth","uid","photoURL","email","getCurrentUser","user","auth","currentUser","logUserInUser","isGoog","provider","GoogleAuthProvider","FacebookAuthProvider","users","undefined","authUser","then","queryResults","forEach","data","push","signInWithPopup","result","u","catch","error","console","log","signOut","document","cookie","deleteUser","delete","createCourse","courseInfo","storage","userDocRef","lessonRef","chapter","lessons","add","chapters","courseDoc","usersCreatedCourses","createdCoursesRefs","length","courseRef","updateObject","favoriteCourse","favoritedCourses","favoritedCoursesRefs","removeFavoriteCourse","filter","item","updateCourse","courseId","updateCourseOverview","contentJSON","JSON","stringify","overview","addNewChapter","newChapterInfo","lessonsRef","addNewLesson","chapterInfo","lessonInfo","lessonDoc","getCourseByIdEvaluatePromise","courseResult","exists","getDocFromDocRef","docRef","myResult","CourseLibrary","sortByClicked","setState","sortByElement","currentTarget","sortByHandleClose","sortFilterValue","topicClicked","topicElement","topicHandleClose","topicFilterValue","organizationClicked","organizationElement","organizationHandleClosed","organizationFilterValue","buildMenuItems","state","find","favoritedCourse","handleSearchChange","bind","handleSearchClicked","activeCourses","courses","e","this","includes","FirebaseService","listItems","Grid","s","class","container","spacing","Component","LoginPage","redirectToReferrer","loginGoogle","loginFacebook","completeLogin","history","loadingUser","CircularProgress","from","location","pathname","withRouter","CoursesDropdownComponent","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","ExpansionPanelDetails","xs","md","List","dense","ListItem","RouterLink","includeEditIcon","CurrentCoursesComponent","currentCourses","PastCoursesComponent","pastCourses","SavedCoursesComponent","savedCourses","CreatedCoursesComponent","createdCourses","MyCourses","setUser","useEffect","courseComponentList","hasCourses","pastCourse","CssBaseline","Container","Paper","EditDialog","Dialog","isOpen","handleClose","aria-labelledby","DialogTitle","field","DialogContent","DialogContentText","autoFocus","margin","fullWidth","DialogActions","handleSubmit","userKeyToDisplayMap","UserProfileSection","align","displayValue","isEditable","openDialog","isDialogOpen","displayKey","setDisplayName","oldDisplayName","setOldDiplayName","isDisplayNameDialogOpen","setIsDisplayNameDialogOpen","userInterests","setUserInterests","oldUserInterests","setOldUserInterests","isUserInterestsDialogOpen","setIsUserInterestsDialogOpen","res","interests","err","Divider","CreateCourseDialog","setDescription","setTitle","courseDetails","CreateCourse","isCreateCourseDialogOpen","setIsCreateCourseDialogOpen","useHistory","sectionTitle","updateCourses","currnetCoursesSection","CourseChapterPanel","addNewLessonButton","lessonItems","lesson","isActiveLesson","activeLesson","selected","setChapterInContext","setActiveLesson","listItemClicked","button","ListItemText","primary","editable","openLessonModal","defaultExpanded","chapterInContext","CourseNavigationPane","addNewChapterButton","courseNavigationPanels","openCreateChapterDialog","YoutubeComponentConfig","opts","width","playerVars","autoplay","videoId","EditCourseLesson","goToPreviousLesson","navigateToPreviousLesson","goToNextLesson","navigateToNextLesson","youtubeConfig","url","video","myParamters","split","searchParams","URLSearchParams","getVideoConfig","onReady","pauseVideo","isFirstLesson","isLastLesson","nextLesson","nextChapter","leftButton","endIcon","prevLesson","prevChapter","rightButton","startIcon","getButtonDiv","CourseOverviewPane","openEditCourseOverviewDialogButton","lessonArray","i","j","openEditCourseOverviewDialog","contentStateObj","parse","editorState","EditorState","createWithContent","convertFromRaw","toolbarHidden","readOnly","ContentState","createFromText","currentLessonIndex","indexOf","currentLessonIndexInChapter","activeChapter","numLessonsInChapter","numChapters","activeChapterIndex","getLessonInformation","indexOfCurrentLesson","CreateChapterDialog","CreateLessonDialog","setVideo","EditCourseOverviewDialog","contentState","setContentState","setEditorState","createEmpty","editorClassName","handleKeyCommand","command","newState","RichUtils","onEditorStateChange","currentContentState","getCurrentContent","convertToRaw","dialogs","viewPublishedCourseButton","useParams","setCourse","isCreateChapterDialogOpen","setIsCreateChapterDialogOpen","isCreateLessonDialogOpen","setIsCreateLessonDialogOpen","isEditCourseOverviewDialogOpen","setIsEditCourseOverviewDialogOpen","getCourseById","resolveLessons","Promise","all","results","resolve","resolveChapters","createMuiTheme","palette","light","main","dark","secondary","typography","useNextVariants","overrides","MuiButton","textTransform","App","fetchCourses","fetchUsers","render","getUserOnLoad","pastCoursesRefs","some","trim","startsWith","cookieValue","replace","PrivateRoute","isLoggedIn","hidden","exact","path","window","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.8372779c.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Collapse from '@material-ui/core/Collapse';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { red } from '@material-ui/core/colors';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ShareIcon from '@material-ui/icons/Share';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { Button } from '@material-ui/core';\nimport {Link} from 'react-router-dom'\nimport FavoriteBorderOutlinedIcon from '@material-ui/icons/FavoriteBorderOutlined';\n\n\n\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    maxWidth: 345,\n    minWidth: 345,\n    maxHeight: 400,\n    minHeight: 400,\n    position: 'relative',\n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%', // 16:9\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  avatar: {\n    backgroundColor: red[500],\n  },\n  actionsRow: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0\n  }, \n  content: {\n    paddingBottom: '1rem'\n  }\n}));\n\nexport default function CourseCard(props) {\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(false);\n  const [isFavorited, setIsFavorited] = React.useState(false)\n\n\n  if ( props.isCourseAFavorite != isFavorited){\n    setIsFavorited(props.isCourseAFavorite);\n  }\n\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n\n  const favoriteButtonClicked = () => {\n    if (isFavorited) {\n      setIsFavorited(false);\n      props.removeFavoriteClicked(props.course);\n    } else {\n      setIsFavorited(true);\n      props.favoriteClicked(props.course);\n    }\n   \n  }\n\n  return (\n    <Card variant=\"outlined\" className={classes.root}>\n      <CardHeader\n        title={props.course.title}\n        subheader={props.course.owner.displayName}\n        action={\n          <IconButton aria-label=\"add to favorites\" onClick={favoriteButtonClicked}>\n           { isFavorited ? <FavoriteIcon /> : <FavoriteBorderOutlinedIcon />  } \n          </IconButton>\n        }\n      />\n      <CardMedia\n        className={classes.media}\n        image=\"/static/images/cards/paella.jpg\"\n        title=\"Paella dish\"\n      />\n      <CardContent className={classes.content}>\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n          {props.course.description}\n        </Typography> \n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n          {props.course.owner.displayName}\n        </Typography>\n      </CardContent>\n      <CardActions className={classes.actionsRow} disableSpacing>\n        <Button \n          variant=\"contained\" \n          color=\"secondary\"\n          component={Link}\n          to={`/courseOverview/${props.course.id}`}\n          >\n            Overview\n        </Button>\n      </CardActions>\n    </Card>\n  );\n}","import React from 'react';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport { IconButton } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\n\nimport './SearchBar.css';\n\nfunction SearchBar(props) {\n  return (\n    <div className=\"search-bar\">\n      <TextField value={props.searchValue} onChange={props.onChange} id=\"outlined-search\" type=\"search\" variant=\"outlined\" color=\"secondary\" />\n      <IconButton className=\"menu-button\" onClick={props.onSearchClicked}>\n        <SearchIcon className=\"search-bar-icon\" />\n      </IconButton>\n    </div>\n  )\n}\n\nexport default SearchBar\n\n\n","import React from 'react';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\n\nfunction CourseLibraryToolbarMenuItem(props){\n    return (\n      <FormControlLabel value={props.value} control={<Radio />} label={props.value} />\n    )\n  }\n\n  export default CourseLibraryToolbarMenuItem","import React from 'react';\n\nimport Menu from '@material-ui/core/Menu';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport CourseLibraryToolbarMenuItem from './CourseLibraryToolbarMenuItem/CourseLibraryToolbarMenuItem.component';\n\n\n\nfunction CourseLibraryToolbarMenu(props){\n\n  let menuItems = props.options.map( option => {\n    return (\n      <CourseLibraryToolbarMenuItem\n        handleClick={option.associatedClickFunction}\n        value={option.display}>\n      </CourseLibraryToolbarMenuItem>\n    )\n  })\n\n  const onChangeFunction = (event) => {\n    props.closeFunction(event.target.value)\n  }\n\n    return (\n      <Menu\n          id={props.menuId}\n          anchorEl={props.element}\n          keepMounted\n          open={Boolean(props.element)}\n          onClose={props.closeFunction}\n        >\n          <MenuItem>\n            <FormControl component=\"fieldset\">\n            <FormLabel component=\"legend\">{props.menuLabel}</FormLabel>\n            <RadioGroup aria-label=\"gender\" name={props.radioGroupName} value={props.menuValue} onChange={onChangeFunction}>\n              {menuItems}\n            </RadioGroup>\n            </FormControl>\n          </MenuItem>\n      </Menu>\n    )\n  }\n\n  export default CourseLibraryToolbarMenu","import React from 'react';\n\nimport {AppBar, Toolbar, IconButton, Typography } from '@material-ui/core';\nimport {Button} from '@material-ui/core';\n\nimport SearchBar from './SearchBar/SearchBar.component';\nimport CourseLibraryToolbarMenu from './CourseLibraryToolbarMenu/CourseLibraryToolbarMenu.component'\n\n\n//<CourseLibraryMenu handleClose={this.handleClose} sortByElement={props.state.sortByElement}></CourseLibraryMenu>\n\n\nfunction CourseLibraryToolbar(props){\n\n    let menuButtons = props.menuItems.map(menuItem => {\n        return (\n            <Button\n                color=\"inherit\" \n                className=\"menu-button\"\n                onClick={menuItem.clickedFunction}\n            >\n                {menuItem.buttonText}\n            </Button>\n        )\n    })\n\n    let menus = props.menuItems.map(menuItem => {\n        return(\n            <CourseLibraryToolbarMenu\n                element={menuItem.element}\n                closeFunction = {menuItem.closeFunction}\n                options={menuItem.menuOptions}\n                menuId={menuItem.menuId}\n                menuLabel={menuItem.buttonText}\n            >\n            </CourseLibraryToolbarMenu>\n        )\n    })\n\n    return(\n        <AppBar position=\"static\" className=\"course-library-app-bar\">\n            <Toolbar>\n                {menuButtons}\n                <SearchBar searchValue={props.searchInfo.value} onChange={props.searchInfo.onChange} onSearchClicked={props.searchInfo.onClick}></SearchBar>\n            </Toolbar>\n            {menus}\n      </AppBar>\n    )\n}\n\nexport default CourseLibraryToolbar","// import * as firebase from \"firebase/app\";\n// import \"firebase/firestore\";\n// import \"firebase/auth\";\nimport firebase from 'firebase'\nimport { useRadioGroup } from '@material-ui/core';\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyA8tAHYGUiNkFHq6452W4Qr79eibVmtRZA\",\n    authDomain: \"mooc-in-a-box.firebaseapp.com\",\n    databaseURL: \"https://mooc-in-a-box.firebaseio.com\",\n    projectId: \"mooc-in-a-box\",\n    storageBucket: \"mooc-in-a-box.appspot.com\",\n    messagingSenderId: \"594314585164\",\n    appId: \"1:594314585164:web:3ae152452d1c238af100e9\",\n    measurementId: \"G-LXH34JCXZS\"\n};\n\nfirebase.initializeApp(firebaseConfig);\nconst db = firebase.firestore();\n\n\nexport const getUserById = userId => {\n    return db.collection('Users').doc(userId).get();\n}\n\n\nexport const getCourseById = courseId => {\n    return db.collection('Course')\n        .doc(courseId)\n        .get();\n};\n\nexport const getAllCourses = () => {\n    return db.collection('Course').get();\n}\n\nexport const getAllUsers = () => {\n    return db.collection('Users').get();\n}\n\nexport const updateUser = async (userId, updates) => {\n    return db.collection('Users')\n        .doc(userId)\n        .set(updates, { merge: true })\n}\n\nexport const createUser = async (userAuth) => {\n    return db.collection('Users')\n        .doc(userAuth.uid)\n        .set({\n            id: userAuth.uid,\n            name: userAuth.displayName,\n            photoURL: userAuth.photoURL,\n            email: userAuth.email,\n        },\n            { merge: true }\n        )\n}\n\nexport const getCurrentUser = () => {\n    var user = firebase.auth().currentUser;\n    if (user) {\n        return user;\n    } else {\n        return undefined;\n    }\n}\n\nexport const logUserInUser = async (isGoog) => {\n    let provider;\n    isGoog ? provider = new firebase.auth.GoogleAuthProvider() :\n        provider = new firebase.auth.FacebookAuthProvider();\n    let users = [];\n    let currentUser = undefined;\n    let authUser = undefined;\n    // Get all users so we can see if the logged in one is one of ours.\n    // TODO(jessi): store this data so we don't need to fetch it, or directly ask for the user\n    // once they log in and if no user exists create one. Sounds like work.\n    await getAllUsers()\n        .then((queryResults) => {\n            queryResults.forEach((doc) => {\n                const user = doc.data();\n                user.id = doc.id;\n                users.push(user);\n            })\n        });\n\n    return await firebase.auth().signInWithPopup(provider).then(async function (result) {\n        authUser = result.user;\n        users.forEach(u => {\n            if (u.id === authUser.uid) {\n                currentUser = u;\n            }\n        });\n        // Didn't find an existing user.\n        if (currentUser === undefined) {\n            // Create new user\n            await createUser(authUser).then(async () => {\n                // Get the new user to return\n                return getCurrentUser();\n            }).catch(error => {\n                console.log(error);\n            });\n        }\n        return currentUser;\n    }).catch(function (error) {\n        console.log(error);\n    });\n}\n\nexport const signOut = async () => {\n    return await firebase.auth().signOut().then(function () {\n        document.cookie = 'userid=; expires=Thu, 01 Jan 1970 00:00:01 GMT;';\n        return true;\n    }).catch(function (error) {\n        console.log(error);\n        return false;\n    });\n}\n\nexport const deleteUser = async () => {\n    var user = firebase.auth().currentUser;\n\n    return await user.delete().then(function () {\n        document.cookie = 'userid=; expires=Thu, 01 Jan 1970 00:00:01 GMT;';\n        return true;\n    }).catch(function (error) {\n        console.log(error);\n        return false;\n    });\n}\n\n\nexport const createCourse = async (user, courseInfo) => {\n    var storage = firebase.storage();\n    const userDocRef = db.doc(`Users/${user.id}`)\n    const lessonRef = db.doc(courseInfo.chapter.lessons);\n    courseInfo.chapter.lessons = lessonRef;\n    return await db.collection('Course').add({\n        owner: userDocRef,\n        title: courseInfo.title,\n        description: courseInfo.description,\n        chapters: courseInfo.chapters\n    })\n        .then(async courseDoc => {\n            let usersCreatedCourses;\n            if (user.createdCoursesRefs && user.createdCoursesRefs.length > 0) {\n                usersCreatedCourses = user.createdCoursesRefs;\n            } else {\n                usersCreatedCourses = []\n            }\n\n            const courseRef = db.doc(`Course/${courseDoc.id}`)\n            usersCreatedCourses.push(courseRef);\n            const updateObject = {\n                createdCoursesRefs: usersCreatedCourses\n            }\n\n            return await updateUser(user.id, updateObject);\n        })\n}\n\nexport const favoriteCourse = async (user, courseInfo) => {\n    const courseRef = db.doc(`Course/${courseInfo.id}`)\n    let favoritedCourses;\n\n    if (user.favoritedCoursesRefs && user.favoritedCoursesRefs.length > 0) {\n        favoritedCourses = user.favoritedCoursesRefs;\n    } else {\n        favoritedCourses = []\n    }\n\n    favoritedCourses.push(courseRef);\n\n    const updateObject = {\n        favoritedCoursesRefs: favoritedCourses\n    }\n\n    return await updateUser(user.id, updateObject);\n}\n\nexport const removeFavoriteCourse = async (user, courseInfo) => {\n    const favoritedCourses = user.favoritedCoursesRefs.filter(item => item.id !== courseInfo.id);\n    const updateObject = {\n        favoritedCoursesRefs: favoritedCourses\n    }\n\n    return await updateUser(user.id, updateObject);\n}\n\n\nexport const updateCourse = async (courseId, updates) => {\n    return db.collection('Course')\n        .doc(courseId)\n        .set(updates, { merge: true })\n}\n\nexport const updateCourseOverview = async (course, content) => {\n    const contentJSON = JSON.stringify(content);\n\n    const updateObject = {\n        overview: contentJSON\n    }\n\n    return await updateCourse(course.id, updateObject);\n\n}\n\nexport const addNewChapter = async (course, newChapterInfo) => {\n    const chapter = {}\n    chapter.title = newChapterInfo.title;\n    chapter.description = newChapterInfo.description;\n    chapter.id = 0\n    chapter.lessonsRef = [];\n\n    if (course.chapters && course.chapters.length > 0) {\n        course.chapters.push(chapter);\n    } else {\n        course.chapters = [];\n        course.chapters.push(chapter);\n    }\n\n    const updateObject = {\n        chapters: course.chapters\n    }\n\n    return await updateCourse(course.id, updateObject);\n\n}\n\nexport const addNewLesson = async (course, chapterInfo, lessonInfo) => {\n\n    return await db.collection('Course').doc(course.id).collection('Lessons').add(lessonInfo)\n        .then(async lessonDoc => {\n            console.log(\"Lesson Doc\", lessonDoc)\n            console.log(`Course/${course.id}/Lessons/${lessonDoc.id}`);\n            const lessonRef = db.doc(`Course/${course.id}/Lessons/${lessonDoc.id}`);\n            const chapters = course.chapters.map(chapter => {\n                if (chapter === chapterInfo) {\n                    chapter.lessonsRef.push(lessonRef);\n                }\n                return chapter\n            });\n\n            const updateObject = {\n                chapters\n            }\n            return await updateCourse(course.id, updateObject)\n        });\n}\n\n\nexport const getCourseByIdEvaluatePromise = courseId => {\n    return db.collection('Course')\n        .doc(courseId)\n        .get()\n        .then(courseResult => {\n            if (courseResult.exists) {\n                const course = courseResult.data();\n                course.id = courseId;\n                return course;\n            } else {\n                return null\n            }\n        });\n};\n\nexport const getDocFromDocRef = docRef => {\n    return docRef.get()\n        .then(result => {\n            if (result.exists) {\n                const myResult = result.data();\n                myResult.id = result.id;\n                console.log(myResult);\n                return myResult;\n            } else {\n                return null;\n            }\n        })\n}","import React from 'react';\nimport './CourseLibrary.css';\nimport {Button} from '@material-ui/core';\nimport CourseCard from '../CourseCard/CourseCard';\nimport { render } from '@testing-library/react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Grid from '@material-ui/core/Grid';\nimport {AppBar, Toolbar, IconButton, Typography } from '@material-ui/core';\nimport SearchBar from './CourseLibraryToolbar/SearchBar/SearchBar.component';\nimport CourseLibraryMenu from './CourseLibraryToolbar/CourseLibraryToolbarMenu/CourseLibraryToolbarMenu.component'\nimport CourseLibraryToolbar from './CourseLibraryToolbar/CourseLibraryToolbar.component'\n\nimport * as FirebaseService from '../../service/firebase.service';\n\n\nclass CourseLibrary extends React.Component {\n  constructor(props) {\n    super(props);\n    // Bind Search\n    this.handleSearchChange = this.handleSearchChange.bind(this);\n    this.handleSearchClicked = this.handleSearchClicked.bind(this);\n    // Bind Sort By\n    this.sortByClicked = this.sortByClicked.bind(this);\n    this.sortByHandleClose = this.sortByHandleClose.bind(this);\n    // Bind Topic\n    this.topicClicked = this.topicClicked.bind(this);\n    this.topicHandleClose = this.topicHandleClose.bind(this);\n    // Bind Organization\n    this.organizationClicked = this.organizationClicked.bind(this);\n    this.organizationHandleClosed = this.organizationHandleClosed.bind(this);\n\n    this.buildMenuItems = this.buildMenuItems.bind(this);\n    this.favoriteClicked = this.favoriteClicked.bind(this);\n    this.removeFavoriteClicked = this.removeFavoriteClicked.bind(this);\n    this.state = {\n      searchValue: \"\",\n      sortByElement: null,\n      topicElement: null,\n      organizationElement: null,\n      sortFilterValue: null,\n      topicFilterValue: null,\n      organizationFilterValue:null,\n      activeCourses: props.courses\n    }\n  }\n\n  /** Search Function */\n  handleSearchChange(e){\n    const searchValue = e.target.value;\n    console.log(searchValue);\n    const activeCourses = this.props.courses.filter(course => course.title.includes(searchValue))\n    this.setState({\n      searchValue,\n      activeCourses\n    })\n  }\n\n  handleSearchClicked(e){\n  }\n\n  /** Sort By Functions */\n  sortByClicked = event => {\n    this.setState({\n      sortByElement: event.currentTarget\n    });\n  };\n\n  sortByHandleClose = (value) => {\n    this.setState({\n      sortByElement: null,\n      sortFilterValue: value\n    });\n  };\n\n\n  /** Topic Functions */\n  topicClicked = event => {\n    this.setState({\n      topicElement: event.currentTarget\n    });\n  };\n\n  topicHandleClose = (value) => {\n    this.setState({\n      topicElement: null,\n      topicFilterValue: value\n    });\n  };\n\n  /** Organization functions */\n  organizationClicked = event => {\n    this.setState({\n      organizationElement: event.currentTarget\n    });\n  };\n\n  organizationHandleClosed = (value) => {\n    this.setState({\n      organizationElement: null,\n      organizationFilterValue: value\n    });\n  };\n\n  async favoriteClicked(course) {\n    await FirebaseService.favoriteCourse(this.props.user, course);\n    this.props.updateUser(this.props.user.id)\n  }\n\n  async removeFavoriteClicked(course){\n    await FirebaseService.removeFavoriteCourse(this.props.user, course);\n    this.props.updateUser(this.props.user.id)\n\n  }\n\n  buildMenuItems = () => {\n    const sortByInfo = {\n      buttonText: \"Sort By\",\n      menuId: \"menu-sort-by\",\n      clickedFunction: this.sortByClicked,\n      closeFunction: this.sortByHandleClose,\n      element: this.state.sortByElement,\n      radioGroupName: \"menuRadio\",\n      menuValue: this.state.sortFilterValue,\n      menuOptions: [\n        {\n          display: \"Newest\",\n          associatedClickFunction:  this.sortByHandleClose\n        },\n        {\n          display: \"Recommended\",\n          associatedClickFunction:  this.sortByHandleClose\n        },\n        {\n          display: \"Trending\",\n          associatedClickFunction:  this.sortByHandleClose\n        }\n      ]\n    }\n\n    const topicInfo = {\n      buttonText: \"Topic\",\n      menuId: \"menu-topic\",\n      clickedFunction: this.topicClicked,\n      element: this.state.topicElement,\n      closeFunction: this.topicHandleClose,\n      radioGroupName: \"topicRadio\",\n      menuValue: this.state.topicFilterValue,\n      menuOptions: [\n        {\n          display: \"Science\",\n          associatedClickFunction:  this.topicHandleClose\n        },\n        {\n          display: \"Technology\",\n          associatedClickFunction:  this.topicHandleClose\n        },\n        {\n          display: \"History\",\n          associatedClickFunction:  this.topicHandleClose\n        },\n        {\n          display: \"Arts\",\n          associatedClickFunction:  this.topicHandleClose\n        }\n      ]\n    }\n\n    const organizationInfo = {\n      buttonText: \"Organization\",\n      menuId: \"menu-organization\",\n      clickedFunction: this.organizationClicked,\n      element: this.state.organizationElement,\n      closeFunction: this.organizationHandleClosed,\n      radioGroupName: \"organizationRadio\",\n      menuValue: this.state.organizationFilterValue,\n      menuOptions: [\n        {\n          display: \"Required\",\n          associatedClickFunction:  this.organizationHandleClosed\n        },\n        {\n          display: \"Recommended\",\n          associatedClickFunction:  this.organizationHandleClosed\n        },\n        {\n          display: \"All Courses\",\n          associatedClickFunction:  this.organizationHandleClosed\n        }\n      ]\n    }\n\n    return [sortByInfo, topicInfo, organizationInfo];\n  }\n\n  isCourseAFavorite = (user, course) => {\n    \n    if( user.favoritedCourses && user.favoritedCourses.length > 0 ){\n      return user.favoritedCourses\n        .find(favoritedCourse => favoritedCourse.id === course.id);\n    }\n    return false;\n  }\n\n\n  render() {\n    // Mappings\n    const menuItems = this.buildMenuItems();\n    const favoriteClicked = this.favoriteClicked;\n    const isCourseAFavorite = this.isCourseAFavorite;\n    const removeFavoriteClicked = this.removeFavoriteClicked\n\n    const user = this.props.user;\n    const searchInfo = {\n      value: this.state.searchValue,\n      onChange: this.handleSearchChange,\n      onClick: this.handleSearchClicked\n    }\n    let listItems = []\n    if (user) {\n\n      listItems = this.state.activeCourses.map(function(item) {\n        return (\n            <Grid item s={4}>\n              <CourseCard course={item} favoriteClicked={favoriteClicked} removeFavoriteClicked={removeFavoriteClicked} isCourseAFavorite={isCourseAFavorite(user, item)}></CourseCard>\n            </Grid>\n        );\n      });\n    }\n    \n    return (\n      <div class=\"course-library\">\n        <CourseLibraryToolbar menuItems={menuItems} searchInfo={searchInfo}></CourseLibraryToolbar>\n          <div className=\"course-list\">\n          <Grid container spacing={3}>\n            {listItems}\n          </Grid>\n          </div>\n      </div>\n\n      );\n  }\n}\n\nexport default CourseLibrary;\n","import React from 'react';\nimport './Login.css';\nimport { Button } from '@material-ui/core';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport * as FirebaseService from '../../service/firebase.service';\n\nclass LoginPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { redirectToReferrer: false };\n    this.loginGoogle = this.loginGoogle.bind(this);\n    this.loginFacebook = this.loginFacebook.bind(this);\n\n  }\n\n  async loginGoogle(event) {\n    // TODO(jessi): set a loading state\n    await FirebaseService.logUserInUser(/* isGoog= */ true).then(u => {\n      this.props.completeLogin(u);\n      this.props.history.push(\"/courseLibrary\");\n      this.setState({ redirectToReferrer: true });\n    });\n    // TODO(jessi): unset loading state\n  }\n\n  async loginFacebook(event) {\n    // TODO(jessi): set a loading state\n    await FirebaseService.logUserInUser(/* isGoog= */ false).then(u => {\n      this.props.completeLogin(u);\n      this.props.history.push(\"/courseLibrary\");\n      this.setState({ redirectToReferrer: true });\n    });\n    // TODO(jessi): unset loading state\n  }\n\n  render() {\n    // Show loading screen while we load the user.\n    if (this.props.loadingUser) {\n      return (\n        <div>\n          Loading..\n          <CircularProgress></CircularProgress>\n        </div>\n      )\n    }\n\n    // Redirect if logged in or complete login.\n    const { from } = this.props.location.state || { from: { pathname: '/' } }\n    const { redirectToReferrer } = this.state\n    if (redirectToReferrer === true || this.props.user) {\n      return <Redirect to={from} />\n    }\n\n\n    // TODO(jessi): style these buttons\n    return (\n      <div className=\"login\">\n        <h1>Sign into Mooc in a Box</h1>\n        <Button color=\"inherit\" className=\"menu-button\" onClick={this.loginFacebook}>\n          Sign in with Facebook\n      </Button>\n        <Button color=\"inherit\" className=\"menu-button\" onClick={this.loginGoogle}>\n          Sign in with Google\n      </Button>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(LoginPage);\n","import React, { useState } from 'react';\nimport {\n  Link as RouterLink,\n} from \"react-router-dom\";\nimport {Button} from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\n\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Grid from '@material-ui/core/Grid';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { IconButton } from '@material-ui/core';\n\nfunction CoursesDropdownComponent(props) {\n    return (\n      <ExpansionPanel>\n              <ExpansionPanelSummary\n              expandIcon={<ExpandMoreIcon />}\n              aria-controls=\"panel1a-content\"\n              id=\"panel1a-header\"\n              >\n              <Typography variant=\"subtitle2\">{props.courses.length} Course(s)</Typography>\n              </ExpansionPanelSummary>\n              <ExpansionPanelDetails>\n              <Grid container spacing={2}>\n                  <Grid item xs={12} md={6}>\n                      <div>\n                          <List dense=\"true\">\n                          {\n                            props.courses.map( course => {\n                              return (\n                                <span>\n                                  <ListItem \n                                  >\n                                    <Button\n                                      component={RouterLink} \n                                      to={`/courseOverview/${course.id}`}\n                                    >\n                                      {course.title}\n                                    </Button>\n                                    { props.includeEditIcon && \n                                      <IconButton \n                                        className=\"menu-button\" \n                                        color=\"inherit\" \n                                        aria-label=\"menu\"\n                                        component={RouterLink}\n                                        to={`/editCourse/${course.id}`}\n                                      >\n                                        <EditIcon/>\n                                      </IconButton>\n                                    }\n                                  </ListItem>\n                                </span>\n                                \n                              )\n                            })\n                          }\n                          </List>\n                      </div>\n                      </Grid>\n                  </Grid>\n              </ExpansionPanelDetails>\n          </ExpansionPanel>\n    )\n  }\n\n  export default CoursesDropdownComponent;\n","import React, { useState } from 'react';\nimport './MyCourses.css';\nimport {\n  Link as RouterLink,\n} from \"react-router-dom\";\nimport { Button } from '@material-ui/core';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { Link } from 'react-router-dom'\n\nimport EditIcon from '@material-ui/icons/Edit';\nimport { IconButton } from '@material-ui/core';\n\nimport CoursesDropdownComponent from '../CoursesDropdown/CoursesDropdown.component';\n\n\n\n/**\n * \n * http://localhost:3000/courseOverview/rlfxOavBn4nPZLNTRMkL\n * http://localhost:3000/courseOverview/rlfxOavBn4nPZLNTRMkL\n */\n\n/**\n * \n * \n */\n\n\n\nfunction generate(element) {\n  return React.cloneElement(element, {\n    key: element,\n  })\n}\n\nfunction CurrentCoursesComponent(props) {\n  let numberOfCourses = props.currentCourses.length;\n\n  return (\n    <div>\n      <h1> Current Courses </h1>\n      <CoursesDropdownComponent courses={props.currentCourses}></CoursesDropdownComponent>\n    </div>\n  )\n}\n\n\nfunction PastCoursesComponent(props) {\n  return (\n    <div>\n      <h1> Past Courses </h1>\n      <CoursesDropdownComponent courses={props.pastCourses}></CoursesDropdownComponent>\n    </div>\n  )\n}\n\nfunction SavedCoursesComponent(props) {\n  return (\n    <div>\n      <h1> Favorited Courses </h1>\n      <CoursesDropdownComponent courses={props.savedCourses}></CoursesDropdownComponent>\n    </div>\n  )\n}\n\nfunction CreatedCoursesComponent(props) {\n  return (\n    <div>\n      <h1> Created Courses </h1>\n      <CoursesDropdownComponent courses={props.createdCourses} includeEditIcon={true}></CoursesDropdownComponent>\n    </div>\n  )\n}\n\n\n\nfunction MyCourses(props) {\n\n  const [user, setUser] = useState();\n\n  React.useEffect(() => {\n    setUser(props.user);\n  }, [props]);\n\n\n  if (user) {\n    const courseComponentList = []\n    let hasCourses = false;\n\n\n    if (user.currentCourses && user.currentCourses.length > 0) {\n      const element = <CurrentCoursesComponent currentCourses={user.currentCourses}></CurrentCoursesComponent>\n      courseComponentList.push(element);\n      hasCourses = true;\n    }\n\n    if (user.pastCourses && user.pastCourse.length > 0) {\n      const element = <PastCoursesComponent pastCourses={user.pastCourses}></PastCoursesComponent>\n      courseComponentList.push(element);\n      hasCourses = true;\n\n    }\n\n    if (user.favoritedCourses && user.favoritedCourses.length > 0) {\n      const element = <SavedCoursesComponent savedCourses={user.favoritedCourses}></SavedCoursesComponent>\n      courseComponentList.push(element);\n      hasCourses = true;\n\n    }\n\n    if (user.createdCourses && user.createdCourses.length > 0) {\n      const element = <CreatedCoursesComponent createdCourses={user.createdCourses}></CreatedCoursesComponent>\n      courseComponentList.push(element);\n      hasCourses = true;\n\n    }\n    if (hasCourses) {\n      return (\n        <div className=\"MyCourses\">\n          <CssBaseline />\n          <Typography className=\"center\" variant=\"h3\" component=\"h3\">\n            My Courses\n          </Typography>\n          <Container maxWidth=\"lg\">\n            <Paper className=\"paper\">\n              {\n                courseComponentList.map(element => element)\n              }\n            </Paper>\n          </Container>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"MyCourses\">\n          <CssBaseline />\n          <Typography className=\"center\" variant=\"h3\" component=\"h3\">\n            My Courses\n            </Typography>\n          <Container maxWidth=\"lg\">\n            <Paper className=\"paper\">\n              <h4>You don't have any courses saved yet!</h4>\n            </Paper>\n          </Container>\n        </div>\n      )\n    }\n\n\n  } else {\n    return (\n      <div>\n        Loading..\n        <CircularProgress></CircularProgress>\n      </div>\n    )\n  }\n\n}\n\nexport default MyCourses;\n","import React from 'react';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Button } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\n\nfunction EditDialog(props) {\n  return (\n    <div>\n      <Dialog open={props.isOpen} onClose={props.handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">{props.field}</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Edit the Field below to update your {props.field}\n          </DialogContentText>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"name\"\n            label={props.field}\n            value={props.value}\n            onChange={props.onChange}\n            type=\"email\"\n            color=\"secondary\"\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={props.handleClose} color=\"secondary\">\n            Cancel\n            </Button>\n          <Button onClick={props.handleSubmit} color=\"secondary\">\n            Submit\n            </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  )\n}\n\nexport default EditDialog","import React from 'react';\n\n\nimport Typography from '@material-ui/core/Typography';\nimport { IconButton } from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\nimport EditDialog from '../EditDialog/EditDialog.component';\n\nconst userKeyToDisplayMap = {\n    \"displayName\": \"Display Name\",\n    \"email\": \"Email Address\",\n    \"password\": \"Password\"\n  }\n\nfunction UserProfileSection(props){\n    function getEditIconIfNecessary(){\n      return props.isEditable ? \n        <IconButton className=\"menu-button\" color=\"inherit\" aria-label=\"menu\">\n          <EditIcon onClick={props.openDialog}/>\n        </IconButton>\n        :\n        <div></div>\n    }\n\n\n    return (\n      <div>\n        <Typography align=\"center\" variant=\"h6\" component=\"h6\">\n          <strong>{props.displayValue}</strong>\n        </Typography>\n        <Typography align=\"center\" variant=\"body1\" component=\"body1\">\n          <span>\n            {props.value}\n            {getEditIconIfNecessary()}\n          </span>\n        </Typography>\n        <EditDialog \n          isOpen={props.isDialogOpen}\n          handleClose={props.handleClose}\n          handleSubmit={props.handleSubmit}\n          field={userKeyToDisplayMap[props.displayKey]}\n          value={props.value}\n          onChange={props.onChange}\n        />\n      </div>\n    )\n}\n\nexport default UserProfileSection\n  ","import React, { useState } from 'react';\nimport './UserProfile.css';\n\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport Divider from '@material-ui/core/Divider';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport UserProfileSection from './UserProfileSection/UserProfileSection.component';\nimport { Button } from '@material-ui/core';\nimport { withRouter } from \"react-router-dom\";\nimport * as FirebaseService from '../../service/firebase.service';\n\nconst passwordValue = \"*******\";\n\nfunction UserProfile(props) {\n\n\n  const [displayName, setDisplayName] = useState(null);\n  const [oldDisplayName, setOldDiplayName] = useState(null);\n  const [error, setError] = useState();\n  const [isDisplayNameDialogOpen, setIsDisplayNameDialogOpen] = useState(false)\n  const [userInterests, setUserInterests] = useState(null);\n  const [oldUserInterests, setOldUserInterests] = useState(null);\n  const [isUserInterestsDialogOpen, setIsUserInterestsDialogOpen] = useState(false);\n\n\n\n  function handleDisplayNameClose() {\n    setDisplayName(oldDisplayName)\n    setIsDisplayNameDialogOpen(false)\n  }\n\n  function handleDisplayNameSubmit() {\n    FirebaseService.updateUser(props.user.id, {\n      displayName\n    }).then(result => {\n      setIsDisplayNameDialogOpen(false)\n      setOldDiplayName(displayName)\n      props.updateUser(props.user.id);\n\n    })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  function openDisplayNameDialog() {\n    setOldDiplayName(displayName)\n    setIsDisplayNameDialogOpen(true)\n  }\n\n  function onDisplayNameChange(e) {\n    setDisplayName(e.target.value);\n  }\n\n  /**\n   * Begin User Interests\n   */\n  function handleUserInterestsDialogClose() {\n    setUserInterests(oldUserInterests)\n    setIsUserInterestsDialogOpen(false)\n  }\n\n  function openUserInterestDialog() {\n    setOldUserInterests(userInterests)\n    setIsUserInterestsDialogOpen(true)\n  }\n\n  function onUserInterestsChange(e) {\n    setUserInterests(e.target.value);\n  }\n\n  function handleUserInterestSubmit() {\n    FirebaseService.updateUser(props.user.id, {\n      interests: userInterests\n    }).then(result => {\n      setIsUserInterestsDialogOpen(false)\n      setUserInterests(userInterests)\n      props.updateUser(props.user.id);\n    })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  async function signOut() {\n    await FirebaseService.signOut().then((res) => {\n      if (res) {\n        props.history.push(\"/\");\n        props.updateUser(undefined);\n      }\n      // TODO(jessi) handle error\n    });\n  }\n\n  async function deleteAccount() {\n    await FirebaseService.deleteUser().then((res) => {\n      if (res) {\n        props.history.push(\"/\");\n        props.updateUser(undefined);\n      }\n      // TODO(jessi) handle error\n    });\n  }\n\n  if (props.user && displayName === null && userInterests === null) {\n    setDisplayName(props.user.displayName)\n    setUserInterests(props.user.interests)\n  }\n\n  if (props.user) {\n    return (\n      <div className=\"userProfile\">\n        <CssBaseline />\n        <Typography className=\"center\" variant=\"h3\" component=\"h3\">\n          User Profile\n        </Typography>\n        <Container className=\"userProfile-bottom-padding\" maxWidth=\"lg\">\n          <Paper className=\"paper\">\n\n            <UserProfileSection\n              isEditable={true}\n              displayValue=\"User Interests\"\n              value={userInterests}\n              handleClose={handleUserInterestsDialogClose}\n              handleSubmit={handleUserInterestSubmit}\n              isDialogOpen={isUserInterestsDialogOpen}\n              openDialog={openUserInterestDialog}\n              onChange={onUserInterestsChange}\n              isEditable={true}\n            ></UserProfileSection>\n\n          </Paper>\n        </Container>\n        <Divider />\n\n\n        <Container maxWidth=\"lg\">\n          <Paper className=\"paper\">\n\n            <UserProfileSection\n              isEditable={true}\n              displayValue=\"Display Name\"\n              value={displayName}\n              handleClose={handleDisplayNameClose}\n              handleSubmit={handleDisplayNameSubmit}\n              isDialogOpen={isDisplayNameDialogOpen}\n              openDialog={openDisplayNameDialog}\n              onChange={onDisplayNameChange}\n            />\n            <Divider />\n            <UserProfileSection \n              isEditable={false} \n              displayValue=\"Email\" \n              value={props.user.email}\n            />\n            <Divider />\n            <div className=\"logout-btns\">\n              <Button color=\"inherit\" className=\"menu-button\" onClick={signOut}>\n                Sign out\n              </Button>\n              <Button color=\"inherit\" className=\"menu-button\" onClick={deleteAccount}>\n                Delete account\n              </Button>\n            </div>\n          </Paper>\n        </Container>\n      </div>\n    );\n  } else {\n    return (\n      <div>\n        Loading..\n        <CircularProgress></CircularProgress>\n      </div>\n    )\n  }\n\n}\n\nexport default withRouter(UserProfile);\n","import React, { useState } from 'react';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Button } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\n\nfunction CreateCourseDialog(props) {\n  const [description, setDescription] = useState();\n  const [title, setTitle] = useState();\n\n\n  function onCourseTitleChange(e) {\n    setTitle(e.target.value);\n  }\n\n  function onCourseDescriptionChange(e) {\n    setDescription(e.target.value);\n\n  }\n\n  function handleSubmit() {\n\n    const courseDetails = {\n      title,\n      description\n    }\n\n    props.handleSubmit(courseDetails);\n  }\n\n\n  return (\n    <div>\n      <Dialog open={props.isOpen} onClose={props.handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Create A New Course</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Create a new course. Start by entering a title and description below!\n            </DialogContentText>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"title\"\n            label=\"Course Title\"\n            onChange={onCourseTitleChange}\n            type=\"text\"\n            color=\"secondary\"\n            fullWidth\n          />\n          <TextField\n            margin=\"dense\"\n            id=\"description\"\n            label=\"Course Description\"\n            onChange={onCourseDescriptionChange}\n            type=\"text\"\n            color=\"secondary\"\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={props.handleClose} color=\"secondary\">\n            Cancel\n            </Button>\n          <Button onClick={handleSubmit} color=\"secondary\">\n            Submit\n            </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  )\n}\n\nexport default CreateCourseDialog","import React, { useState } from 'react';\nimport './CreateCourse.css';\nimport { Button } from '@material-ui/core';\n\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport Divider from '@material-ui/core/Divider';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { withRouter } from \"react-router-dom\";\nimport * as FirebaseService from '../../service/firebase.service';\nimport CreateCourseDialog from './CreateCourseDialog/CreateCourseDialog.component';\nimport CoursesDropdownComponent from '../CoursesDropdown/CoursesDropdown.component';\nimport { useHistory } from \"react-router-dom\";\n\n\nfunction CreatedCoursesComponent(props) {\n\n  return (\n    <div className=\"courses-section\">\n      <h1> Courses You've Created </h1>\n      <CoursesDropdownComponent courses={props.createdCourses} includeEditIcon={true}></CoursesDropdownComponent>\n    </div>\n  )\n}\n\nfunction CreateCourse(props) {\n  const [isCreateCourseDialogOpen, setIsCreateCourseDialogOpen] = useState(false);\n  const history = useHistory();\n\n\n  function handleCreateCourseDialogClose() {\n    setIsCreateCourseDialogOpen(false);\n  }\n\n  function openCreateCourseDialog() {\n    setIsCreateCourseDialogOpen(true);\n\n  }\n\n  async function handleSubmit(courseInfo) {\n    courseInfo.owner = props.user.id;\n\n    const chapter = {\n      id: 0,\n      lessons: \"Course/rlfxOavBn4nPZLNTRMkL/Lessons/kL5CwNARpoUhexocK7P4\",\n      sectionTitle: `${courseInfo.title} - Section`\n    }\n\n    courseInfo.chapters = []\n    courseInfo.chapter = chapter;\n    // courseInfo.chapters.push(chapter);\n\n    const response = await FirebaseService.createCourse(props.user, courseInfo)\n    setIsCreateCourseDialogOpen(false);\n    await props.updateCourses();\n    await props.updateUser(props.user.id);\n    // Navigate to Edit Course page\n    history.push(`/editCourse/${props.user.createdCoursesRefs[props.user.createdCoursesRefs.length - 1].id}`)\n  }\n\n  const hasCurrentCourses = false\n  let currnetCoursesSection = null;\n  if (props.user && props.user.createdCourses && props.user.createdCourses.length > 0) {\n    currnetCoursesSection = <CreatedCoursesComponent createdCourses={props.user.createdCourses}></CreatedCoursesComponent>\n  } else {\n    currnetCoursesSection = <h3>You have not created any courses</h3>\n  }\n\n\n  return (\n    <div className=\"Home\">\n      <CssBaseline />\n      <Typography className=\"center\" variant=\"h3\" component=\"h3\">\n        Create A Course\n        </Typography>\n      <Container className=\"userProfile-bottom-padding\" maxWidth=\"lg\">\n        <Paper className=\"paper\">\n          {\n            currnetCoursesSection\n          }\n          <span>\n            <Button variant=\"contained\" color=\"secondary\" onClick={openCreateCourseDialog}>\n              Create New Course\n              </Button>\n          </span>\n        </Paper>\n      </Container>\n      <Divider />\n\n      <CreateCourseDialog\n        isOpen={isCreateCourseDialogOpen}\n        handleClose={handleCreateCourseDialogClose}\n        handleSubmit={handleSubmit}\n        user={props.user}\n      />\n\n\n    </div>\n  );\n}\n\nexport default CreateCourse;\n","import React, { useState, useEffect } from 'react';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { Button } from '@material-ui/core';\nimport './CourseChapterPanel.css';\n\nfunction CourseChapterPanel(props) {\n\n    function listItemClicked(lesson) {\n        props.setChapterInContext(props.chapter);\n        props.setActiveLesson(lesson);\n    }\n\n    let lessonItems = []\n\n    const lessonsLength = props.chapter?.lessons?.length;\n    if (lessonsLength > 0) {\n        lessonItems = props.chapter.lessons.map(lesson => {\n            const isActiveLesson = (lesson === props.activeLesson);\n\n            return (\n                <ListItem selected={isActiveLesson} onClick={() => listItemClicked(lesson)} id={lesson.id} button>\n                    <ListItemText primary={lesson.title} />\n                </ListItem>\n            )\n        });\n    } else {\n        lessonItems[0] = <ListItem> <ListItemText primary=\"No Lessons Added\" /> </ListItem>\n    }\n\n\n    function openLessonModal() {\n        props.setChapterInContext(props.chapter);\n        props.openLessonModal(true);\n    }\n\n    let addNewLessonButton;\n\n    if (props.editable) {\n        addNewLessonButton = <Button variant=\"contained\" onClick={openLessonModal} color=\"secondary\" className=\"add-content-btn\"> Add New Lesson </Button>\n    }\n\n\n    return (\n        <ExpansionPanel\n            defaultExpanded={props.chapter === props.chapterInContext}\n        >\n            <ExpansionPanelSummary\n                expandIcon={<ExpandMoreIcon />}\n                aria-controls=\"panel1a-content\"\n                id=\"panel1a-header\"\n            >\n                <Typography variant=\"subtitle2\">{props.chapter.title}</Typography>\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails>\n                \n                <List dense=\"true\" className=\"lessons-list\">\n                    {lessonItems}\n                    {addNewLessonButton}\n                </List>\n\n            </ExpansionPanelDetails>\n        </ExpansionPanel>\n    )\n}\n\nexport default CourseChapterPanel;","import React from 'react';\nimport './CourseNavigationPane.css';\nimport Paper from '@material-ui/core/Paper';\nimport { Button } from '@material-ui/core';\n\nimport CourseChapterPanel from './CourseChapterPanel/CourseChapterPanel.component';\n\n\n/**\n * Generate multiple function\n */\n\n\nfunction generate(element) {\n  return [0, 1, 2].map(value =>\n    React.cloneElement(element, {\n      key: value,\n    }),\n  );\n}\n\n\n\n\nfunction CourseNavigationPane(props) {\n\n  function setChapterInContext(chapter) {\n    props.setChapterInContext(chapter);\n  }\n\n  const courseOverviewClicked = () => {\n    props.setActiveLesson(undefined);\n    props.setChapterInContext(undefined);\n  }\n\n  let courseNavigationPanels = []\n  const chaptersLength = props.course?.chapters?.length;\n\n  if (chaptersLength > 0) {\n    courseNavigationPanels = props.course.chapters.map(chapter =>\n      <CourseChapterPanel editable={props.editable} setActiveLesson={props.setActiveLesson} activeLesson={props.activeLesson} openLessonModal={props.openLessonModal} chapterInContext={props.chapterInContext} setChapterInContext={setChapterInContext} chapter={chapter} />\n    )\n  }\n  \n  let addNewChapterButton;\n  if(props.editable){\n   addNewChapterButton = <Button variant=\"contained\" onClick={props.openCreateChapterDialog} color=\"secondary\"> Add New Chapter </Button> \n  }\n\n\n  return (\n    <Paper className=\"paper\">\n      <Button id=\"course-overview\"\n        onClick={courseOverviewClicked}>\n        <h1>{props.course.title}</h1>\n      </Button>\n      {courseNavigationPanels}\n      {addNewChapterButton}\n    </Paper>\n  )\n}\n\nexport default CourseNavigationPane;","import React from 'react';\nimport YouTube from 'react-youtube';\nimport { Button } from '@material-ui/core';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\n\n// Youtube Constants\n\nconst YoutubeComponentConfig = {\n    opts: {\n        height: '390',\n        width: '640',\n        playerVars: {\n            autoplay: 0,\n        },\n    },\n    videoId: \"BKorP55Aqvg\"\n\n}\n\n\nfunction EditCourseLesson(props) {\n\n    function _onReady(event) {\n        // access to player in all event handlers via event.target\n        event.target.pauseVideo();\n    }\n\n\n    function goToPreviousLesson() {\n        props.navigateToPreviousLesson(props.lesson);\n    }\n\n    function goToNextLesson() {\n        props.navigateToNextLesson(props.lesson);\n    }\n\n    function getButtonDiv() {\n        if (props.isFirstLesson && props.isLastLesson) {\n            return '';\n        }\n\n        let leftButton, rightButton;\n\n        if (props.nextLesson || props.nextChapter) {\n            leftButton =\n                <Button variant=\"contained\" onClick={goToNextLesson} className=\"next-button\" color=\"secondary\" endIcon={<ArrowForwardIosIcon />}>\n                    {props.nextLesson ? \"Next Lesson\" : \"Next Chapter\"}\n                </Button>\n        }\n\n        if (props.prevLesson || props.prevChapter) {\n            rightButton =\n                <Button variant=\"contained\" onClick={goToPreviousLesson} className=\"previous-button\" color=\"secondary\" startIcon={<ArrowBackIosIcon />}>\n                    {props.prevLesson ? \"Previous Lesson\" : \"Previous Chapter\"}\n                </Button>\n        }\n\n        return (\n            <div className=\"button-div\">\n                {leftButton}\n                {rightButton}\n            </div>\n        )\n    }\n\n    function getVideoConfig() {\n        const youtubeConfig = { ...YoutubeComponentConfig };\n        const url = props.lesson?.video;\n        if (url && url.includes(\"youtube\") && (url.includes(\"v=\"))) {\n            const myParamters = url.split(\"?\");\n            var searchParams = new URLSearchParams(myParamters[1]);\n            youtubeConfig.videoId = searchParams.get('v');\n        }\n        return youtubeConfig;\n    }\n\n    if (props.lesson) {\n        const youtubeConfig = getVideoConfig();\n\n        return (\n            <div>\n                <h3>{props.lesson.title}</h3>\n                <h6>Link: {props.lesson.video}</h6>\n                <strong>Description: </strong>\n                <p>{props.lesson.description}</p>\n                <YouTube videoId={youtubeConfig.videoId} opts={youtubeConfig.opts} onReady={_onReady} />\n                {getButtonDiv()}\n            </div>\n        )\n    } else {\n        return (\n            <div>\n                <h5> No Lesson Details </h5>\n            </div>\n        )\n    }\n}\n\nexport default EditCourseLesson;","import React from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport CourseLesson from './CourseLesson/CourseLesson.component';\nimport { Button } from '@material-ui/core';\nimport { Editor } from 'react-draft-wysiwyg';\nimport { EditorState, convertFromRaw, ContentState } from \"draft-js\";\n\nimport './CourseOverviewPane.css'\n\n\n\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\n\nfunction CourseOverviewPane(props) {\n\n    let lessonArray = [];\n    for (let i = 0; i < props.course.chapters.length; i++) {\n        for (let j = 0; j < props.course.chapters[i].lessons?.length; j++) {\n            lessonArray.push(props.course.chapters[i].lessons[j]);\n        }\n    }\n\n    function navigateToNextLesson(lesson) {\n        console.log(\"NAVIGATE TO NEXT LESSON FROM: \", lesson);\n        const indexOfCurrentLesson = props.activeChapter.lessons.indexOf(lesson);\n        if (indexOfCurrentLesson !== props.activeChapter.lessons.length - 1) {\n            props.setActiveLesson(props.activeChapter.lessons[indexOfCurrentLesson + 1]);\n            return;\n        } else {\n            const activeChapterIndex = props.course.chapters.indexOf(props.activeChapter);\n            const nextChapter = props.course.chapters[activeChapterIndex + 1];\n            props.setChapterInContext(nextChapter);\n            props.setActiveLesson(nextChapter.lessons[0]);\n        }\n    }\n\n    function navigateToPreviousLesson(lesson) {\n        console.log(\"NAVIGATE TO PREVIOUS LESSON FROM: \", lesson);\n        const indexOfCurrentLesson = props.activeChapter.lessons.indexOf(lesson);\n\n        if (indexOfCurrentLesson !== 0) {\n            props.setActiveLesson(props.activeChapter.lessons[indexOfCurrentLesson - 1]);\n            return;\n        } else {\n            const activeChapterIndex = props.course.chapters.indexOf(props.activeChapter);\n            const prevChapter = props.course.chapters[activeChapterIndex - 1];\n            props.setChapterInContext(prevChapter);\n            props.setActiveLesson(prevChapter.lessons[prevChapter.lessons.length - 1]);\n        }\n\n    }\n\n\n    let openEditCourseOverviewDialogButton;\n    if (props.editable) {\n        openEditCourseOverviewDialogButton = <Button onClick={props.openEditCourseOverviewDialog} color=\"secondary\" variant=\"contained\"> Edit Overview </Button>\n    }\n\n    let content = undefined;\n    if (props.course.overview) {\n        const contentStateObj = JSON.parse(props.course.overview);\n        const editorState = EditorState.createWithContent(convertFromRaw(contentStateObj));\n        content = <Editor\n            toolbarHidden\n            editorState={editorState}\n            readOnly={true}\n        />\n    }\n    else {\n        content = <Editor\n            toolbarHidden\n            editorState={EditorState.createWithContent(ContentState.createFromText(\"No text entered.\"))}\n            readOnly={true}\n        />\n    }\n\n    function getLessonInformation() {\n        let prevLesson, nextLesson, prevChapter, nextChapter = false;\n\n        const currentLessonIndex = lessonArray.indexOf(props.activeLesson);\n        const currentLessonIndexInChapter = props.activeChapter.lessons.indexOf(props.activeLesson);\n        const numLessonsInChapter = props.activeChapter.lessons.length;\n        const numChapters = props.course.chapters.length;\n        const activeChapterIndex = props.course.chapters.indexOf(props.activeChapter);\n\n        prevLesson = currentLessonIndexInChapter > 0;\n        nextLesson = currentLessonIndexInChapter < numLessonsInChapter - 1;\n        prevChapter = currentLessonIndexInChapter === 0 && currentLessonIndex > 0\n        nextChapter = currentLessonIndexInChapter === numLessonsInChapter - 1\n            && currentLessonIndex < lessonArray.length - 1\n            && activeChapterIndex !== numChapters - 1;\n\n        return [prevLesson, nextLesson, prevChapter, nextChapter]\n    }\n\n\n    let prevLesson, nextLesson, prevChapter, nextChapter = false;\n    if (props.activeLesson) {\n        [prevLesson, nextLesson, prevChapter, nextChapter] = getLessonInformation();\n    }\n\n    return (\n        <Paper className=\"paper\">\n            {props.activeChapter ?\n                <div>\n                    <h2>Chapter: {props.activeChapter.title}</h2>\n                    <CourseLesson\n                        navigateToNextLesson={navigateToNextLesson}\n                        navigateToPreviousLesson={navigateToPreviousLesson}\n                        prevLesson={prevLesson}\n                        nextLesson={nextLesson}\n                        prevChapter={prevChapter}\n                        nextChapter={nextChapter}\n                        lesson={props.activeLesson}\n                    />\n                </div> :\n                <div>\n                    {content}\n                    {openEditCourseOverviewDialogButton}\n                </div>\n            }\n        </Paper>\n    )\n}\n\nexport default CourseOverviewPane;","import React, { useState } from 'react';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Button } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\n\nfunction CreateChapterDialog(props) {\n  const [description, setDescription] = useState();\n  const [title, setTitle] = useState();\n\n\n  function onCourseTitleChange(e) {\n    setTitle(e.target.value);\n  }\n\n  function onCourseDescriptionChange(e) {\n    setDescription(e.target.value);\n\n  }\n\n  function handleSubmit(e) {\n    const chapterInfo = {\n      title,\n      description\n    }\n\n    props.handleSubmit(chapterInfo);\n  }\n\n\n  return (\n    <div>\n      <Dialog open={props.isOpen} onClose={props.handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Create New Chapter</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Create a new chapter within your course. Enter a title and description below.\n            </DialogContentText>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"title\"\n            label=\"Chapter Title\"\n            onChange={onCourseTitleChange}\n            type=\"text\"\n            color=\"secondary\"\n            fullWidth\n          />\n          <TextField\n            margin=\"dense\"\n            id=\"description\"\n            label=\"Chapter Description\"\n            onChange={onCourseDescriptionChange}\n            type=\"text\"\n            color=\"secondary\"\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={props.handleClose} color=\"secondary\">\n            Cancel\n            </Button>\n          <Button onClick={handleSubmit} color=\"secondary\">\n            Submit\n            </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  )\n}\n\nexport default CreateChapterDialog","import React, { useState } from 'react';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Button } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\n\nfunction CreateLessonDialog(props) {\n  const [description, setDescription] = useState();\n  const [title, setTitle] = useState();\n  const [video, setVideo] = useState();\n\n\n\n  function onCourseTitleChange(e) {\n    setTitle(e.target.value);\n  }\n\n  function onCourseDescriptionChange(e) {\n    setDescription(e.target.value);\n\n  }\n\n  function onVideoUrlChange(e) {\n    setVideo(e.target.value);\n  }\n\n\n\n  function handleSubmit(e) {\n    const lessonInfo = {\n      title,\n      description,\n      video\n    }\n    props.addNewLesson(lessonInfo);\n\n  }\n\n  return (\n    <div>\n      <Dialog open={props.isOpen} onClose={props.handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Create New Lesson</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Add a new lesson to your course\n            </DialogContentText>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"title\"\n            label=\"Lesson Title\"\n            onChange={onCourseTitleChange}\n            type=\"text\"\n            color=\"secondary\"\n            fullWidth\n          />\n          <TextField\n            margin=\"dense\"\n            id=\"description\"\n            label=\"Lesson Description\"\n            onChange={onCourseDescriptionChange}\n            type=\"text\"\n            color=\"secondary\"\n            fullWidth\n          />\n          <TextField\n            margin=\"dense\"\n            id=\"video\"\n            label=\"Video URL\"\n            onChange={onVideoUrlChange}\n            type=\"text\"\n            color=\"secondary\"\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={props.handleClose} color=\"secondary\">\n            Cancel\n            </Button>\n          <Button onClick={handleSubmit} color=\"secondary\">\n            Submit\n            </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  )\n}\n\nexport default CreateLessonDialog","import React, { useState, useEffect } from 'react';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Button } from '@material-ui/core';\nimport { Editor } from 'react-draft-wysiwyg';\nimport { EditorState, convertFromRaw, convertToRaw, RichUtils } from 'draft-js';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\n\nfunction EditCourseOverviewDialog(props) {\n  const [overview, setOverview] = useState();\n  const [contentState, setContentState] = useState(props.course.overview);\n  const [editorState, setEditorState] = useState();\n\n  function handleSubmit(e) {\n    const currentContentState = editorState.getCurrentContent();\n    setContentState(convertToRaw(currentContentState));\n    props.updateCourseOverview(convertToRaw(currentContentState));\n  }\n\n  useEffect(() => {\n    if (contentState) {\n      setEditorState(EditorState.createWithContent(convertFromRaw(JSON.parse(contentState))));\n    }\n    else {\n      setEditorState(EditorState.createEmpty());\n    }\n  }, []);\n\n  function onEditorStateChange(editorState) {\n    setEditorState(editorState);\n  };\n\n  function handleKeyCommand(command) {\n    const newState = RichUtils.handleKeyCommand(editorState, command);\n    if (newState) {\n      setEditorState(newState);\n      return 'handled';\n    }\n    return 'not-handled';\n  };\n\n  return (\n\n\n    <div>\n      <Dialog open={props.isOpen} onClose={props.handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Edit Course Overview</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Edit course information, providing students with a basic description of the class and learning objectives.\n            </DialogContentText>\n          <Editor\n            editorState={editorState}\n            editorClassName=\"editor-textbox\"\n            handleKeyCommand={handleKeyCommand}\n            onEditorStateChange={onEditorStateChange}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={props.handleClose} color=\"secondary\">\n            Cancel\n            </Button>\n          <Button onClick={handleSubmit} color=\"secondary\">\n            Submit\n            </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  )\n}\n\nexport default EditCourseOverviewDialog","import React, { useEffect, useState } from 'react';\nimport './CourseOverview.css';\nimport {\n    Link as RouterLink,\n    useParams\n} from \"react-router-dom\";\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { withRouter } from \"react-router-dom\";\nimport { Button } from '@material-ui/core';\nimport * as FirebaseService from '../../service/firebase.service';\nimport CourseNavigationPane from './CourseNavigationPane/CourseNavigationPane.component';\n\nimport CourseOverviewPane from './CourseOverviewPane/CourseOverviewPane.component';\nimport CreateChapterDialog from './Dialogs/CreateChapterDialog/CreateChapterDialog.component';\nimport CreateLessonDialog from './Dialogs/CreateLessonDialog/CreateLessonDialog.component';\nimport EditCourseOverviewDialog from './Dialogs/EditCourseOverviewDialog/EditCourseOverviewDialog.component';\n\nfunction CourseOverview(props) {\n    // Get ID from Route Params\n    let { id } = useParams();\n    // Create State Variables\n    const [course, setCourse] = useState();\n    const [error, setError] = useState();\n    const [isCreateChapterDialogOpen, setIsCreateChapterDialogOpen] = useState(false);\n    const [isCreateLessonDialogOpen, setIsCreateLessonDialogOpen] = useState(false);\n    const [isEditCourseOverviewDialogOpen, setIsEditCourseOverviewDialogOpen] = useState(false);\n    const [chapterInContext, setChapterInContext] = useState();\n    const [activeLesson, setActiveLesson] = useState();\n\n\n    function handleCreateChapterClose() {\n        setIsCreateChapterDialogOpen(false);\n    }\n\n    function openCreateChapterDialog() {\n        setIsCreateChapterDialogOpen(true);\n    }\n\n    function handleCreateLessonDialogClose() {\n        setIsCreateLessonDialogOpen(false);\n    }\n\n    function openCreateLessonDialog() {\n        setIsCreateLessonDialogOpen(true);\n    }\n\n    function handleEditCourseOverviewDialogClose() {\n        setIsEditCourseOverviewDialogOpen(false);\n    }\n\n    function openEditCourseOverviewDialog() {\n        setIsEditCourseOverviewDialogOpen(true);\n    }\n\n    function viewPublished() {\n        // ensure course overview\n        setActiveLesson(undefined);\n        setChapterInContext(undefined);\n        // navigate\n        props.history.push(`/courseOverview/${course.id}`);\n    }\n\n\n    async function addNewLesson(lessonInfo) {\n        setIsCreateLessonDialogOpen(false);\n        await FirebaseService.addNewLesson(course, chapterInContext, lessonInfo);\n        getCourseById(id);\n    }\n\n    async function updateCourseOverview(overview) {\n        setIsEditCourseOverviewDialogOpen(false);\n        console.log(overview)\n        await FirebaseService.updateCourseOverview(course, overview);\n        getCourseById(id);\n    }\n\n    async function addNewChapter(chapterInfo) {\n        await FirebaseService.addNewChapter(course, chapterInfo);\n        getCourseById(id);\n        setIsCreateChapterDialogOpen(false);\n    }\n\n\n    async function resolveLessons(chapter) {\n        const lessonsRefLength = chapter.lessonsRef?.length;\n        if (lessonsRefLength > 0) {\n            return Promise.all(\n                chapter.lessonsRef.map(async lessonRef => {\n                    const lesson = await FirebaseService.getDocFromDocRef(lessonRef)\n                    return lesson;\n                })\n            ).then(results => {\n                chapter.lessons = results;\n                return chapter;\n            });\n\n        } else {\n            return Promise.resolve(chapter);\n        }\n    }\n\n    async function resolveChapters(chapters) {\n        return Promise.all(chapters.map(chapter => resolveLessons(chapter)))\n    }\n\n    async function getCourseById(id) {\n        const course = await FirebaseService.getCourseByIdEvaluatePromise(id);\n        course.chapters = await resolveChapters(course.chapters);\n        setCourse(course);\n        console.log(course)\n    }\n\n    useEffect(() => {\n        if (id) {\n            getCourseById(id);\n        }\n    }, [id]);\n\n    let dialogs;\n    let viewPublishedCourseButton;\n    if (props.editable) {\n        dialogs = <div>\n            <CreateChapterDialog isOpen={isCreateChapterDialogOpen} handleSubmit={addNewChapter} handleClose={handleCreateChapterClose} />\n            <CreateLessonDialog isOpen={isCreateLessonDialogOpen} addNewLesson={addNewLesson} handleClose={handleCreateLessonDialogClose} />\n            <EditCourseOverviewDialog isOpen={isEditCourseOverviewDialogOpen} updateCourseOverview={updateCourseOverview} handleClose={handleEditCourseOverviewDialogClose} course={course} />\n        </div>\n\n        viewPublishedCourseButton = <Button variant=\"contained\" color=\"secondary\" onClick={viewPublished}> View Published Course </Button>\n    }\n\n\n\n    if (course) {\n        return (\n            <div className=\"edit-course\">\n                <Grid container spacing={3}>\n                    <Grid item xs={4}>\n                        <CourseNavigationPane editable={props.editable} activeLesson={activeLesson} setActiveLesson={setActiveLesson} openLessonModal={openCreateLessonDialog} chapterInContext={chapterInContext} setChapterInContext={setChapterInContext} course={course} openCreateChapterDialog={openCreateChapterDialog} />\n                    </Grid>\n                    <Grid item xs={8}>\n                        <CourseOverviewPane setActiveLesson={setActiveLesson} setChapterInContext={setChapterInContext} editable={props.editable} activeChapter={chapterInContext} activeLesson={activeLesson} course={course} openEditCourseOverviewDialog={openEditCourseOverviewDialog} />\n                    </Grid>\n                    {viewPublishedCourseButton}\n                </Grid>\n                {dialogs}\n            </div>\n        );\n    } else {\n        return (\n            <div>\n                Loading...\n                <CircularProgress></CircularProgress>\n            </div>\n        )\n    }\n\n\n}\n\nexport default withRouter(CourseOverview);","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { AppBar, Toolbar, IconButton, Typography, Button, } from '@material-ui/core';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link as RouterLink,\n  Redirect\n} from \"react-router-dom\";\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport CourseLibrary from './components/CourseLibrary/CourseLibrary';\nimport Login from './components/Login/Login';\nimport MyCourses from './components/MyCourses/MyCourses';\nimport UserProfile from './components/UserProfile/UserProfile';\nimport CreateCourse from './components/CreateCourse/CreateCourse.component';\nimport CourseOverview from './components/CourseOverview/CourseOverview.component';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\nimport * as FirebaseService from '../src/service/firebase.service'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: { // peaches\n      light: '#f44336',\n      main: '#f6eee7',\n      dark: '#dbbca1',\n    },\n    secondary: {  // purples\n      light: '#a17da5',\n      main: '#87618c',\n      dark: '#442b4a',\n    },\n  },\n  typography: {\n    useNextVariants: true\n  },\n  overrides: {\n    MuiButton: {\n      root: {\n        textTransform: 'none',\n      },\n    },\n  },\n})\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      courses: [],\n      users: [],\n      currentUser: undefined,\n      loadingUser: true\n    };\n    this.fetchCourses = this.fetchCourses.bind(this);\n    this.fetchUsers = this.fetchUsers.bind(this);\n    this.render = this.render.bind(this);\n    this.updateUser = this.updateUser.bind(this);\n    this.setUser = this.setUser.bind(this);\n    this.getUserOnLoad = this.getUserOnLoad.bind(this);\n    this.fetchCourses().then(() => {\n      this.getUserOnLoad();\n    });\n  }\n\n  async updateUser(userId) {\n    if (!userId) {\n      this.setState({ currentUser: undefined });\n      this.setState({ loadingUser: false });\n      return;\n    }\n    await FirebaseService.getUserById(userId)\n      .then(result => {\n        const user = result.data();\n\n        if (user.createdCoursesRefs && user.createdCoursesRefs.length > 0) {\n\n          const newCourses = user.createdCoursesRefs\n            .map(courseRef => this.state.courses.find(course => course.id === courseRef.id));\n\n          user.createdCourses = user.createdCoursesRefs\n            .map(courseRef => this.state.courses.find(course => course.id === courseRef.id));\n        }\n\n        if (user.pastCoursesRefs && user.pastCoursesRefs.length > 0) {\n          user.pastCourses = user.pastCoursesRefs\n            .map(courseRef => this.state.courses.find(course => course.id === courseRef.id));\n        }\n\n        if (user.favoritedCoursesRefs && user.favoritedCoursesRefs.length > 0) {\n          user.favoritedCourses = user.favoritedCoursesRefs\n            .map(courseRef => this.state.courses.find(course => course.id === courseRef.id));\n        }\n\n        this.setState({ currentUser: user });\n        this.setState({ loadingUser: false });\n\n      })\n  }\n\n  getUserOnLoad() {\n    let user = FirebaseService.getCurrentUser();\n    if (user) {\n      this.updateUser(user.uid);\n    } else if (document.cookie.split(';').some((item) => item.trim().startsWith('userid='))) {\n      var cookieValue = document.cookie.replace(/(?:(?:^|.*;\\s*)userid\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\");\n      this.updateUser(cookieValue);\n    } else {\n      this.updateUser(undefined);\n    }\n  }\n\n  setUser(user) {\n    this.updateUser(user.id);\n    document.cookie = `userid=${user.id}`;\n  }\n\n  async fetchCourses() {\n    let courses = [];\n    await FirebaseService.getAllCourses().then((queryResults) => {\n      queryResults.forEach((doc) => {\n        const course = doc.data();\n        const courseId = doc.id;\n        course.owner.get().then(user => {\n          course.owner = user.data();\n        })\n        // course.chapter.lessons.get().then(lesson => {\n        //   course.chapter.lessons = lesson.data();\n        // })\n        course.id = courseId\n        courses.push(course);\n        this.setState({ courses: courses });\n      });\n    });\n  }\n\n  async fetchUsers() {\n    let users = [];\n    await FirebaseService.getAllUsers()\n      .then((queryResults) => {\n        queryResults.forEach((doc) => {\n          const user = doc.data();\n          user.id = doc.id;\n          users.push(user);\n          this.setState({\n            users\n          })\n        })\n      })\n  }\n\n  render() {\n\n    // If not logged in redirect to the login page with redirect info. Url will\n    // briefly flash to login while we figure out if we have a user.\n    const PrivateRoute = ({ isLoggedIn, ...props }) =>\n      this.state.currentUser\n        ? <Route {...props} />\n        : <Redirect to={{\n          pathname: '/login',\n          state: { from: props.location }\n        }} />\n\n    return (\n      <MuiThemeProvider theme={theme}>\n        <Router>\n          <div>\n            <nav hidden={!this.state.currentUser}>\n              <AppBar position=\"static\">\n                <Toolbar>\n                  <Button variant=\"contained\" color=\"secondary\" className=\"menu-button main\" component={RouterLink} to=\"/courseLibrary\">All Courses</Button>\n                  <Button variant=\"contained\" color=\"secondary\" className=\"menu-button main\" component={RouterLink} to=\"/myCourses\">My Courses</Button>\n                  <Button variant=\"outlined\" color=\"secondary\" className=\"menu-button align-left\" component={RouterLink} to=\"/createCourse\">Create a Course</Button>\n                  <IconButton className=\"menu-button profile-icon\" component={RouterLink} to=\"/profile\" color=\"inherit\" aria-label=\"menu\">\n                    <AccountCircleIcon />\n                  </IconButton>\n                </Toolbar>\n              </AppBar>\n            </nav>\n\n            {/* A <Switch> looks through its children <Route>s and\n                renders the first one that matches the current URL. */}\n            <Switch>\n              <Route exact path=\"/login\">\n                <Login completeLogin={this.setUser} user={this.state.currentUser} loadingUser={this.state.loadingUser} />\n              </Route>\n              <PrivateRoute path=\"/(courseLibrary|)\">\n                <CourseLibrary courses={this.state.courses} user={this.state.currentUser} updateUser={this.updateUser} />\n              </PrivateRoute>\n              <PrivateRoute path=\"/courseOverview/:id\">\n                <CourseOverview editable={false} user={this.state.currentUser}></CourseOverview>\n              </PrivateRoute>\n              <PrivateRoute path=\"/myCourses\">\n                <MyCourses user={this.state.currentUser}></MyCourses>\n              </PrivateRoute>\n              <PrivateRoute path=\"/profile\">\n                <UserProfile user={this.state.currentUser} updateUser={this.updateUser}></UserProfile>\n              </PrivateRoute>\n              <PrivateRoute path=\"/createCourse\">\n                <CreateCourse user={this.state.currentUser} updateUser={this.updateUser} updateCourses={this.fetchCourses}></CreateCourse>\n              </PrivateRoute>\n              <PrivateRoute path=\"/editCourse/:id\">\n                <CourseOverview editable={true} user={this.state.currentUser}></CourseOverview>\n              </PrivateRoute>\n            </Switch>\n          </div>\n        </Router>\n      </MuiThemeProvider>\n    )\n  }\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}